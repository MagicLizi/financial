/*
 AngularJS v1.5.8
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/

/**
 * State-based routing for AngularJS
 * @version v0.3.1
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

/*
 AngularJS v1.5.0-beta.0
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/

/* Zepto v1.1.6 - zepto event ajax form ie - zeptojs.com/license */

/*	SWFObject v2.2 <http://code.google.com/p/swfobject/> 
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/

/* PDFObject, copyright (C) 2008 Philip Hutchison (pipwerks.com). Documentation and examples are at www.pdfobject.com. Version 1.2, April 2011. MIT style license */

/*
	 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
	 * Digest Algorithm, as defined in RFC 1321.
	 * Version 2.1 Copyright (C) Paul Johnston 1999 - 2002.
	 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
	 * Distributed under the BSD License
	 * See http://pajhome.org.uk/crypt/md5 for more info.
	 */

function SC_onError(e,t){$.scriptcam.SC_onError(e,t)}function SC_fileReady(e){$.scriptcam.SC_fileReady(e)}function SC_fileConversionStarted(e){$.scriptcam.SC_fileConversionStarted(e)}function SC_onMotion(e){$.scriptcam.SC_onMotion(e)}function SC_promptWillShow(){$.scriptcam.SC_promptWillShow()}function SC_onHandLeft(){$.scriptcam.SC_onHandLeft()}function SC_onHandRight(){$.scriptcam.SC_onHandRight()}function SC_onWebcamReady(e,t,n,r){$.scriptcam.SC_onWebcamReady(e,t,n,r)}function SC_onPictureAsBase64(e){$.scriptcam.SC_onPictureAsBase64(e)}function SC_connected(){$.scriptcam.SC_connected()}function SC_disconnected(){$.scriptcam.SC_disconnected()}function SC_setVolume(e){$.scriptcam.SC_setVolume(e)}function SC_onMotion(e,t,n,r,i){$.scriptcam.SC_onMotion(e,t,n,r,i)}function SC_timeLeft(e){$.scriptcam.SC_timeLeft(e)}function SC_addChatText(e){$.scriptcam.SC_addChatText(e)}function SC_userJoined(e){$.scriptcam.SC_userJoined(e)}function SC_userLeft(e){$.scriptcam.SC_userLeft(e)}(function(e){"use strict";function t(e){return function(){var t=arguments[0],n;n="["+(e?e+":":"")+t+"] http://errors.angularjs.org/1.5.8/"+(e?e+"/":"")+t;for(t=1;t<arguments.length;t++){n=n+(1==t?"?":"&")+"p"+(t-1)+"=";var r=encodeURIComponent,i;i=arguments[t],i="function"==typeof i?i.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof i?"undefined":"string"!=typeof i?JSON.stringify(i):i,n+=r(i)}return Error(n)}}function n(e){if(null==e||N(e))return!1;if(oi(e)||w(e)||Kr&&e instanceof Kr)return!0;var t="length"in Object(e)&&e.length;return E(t)&&(0<=t&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function r(e,t,i){var s,o;if(e)if(x(e))for(s in e)"prototype"==s||"length"==s||"name"==s||e.hasOwnProperty&&!e.hasOwnProperty(s)||t.call(i,e[s],s,e);else if(oi(e)||n(e)){var u="object"!=typeof e;s=0;for(o=e.length;s<o;s++)(u||s in e)&&t.call(i,e[s],s,e)}else if(e.forEach&&e.forEach!==r)e.forEach(t,i,e);else if(b(e))for(s in e)t.call(i,e[s],s,e);else if("function"==typeof e.hasOwnProperty)for(s in e)e.hasOwnProperty(s)&&t.call(i,e[s],s,e);else for(s in e)Xr.call(e,s)&&t.call(i,e[s],s,e);return e}function i(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function s(e){return function(t,n){e(n,t)}}function o(){return++si}function u(e,t,n){for(var r=e.$$hashKey,i=0,s=t.length;i<s;++i){var o=t[i];if(y(o)||x(o))for(var a=Object.keys(o),f=0,l=a.length;f<l;f++){var c=a[f],h=o[c];n&&y(h)?S(h)?e[c]=new Date(h.valueOf()):T(h)?e[c]=new RegExp(h):h.nodeName?e[c]=h.cloneNode(!0):A(h)?e[c]=h.clone():(y(e[c])||(e[c]=oi(h)?[]:{}),u(e[c],[h],!0)):e[c]=h}}return r?e.$$hashKey=r:delete e.$$hashKey,e}function a(e){return u(e,Gr.call(arguments,1),!1)}function f(e){return u(e,Gr.call(arguments,1),!0)}function l(e){return parseInt(e,10)}function c(e,t){return a(Object.create(e),t)}function h(){}function p(e){return e}function d(e){return function(){return e}}function v(e){return x(e.toString)&&e.toString!==ei}function m(e){return"undefined"==typeof e}function g(e){return"undefined"!=typeof e}function y(e){return null!==e&&"object"==typeof e}function b(e){return null!==e&&"object"==typeof e&&!ti(e)}function w(e){return"string"==typeof e}function E(e){return"number"==typeof e}function S(e){return"[object Date]"===ei.call(e)}function x(e){return"function"==typeof e}function T(e){return"[object RegExp]"===ei.call(e)}function N(e){return e&&e.window===e}function C(e){return e&&e.$evalAsync&&e.$watch}function k(e){return"boolean"==typeof e}function L(e){return e&&E(e.length)&&ui.test(ei.call(e))}function A(e){return!!e&&!!(e.nodeName||e.prop&&e.attr&&e.find)}function O(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function M(e){return Vr(e.nodeName||e[0]&&e[0].nodeName)}function _(e,t){var n=e.indexOf(t);return 0<=n&&e.splice(n,1),n}function D(e,t){function n(e,t){var n=t.$$hashKey,r;if(oi(e)){r=0;for(var s=e.length;r<s;r++)t.push(i(e[r]))}else if(b(e))for(r in e)t[r]=i(e[r]);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=i(e[r]));else for(r in e)Xr.call(e,r)&&(t[r]=i(e[r]));return n?t.$$hashKey=n:delete t.$$hashKey,t}function i(e){if(!y(e))return e;var t=o.indexOf(e);if(-1!==t)return u[t];if(N(e)||C(e))throw ni("cpws");var t=!1,r=s(e);return void 0===r&&(r=oi(e)?[]:Object.create(ti(e)),t=!0),o.push(e),u.push(r),t?n(e,r):r}function s(e){switch(ei.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(i(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return(new Uint8Array(t)).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":return t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex,t;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(x(e.cloneNode))return e.cloneNode(!0)}var o=[],u=[];if(t){if(L(t)||"[object ArrayBuffer]"===ei.call(t))throw ni("cpta");if(e===t)throw ni("cpi");return oi(t)?t.length=0:r(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),o.push(e),u.push(t),n(e,t)}return i(e)}function P(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n=typeof e,r;if(n==typeof t&&"object"==n){if(!oi(e)){if(S(e))return S(t)?P(e.getTime(),t.getTime()):!1;if(T(e))return T(t)?e.toString()==t.toString():!1;if(C(e)||C(t)||N(e)||N(t)||oi(t)||S(t)||T(t))return!1;n=ot();for(r in e)if("$"!==r.charAt(0)&&!x(e[r])){if(!P(e[r],t[r]))return!1;n[r]=!0}for(r in t)if(!(r in n)&&"$"!==r.charAt(0)&&g(t[r])&&!x(t[r]))return!1;return!0}if(!oi(t))return!1;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!P(e[r],t[r]))return!1;return!0}}return!1}function H(e,t,n){return e.concat(Gr.call(t,n))}function B(e,t){var n=2<arguments.length?Gr.call(arguments,2):[];return!x(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,H(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function j(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:N(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":C(n)&&(r="$SCOPE"),r}function F(e,t){if(!m(e))return E(t)||(t=t?2:null),JSON.stringify(e,j,t)}function I(e){return w(e)?JSON.parse(e):e}function q(e,t){e=e.replace(hi,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function R(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return t=q(t,r),n*=t-r,e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function U(e){e=Kr(e).clone();try{e.empty()}catch(t){}var n=Kr("<div>").append(e).html();try{return e[0].nodeType===mi?Vr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Vr(t)})}catch(r){return Vr(n)}}function z(e){try{return decodeURIComponent(e)}catch(t){}}function W(e){var t={};return r((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),i=e.substring(n+1)),r=z(r),g(r)&&(i=g(i)?z(i):!0,Xr.call(t,r)?oi(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function X(e){var t=[];return r(e,function(e,n){oi(e)?r(e,function(e){t.push($(n,!0)+(!0===e?"":"="+$(e,!0)))}):t.push($(n,!0)+(!0===e?"":"="+$(e,!0)))}),t.length?t.join("&"):""}function V(e){return $(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function $(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function J(e,t){var n,r,i=pi.length;for(r=0;r<i;++r)if(n=pi[r]+t,w(n=e.getAttribute(n)))return n;return null}function K(e,t){var n,i,s={};r(pi,function(t){t+="app",!n&&e.hasAttribute&&e.hasAttribute(t)&&(n=e,i=e.getAttribute(t))}),r(pi,function(t){t+="app";var r;!n&&(r=e.querySelector("["+t.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(t))}),n&&(s.strictDi=null!==J(n,"strict-di"),t(n,i?[i]:[],s))}function Q(t,n,i){y(i)||(i={}),i=a({strictDi:!1},i);var s=function(){t=Kr(t);if(t.injector()){var r=t[0]===e.document?"document":U(t);throw ni("btstrpd",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}return n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng"),r=It(n,i.strictDi),r.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),r},o=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;e&&o.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(o,""));if(e&&!u.test(e.name))return s();e.name=e.name.replace(u,""),ri.resumeBootstrap=function(e){return r(e,function(e){n.push(e)}),s()},x(ri.resumeDeferredBootstrap)&&ri.resumeDeferredBootstrap()}function G(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function Y(e){e=ri.element(e).injector();if(!e)throw ni("test");return e.get("$$testability")}function Z(e,t){return t=t||"_",e.replace(di,function(e,n){return(n?t:"")+e.toLowerCase()})}function et(){var t;if(!vi){var n=ci();(Qr=m(n)?e.jQuery:n?e[n]:void 0)&&Qr.fn.on?(Kr=Qr,a(Qr.fn,{scope:Oi.scope,isolateScope:Oi.isolateScope,controller:Oi.controller,injector:Oi.injector,inheritedData:Oi.inheritedData}),t=Qr.cleanData,Qr.cleanData=function(e){for(var n,r=0,i;null!=(i=e[r]);r++)(n=Qr._data(i,"events"))&&n.$destroy&&Qr(i).triggerHandler("$destroy");t(e)}):Kr=dt,ri.element=Kr,vi=!0}}function tt(e,t,n){if(!e)throw ni("areq",t||"?",n||"required");return e}function nt(e,t,n){return n&&oi(e)&&(e=e[e.length-1]),tt(x(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function rt(e,t){if("hasOwnProperty"===e)throw ni("badname",t)}function it(e,t,n){if(!t)return e;t=t.split(".");for(var r,i=e,s=t.length,o=0;o<s;o++)r=t[o],e&&(e=(i=e)[r]);return!n&&x(e)?B(i,e):e}function st(e){for(var t=e[0],n=e[e.length-1],r,i=1;t!==n&&(t=t.nextSibling);i++)if(r||e[i]!==t)r||(r=Kr(Gr.call(e,0,i))),r.push(t);return r||e}function ot(){return Object.create(null)}function ut(e){function n(e,t,n){return e[t]||(e[t]=n())}var r=t("$injector"),i=t("ng");return e=n(e,"angular",Object),e.$$minErr=e.$$minErr||t,n(e,"module",function(){var e={};return function(t,s,o){if("hasOwnProperty"===t)throw i("badname","module");return s&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),l}}function n(e,n){return function(r,s){return s&&x(s)&&(s.$$moduleName=t),i.push([e,n,arguments]),l}}if(!s)throw r("nomod",t);var i=[],u=[],a=[],f=e("$injector","invoke","push",u),l={_invokeQueue:i,_configBlocks:u,_runBlocks:a,requires:s,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:f,run:function(e){return a.push(e),this}};return o&&f(o),l})}})}function at(e,t){if(oi(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(y(e))for(n in t=t||{},e)if("$"!==n.charAt(0)||"$"!==n.charAt(1))t[n]=e[n];return t||e}function ft(n){a(n,{bootstrap:Q,copy:D,extend:a,merge:f,equals:P,element:Kr,forEach:r,injector:It,noop:h,bind:B,toJson:F,fromJson:I,identity:p,isUndefined:m,isDefined:g,isString:w,isFunction:x,isObject:y,isNumber:E,isElement:A,isArray:oi,version:gi,isDate:S,lowercase:Vr,uppercase:$r,callbacks:{$$counter:0},getTestability:Y,$$minErr:t,$$csp:li,reloadWithDebugInfo:G}),ii=ut(e),ii("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Yn}),e.provider("$compile",Jt).directive({a:Bs,input:Zs,textarea:Zs,form:qs,script:zo,select:Vo,style:Jo,option:$o,ngBind:no,ngBindHtml:io,ngBindTemplate:ro,ngClass:oo,ngClassEven:ao,ngClassOdd:uo,ngCloak:fo,ngController:lo,ngForm:Rs,ngHide:Bo,ngIf:po,ngInclude:vo,ngInit:go,ngNonBindable:Ao,ngPluralize:Do,ngRepeat:Po,ngShow:Ho,ngStyle:jo,ngSwitch:Fo,ngSwitchWhen:Io,ngSwitchDefault:qo,ngOptions:_o,ngTransclude:Uo,ngModel:Co,ngList:yo,ngChange:so,pattern:Qo,ngPattern:Qo,required:Ko,ngRequired:Ko,minlength:Yo,ngMinlength:Yo,maxlength:Go,ngMaxlength:Go,ngValue:to,ngModelOptions:Lo}).directive({ngInclude:mo}).directive(js).directive(co),e.provider({$anchorScroll:qt,$animate:Wi,$animateCss:$i,$$animateJs:Ui,$$animateQueue:zi,$$AnimateRunner:Vi,$$animateAsyncRun:Xi,$browser:Xt,$cacheFactory:Vt,$controller:en,$document:tn,$exceptionHandler:nn,$filter:hr,$$forceReflow:Zi,$interpolate:vn,$interval:mn,$http:cn,$httpParamSerializer:sn,$httpParamSerializerJQLike:on,$httpBackend:pn,$xhrFactory:hn,$jsonpCallbacks:as,$location:Ln,$log:An,$parse:Vn,$rootScope:Gn,$q:$n,$$q:Jn,$sce:nr,$sceDelegate:tr,$sniffer:rr,$templateCache:$t,$templateRequest:ir,$$testability:sr,$timeout:or,$window:fr,$$rAF:Qn,$$jqLite:Pt,$$HashMap:Pi,$$cookieReader:cr})}])}function lt(e){return e.replace(wi,function(e,t,n,r){return r?n.toUpperCase():n}).replace(Ei,"Moz$1")}function ct(e){return e=e.nodeType,1===e||!e||9===e}function ht(e,t){var n,i,s=t.createDocumentFragment(),o=[];if(Ni.test(e)){n=s.appendChild(t.createElement("div")),i=(Ci.exec(e)||["",""])[1].toLowerCase(),i=Li[i]||Li._default,n.innerHTML=i[1]+e.replace(ki,"<$1></$2>")+i[2];for(i=i[0];i--;)n=n.lastChild;o=H(o,n.childNodes),n=s.firstChild,n.textContent=""}else o.push(t.createTextNode(e));return s.textContent="",s.innerHTML="",r(o,function(e){s.appendChild(e)}),s}function pt(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function dt(t){if(t instanceof dt)return t;var n;w(t)&&(t=ai(t),n=!0);if(!(this instanceof dt)){if(n&&"<"!=t.charAt(0))throw xi("nosel");return new dt(t)}if(n){n=e.document;var r;t=(r=Ti.exec(t))?[n.createElement(r[1])]:(r=ht(t,n))?r.childNodes:[]}Tt(this,t)}function vt(e){return e.cloneNode(!0)}function mt(e,t){t||yt(e);if(e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;r<i;r++)yt(n[r])}function gt(e,t,n,i){if(g(i))throw xi("offargs");var s=(i=bt(e))&&i.events,o=i&&i.handle;if(o)if(t){var u=function(t){var r=s[t];g(n)&&_(r||[],n),g(n)&&r&&0<r.length||(e.removeEventListener(t,o,!1),delete s[t])};r(t.split(" "),function(e){u(e),Si[e]&&u(Si[e])})}else for(t in s)"$destroy"!==t&&e.removeEventListener(t,o,!1),delete s[t]}function yt(e,t){var n=e.ng339,r=n&&yi[n];r&&(t?delete r.data[t]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),gt(e)),delete yi[n],e.ng339=void 0))}function bt(e,t){var n=e.ng339,n=n&&yi[n];return t&&!n&&(e.ng339=n=++bi,n=yi[n]={events:{},data:{},handle:void 0}),n}function wt(e,t,n){if(ct(e)){var r=g(n),i=!r&&t&&!y(t),s=!t;e=(e=bt(e,!i))&&e.data;if(r)e[t]=n;else{if(s)return e;if(i)return e&&e[t];a(e,t)}}}function Et(e,t){return e.getAttribute?-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" "):!1}function St(e,t){t&&e.setAttribute&&r(t.split(" "),function(t){e.setAttribute("class",ai((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ai(t)+" "," ")))})}function xt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(e){e=ai(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",ai(n))}}function Tt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Nt(e,t){return Ct(e,"$"+(t||"ngController")+"Controller")}function Ct(e,t,n){9==e.nodeType&&(e=e.documentElement);for(t=oi(t)?t:[t];e;){for(var r=0,i=t.length;r<i;r++)if(g(n=Kr.data(e,t[r])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function kt(e){for(mt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Lt(e,t){t||mt(e);var n=e.parentNode;n&&n.removeChild(e)}function At(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Kr(n).on("load",t)}function Ot(e,t){var n=Mi[t.toLowerCase()];return n&&_i[M(e)]&&n}function Mt(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],s=i?i.length:0;if(s){if(m(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var u=i.specialHandlerWrapper||_t;1<s&&(i=at(i));for(var a=0;a<s;a++)n.isImmediatePropagationStopped()||u(e,n,i[a])}};return n.elem=e,n}function _t(e,t,n){n.call(e,t)}function Dt(e,t,n){var r=t.relatedTarget;r&&(r===e||Ai.call(e,r))||n.call(e,t)}function Pt(){this.$get=function(){return a(dt,{hasClass:function(e,t){return e.attr&&(e=e[0]),Et(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),xt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),St(e,t)}})}}function Ht(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):(n=typeof e,n="function"==n||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||o)():n+":"+e)}function Bt(e,t){if(t){var n=0;this.nextUid=function(){return++n}}r(e,this.put,this)}function jt(e){return e=(Function.prototype.toString.call(e)+" ").replace(Ii,""),e.match(Hi)||e.match(Bi)}function Ft(e){return(e=jt(e))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function It(e,t){function n(e){return function(t,n){if(!y(t))return e(t,n);r(t,s(e))}}function i(e,t){rt(e,"service");if(x(t)||oi(t))t=v.instantiate(t);if(!t.$get)throw qi("pget",e);return p[e+"Provider"]=t}function o(e,t){return function(){var n=E.invoke(t,this);if(m(n))throw qi("undef",e);return n}}function u(e,t,n){return i(e,{$get:!1!==n?o(e,t):t})}function a(e){tt(m(e)||oi(e),"modulesToLoad","not an array");var t=[],n;return r(e,function(e){function r(e){var t,n;t=0;for(n=e.length;t<n;t++){var r=e[t],i=v.get(r[0]);i[r[1]].apply(i,r[2])}}if(!h.get(e)){h.put(e,!0);try{w(e)?(n=ii(e),t=t.concat(a(n.requires)).concat(n._runBlocks),r(n._invokeQueue),r(n._configBlocks)):x(e)?t.push(v.invoke(e)):oi(e)?t.push(v.invoke(e)):nt(e,"module")}catch(i){throw oi(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),qi("modulerr",e,i.stack||i.message||i)}}}),t}function f(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===l)throw qi("cdep",t+" <- "+c.join(" <- "));return e[t]}try{return c.unshift(t),e[t]=l,e[t]=n(t,r)}catch(i){throw e[t]===l&&delete e[t],i}finally{c.shift()}}function i(e,n,i){var s=[];e=It.$$annotate(e,t,i);for(var o=0,u=e.length;o<u;o++){var a=e[o];if("string"!=typeof a)throw qi("itkn",a);s.push(n&&n.hasOwnProperty(a)?n[a]:r(a,i))}return s}return{invoke:function(e,t,n,r){return"string"==typeof n&&(r=n,n=null),n=i(e,n,r),oi(e)&&(e=e[e.length-1]),r=11>=Jr?!1:"function"==typeof e&&/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(e)+" "),r?(n.unshift(null),new(Function.prototype.bind.apply(e,n))):e.apply(t,n)},instantiate:function(e,t,n){var r=oi(e)?e[e.length-1]:e;return e=i(e,t,n),e.unshift(null),new(Function.prototype.bind.apply(r,e))},get:r,annotate:It.$$annotate,has:function(t){return p.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var l={},c=[],h=new Bt([],!0),p={$provide:{provider:n(i),factory:n(u),service:n(function(e,t){return u(e,["$injector",function(e){return e.instantiate(t)}])}),value:n(function(e,t){return u(e,d(t),!1)}),constant:n(function(e,t){rt(e,"constant"),p[e]=t,g[e]=t}),decorator:function(e,t){var n=v.get(e+"Provider"),r=n.$get;n.$get=function(){var e=E.invoke(r,n);return E.invoke(t,null,{$delegate:e})}}}},v=p.$injector=f(p,function(e,t){throw ri.isString(t)&&c.push(t),qi("unpr",c.join(" <- "))}),g={},b=f(g,function(e,t){var n=v.get(e+"Provider",t);return E.invoke(n.$get,n,void 0,e)}),E=b;p.$injectorProvider={$get:d(b)};var S=a(e),E=b.get("$injector");return E.strictDi=t,r(S,function(e){e&&E.invoke(e)}),E}function qt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===M(e))return t=e,!0}),t}function s(e){if(e){e.scrollIntoView();var n;n=o.yOffset,x(n)?n=n():A(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):E(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))}else t.scrollTo(0,0)}function o(e){e=w(e)?e:n.hash();var t;e?(t=u.getElementById(e))?s(t):(t=i(u.getElementsByName(e)))?s(t):"top"===e&&s(null):s(null)}var u=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||At(function(){r.$evalAsync(o)})}),o}]}function Rt(e,t){return!e&&!t?"":e?t?(oi(e)&&(e=e.join(" ")),oi(t)&&(t=t.join(" ")),e+" "+t):e:t}function Ut(e){w(e)&&(e=e.split(" "));var t=ot();return r(e,function(e){e.length&&(t[e]=!0)}),t}function zt(e){return y(e)?e:{}}function Wt(e,t,n,i){function s(e){try{e.apply(null,Gr.call(arguments,1))}finally{if(g--,0===g)for(;y.length;)try{y.pop()()}catch(t){n.error(t)}}}function o(){x=null,u(),a()}function u(){b=T(),b=m(b)?null:b,P(b,k)&&(b=k),k=b}function a(){if(E!==f.url()||w!==b)E=f.url(),w=b,r(N,function(e){e(f.url(),b)})}var f=this,l=e.location,c=e.history,p=e.setTimeout,d=e.clearTimeout,v={};f.isMock=!1;var g=0,y=[];f.$$completeOutstandingRequest=s,f.$$incOutstandingRequestCount=function(){g++},f.notifyWhenNoOutstandingRequests=function(e){0===g?e():y.push(e)};var b,w,E=l.href,S=t.find("base"),x=null,T=i.history?function(){try{return c.state}catch(e){}}:h;u(),w=b,f.url=function(t,n,r){m(r)&&(r=null),l!==e.location&&(l=e.location),c!==e.history&&(c=e.history);if(t){var s=w===r;if(E===t&&(!i.history||s))return f;var o=E&&En(E)===En(t);return E=t,w=r,!i.history||o&&s?(o||(x=t),n?l.replace(t):o?(n=l,r=t.indexOf("#"),r=-1===r?"":t.substr(r),n.hash=r):l.href=t,l.href!==t&&(x=t)):(c[n?"replaceState":"pushState"](r,"",t),u(),w=b),x&&(x=t),f}return x||l.href.replace(/%27/g,"'")},f.state=function(){return b};var N=[],C=!1,k=null;f.onUrlChange=function(t){return C||(i.history&&Kr(e).on("popstate",o),Kr(e).on("hashchange",o),C=!0),N.push(t),t},f.$$applicationDestroyed=function(){Kr(e).off("hashchange popstate",o)},f.$$checkUrlChange=a,f.baseHref=function(){var e=S.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},f.defer=function(e,t){var n;return g++,n=p(function(){delete v[n],s(e)},t||0),v[n]=!0,n},f.defer.cancel=function(e){return v[e]?(delete v[e],d(e),s(h),!0):!1}}function Xt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Wt(e,r,t,n)}]}function Vt(){this.$get=function(){function e(e,r){function i(e){e!=h&&(p?p==e&&(p=e.n):p=e,s(e.n,e.p),s(e,h),h=e,h.n=null)}function s(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid",e);var o=0,u=a({},r,{id:e}),f=ot(),l=r&&r.capacity||Number.MAX_VALUE,c=ot(),h=null,p=null;return n[e]={put:function(e,t){if(!m(t)){if(l<Number.MAX_VALUE){var n=c[e]||(c[e]={key:e});i(n)}return e in f||o++,f[e]=t,o>l&&this.remove(p.key),t}},get:function(e){if(l<Number.MAX_VALUE){var t=c[e];if(!t)return;i(t)}return f[e]},remove:function(e){if(l<Number.MAX_VALUE){var t=c[e];if(!t)return;t==h&&(h=t.p),t==p&&(p=t.n),s(t.n,t.p),delete c[e]}e in f&&(delete f[e],o--)},removeAll:function(){f=ot(),o=0,c=ot(),h=p=null},destroy:function(){c=u=f=null,delete n[e]},info:function(){return a({},u,{size:o})}}}var n={};return e.info=function(){var e={};return r(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function $t(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Jt(t,n){function i(e,t,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,s=ot();return r(e,function(e,r){if(e in T)s[r]=T[e];else{var o=e.match(i);if(!o)throw Ji("iscp",t,r,e,n?"controller bindings definition":"isolate scope definition");s[r]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||r},o[4]&&(T[e]=s[r])}}),s}function o(e){var t=e.charAt(0);if(!t||t!==Vr(t))throw Ji("baddir",e);if(e!==e.trim())throw Ji("baddir",e)}function u(e){var t=e.require||e.controller&&e.name;return!oi(t)&&y(t)&&r(t,function(e,n){var r=e.match(E);e.substring(r[0].length)||(t[n]=r[0]+n)}),t}var f={},l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,v=/(([\w\-]+)(?:\:([^;]+))?;?)/,b=O("ngSrc,ngSrcset,src,srcset"),E=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,S=/^(on[a-z]+|formaction)$/,T=ot();this.directive=function A(e,n){return rt(e,"directive"),w(e)?(o(e),tt(n,"directiveFactory"),f.hasOwnProperty(e)||(f[e]=[],t.factory(e+"Directive",["$injector","$exceptionHandler",function(t,n){var i=[];return r(f[e],function(r,s){try{var o=t.invoke(r);x(o)?o={compile:d(o)}:!o.compile&&o.link&&(o.compile=d(o.link)),o.priority=o.priority||0,o.index=s,o.name=o.name||e,o.require=u(o),o.restrict=o.restrict||"EA",o.$$moduleName=r.$$moduleName,i.push(o)}catch(a){n(a)}}),i}])),f[e].push(n)):r(e,s(A)),this},this.component=function(e,t){function n(e){function n(t){return x(t)||oi(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var s=t.template||t.templateUrl?t.template:"",o={controller:i,controllerAs:Zt(t.controller)||t.controllerAs||"$ctrl",template:n(s),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return r(t,function(e,t){"$"===t.charAt(0)&&(o[t]=e)}),o}var i=t.controller||function(){};return r(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,x(i)&&(i[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return g(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return g(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var N=!0;this.debugInfoEnabled=function(e){return g(e)?(N=e,this):N};var L=10;this.onChangesTtl=function(e){return arguments.length?(L=e,this):L},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,s,o,u,d,T,A,O,D){function H(){try{if(!--wt)throw Et=void 0,Ji("infchng",L);T.$apply(function(){for(var e=[],t=0,n=Et.length;t<n;++t)try{Et[t]()}catch(r){e.push(r)}Et=void 0;if(e.length)throw e})}finally{wt++}}function j(e,t){if(t){var n=Object.keys(t),r,i,s;r=0;for(i=n.length;r<i;r++)s=n[r],this[s]=t[s]}else this.$attr={};this.$$element=e}function F(e,t,n){bt.innerHTML="<span "+t+">",t=bt.firstChild.attributes;var r=t[0];t.removeNamedItem(r.name),r.value=n,e.attributes.setNamedItem(r)}function I(e,t){try{e.addClass(t)}catch(n){}}function q(t,n,r,i,s){t instanceof Kr||(t=Kr(t));for(var o=/\S+/,u=0,a=t.length;u<a;u++){var f=t[u];f.nodeType===mi&&f.nodeValue.match(o)&&pt(f,t[u]=e.document.createElement("span"))}var l=R(t,n,t,r,i,s);q.$$addScopeClass(t);var c=null;return function(e,n,r){tt(e,"scope"),s&&s.needsNewScope&&(e=e.$parent.$new()),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers;r=r.futureParentElement,i&&i.$$boundTransclude&&(i=i.$$boundTransclude),c||(c=(r=r&&r[0])?"foreignobject"!==M(r)&&ei.call(r).match(/SVG/)?"svg":"html":"html"),r="html"!==c?Kr(ft(c,Kr("<div>").append(t).html())):n?Oi.clone.call(t):t;if(o)for(var u in o)r.data("$"+u+"Controller",o[u].instance);return q.$$addScopeInfo(r,e),n&&n(r,e),l&&l(e,r,r,i),r}}function R(e,t,n,r,i,s){function o(e,n,r,i){var s,o,a,f,l,c,p;if(h)for(p=Array(n.length),f=0;f<u.length;f+=3)s=u[f],p[s]=n[s];else p=n;f=0;for(l=u.length;f<l;)o=p[u[f++]],n=u[f++],s=u[f++],n?(n.scope?(a=e.$new(),q.$$addScopeInfo(Kr(o),a)):a=e,c=n.transcludeOnThisElement?z(e,n.transclude,i):!n.templateOnThisElement&&i?i:!i&&t?z(e,t):null,n(s,a,o,r,c)):s&&s(e,o.childNodes,void 0,i)}for(var u=[],a,f,l,c,h,p=0;p<e.length;p++){a=new j,f=W(e[p],[],a,0===p?r:void 0,i),(s=f.length?K(f,e[p],a,t,n,null,[],[],s):null)&&s.scope&&q.$$addScopeClass(a.$$element),a=s&&s.terminal||!(l=e[p].childNodes)||!l.length?null:R(l,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:t);if(s||a)u.push(p,s,a),c=!0,h=h||s;s=null}return c?o:null}function z(e,t,n){function r(r,i,s,o,u){return r||(r=e.$new(!1,u),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:s,futureParentElement:o})}var i=r.$$slots=ot(),s;for(s in t.$$slots)i[s]=t.$$slots[s]?z(e,t.$$slots[s],n):null;return r}function W(e,t,n,r,i){var s=n.$attr;switch(e.nodeType){case 1:et(t,Qt(M(e)),"E",r,i);for(var o,u,a,f,l=e.attributes,c=0,h=l&&l.length;c<h;c++){var p=!1,d=!1;o=l[c],u=o.name,a=ai(o.value),o=Qt(u);if(f=Nt.test(o))u=u.replace(Qi,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()});(o=o.match(Ct))&&nt(o[1])&&(p=u,d=u.substr(0,u.length-5)+"end",u=u.substr(0,u.length-6)),o=Qt(u.toLowerCase()),s[o]=u;if(f||!n.hasOwnProperty(o))n[o]=a,Ot(e,o)&&(n[o]=!0);ct(e,t,a,o,f),et(t,o,"A",r,i,p,d)}s=e.className,y(s)&&(s=s.animVal);if(w(s)&&""!==s)for(;e=v.exec(s);)o=Qt(e[2]),et(t,o,"C",r,i)&&(n[o]=ai(e[3])),s=s.substr(e.index+e[0].length);break;case mi:if(11===Jr)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===mi;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);at(t,e.nodeValue);break;case 8:X(e,t,n,r,i)}return t.sort(st),t}function X(e,t,n,r,i){try{var s=l.exec(e.nodeValue);if(s){var o=Qt(s[1]);et(t,o,"M",r,i)&&(n[o]=ai(s[2]))}}catch(u){}}function V(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Ji("uterdir",t,n);1==e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(0<i)}else r.push(e);return Kr(r)}function $(e,t,n){return function(r,i,s,o,u){return i=V(i[0],t,n),e(r,i,s,o,u)}}function J(e,t,n,r,i,s){var o;return e?q(t,n,r,i,s):function(){return o||(o=q(t,n,r,i,s),t=n=s=null),o.apply(this,arguments)}}function K(e,t,n,i,o,u,f,l,c){function h(e,t,n,r){if(e){n&&(e=$(e,n,r)),e.require=L.require,e.directiveName=A;if(b===L||L.$$isolateScope)e=dt(e,{isolateScope:!0});f.push(e)}if(t){n&&(t=$(t,n,r)),t.require=L.require,t.directiveName=A;if(b===L||L.$$isolateScope)t=dt(t,{isolateScope:!0});l.push(t)}}function p(e,i,o,u,c){function h(e,t,n,r){var i;C(e)||(r=n,n=t,t=e,e=void 0),N&&(i=k),n||(n=N?A.parent():A);if(!r)return c(e,t,i,n,_);var s=c.$$slots[r];if(s)return s(e,t,i,n,_);if(m(s))throw Ji("noslot",r,U(A))}var p,d,E,S,T,k,L,A;t===o?(u=n,A=n.$$element):(A=Kr(o),u=new j(A,n)),T=i,b?S=i.$new(!0):v&&(T=i.$parent),c&&(L=h,L.$$boundTransclude=c,L.isSlotFilled=function(e){return!!c.$$slots[e]}),g&&(k=G(A,u,L,g,S,i,b)),b&&(q.$$addScopeInfo(A,S,!0,!w||w!==b&&w!==b.$$originalDirective),q.$$addScopeClass(A,!0),S.$$isolateBindings=b.$$isolateBindings,d=gt(i,u,S,S.$$isolateBindings,b),d.removeWatches&&S.$on("$destroy",d.removeWatches));for(p in k){d=g[p],E=k[p];var O=d.$$bindings.bindToController;E.bindingInfo=E.identifier&&O?gt(T,u,E.instance,O,d):{};var M=E();M!==E.instance&&(E.instance=M,A.data("$"+d.name+"Controller",M),E.bindingInfo.removeWatches&&E.bindingInfo.removeWatches(),E.bindingInfo=gt(T,u,E.instance,O,d))}r(g,function(e,t){var n=e.require;e.bindToController&&!oi(n)&&y(n)&&a(k[t].instance,Q(t,n,A,k))}),r(k,function(e){var t=e.instance;if(x(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(n){s(n)}if(x(t.$onInit))try{t.$onInit()}catch(r){s(r)}x(t.$doCheck)&&(T.$watch(function(){t.$doCheck()}),t.$doCheck()),x(t.$onDestroy)&&T.$on("$destroy",function(){t.$onDestroy()})}),p=0;for(d=f.length;p<d;p++)E=f[p],mt(E,E.isolateScope?S:i,A,u,E.require&&Q(E.directiveName,E.require,A,k),L);var _=i;b&&(b.template||null===b.templateUrl)&&(_=S),e&&e(_,o.childNodes,void 0,c);for(p=l.length-1;0<=p;p--)E=l[p],mt(E,E.isolateScope?S:i,A,u,E.require&&Q(E.directiveName,E.require,A,k),L);r(k,function(e){e=e.instance,x(e.$postLink)&&e.$postLink()})}c=c||{};for(var d=-Number.MAX_VALUE,v=c.newScopeDirective,g=c.controllerDirectives,b=c.newIsolateScopeDirective,w=c.templateDirective,E=c.nonTlbTranscludeDirective,S=!1,T=!1,N=c.hasElementTranscludeDirective,k=n.$$element=Kr(t),L,A,O,_=i,D,P=!1,H=!1,F,I=0,R=e.length;I<R;I++){L=e[I];var z=L.$$start,X=L.$$end;z&&(k=V(t,z,X)),O=void 0;if(d>L.priority)break;if(F=L.scope)L.templateUrl||(y(F)?(ut("new/isolated scope",b||v,L,k),b=L):ut("new/isolated scope",b,L,k)),v=v||L;A=L.name;if(!P&&(L.replace&&(L.templateUrl||L.template)||L.transclude&&!L.$$tlb)){for(F=I+1;P=e[F++];)if(P.transclude&&!P.$$tlb||P.replace&&(P.templateUrl||P.template)){H=!0;break}P=!0}!L.templateUrl&&L.controller&&(F=L.controller,g=g||ot(),ut("'"+A+"' controller",g[A],L,k),g[A]=L);if(F=L.transclude)if(S=!0,L.$$tlb||(ut("transclusion",E,L,k),E=L),"element"==F)N=!0,d=L.priority,O=k,k=n.$$element=Kr(q.$$createComment(A,n[A])),t=k[0],ht(o,Gr.call(O,0),t),O[0].$$parentNode=O[0].parentNode,_=J(H,O,i,d,u&&u.name,{nonTlbTranscludeDirective:E});else{var K=ot();O=Kr(vt(t)).contents();if(y(F)){O=[];var Z=ot(),et=ot();r(F,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,Z[e]=t,K[t]=null,et[t]=n}),r(k.contents(),function(e){var t=Z[Qt(M(e))];t?(et[t]=!0,K[t]=K[t]||[],K[t].push(e)):O.push(e)}),r(et,function(e,t){if(!e)throw Ji("reqslot",t)});for(var tt in K)K[tt]&&(K[tt]=J(H,K[tt],i))}k.empty(),_=J(H,O,i,void 0,void 0,{needsNewScope:L.$$isolateScope||L.$$newScope}),_.$$slots=K}if(L.template)if(T=!0,ut("template",w,L,k),w=L,F=x(L.template)?L.template(k,n):L.template,F=Tt(F),L.replace){u=L,O=Ni.test(F)?Yt(ft(L.templateNamespace,ai(F))):[],t=O[0];if(1!=O.length||1!==t.nodeType)throw Ji("tplrt",A,"");ht(o,k,t),R={$attr:{}},F=W(t,[],R);var nt=e.splice(I+1,e.length-(I+1));(b||v)&&Y(F,b,v),e=e.concat(F).concat(nt),rt(n,R),R=e.length}else k.html(F);if(L.templateUrl)T=!0,ut("template",w,L,k),w=L,L.replace&&(u=L),p=it(e.splice(I,e.length-I),k,n,o,S&&_,f,l,{controllerDirectives:g,newScopeDirective:v!==L&&v,newIsolateScopeDirective:b,templateDirective:w,nonTlbTranscludeDirective:E}),R=e.length;else if(L.compile)try{D=L.compile(k,n,_);var st=L.$$originalDirective||L;x(D)?h(null,B(st,D),z,X):D&&h(B(st,D.pre),B(st,D.post),z,X)}catch(at){s(at,U(k))}L.terminal&&(p.terminal=!0,d=Math.max(d,L.priority))}return p.scope=v&&!0===v.scope,p.transcludeOnThisElement=S,p.templateOnThisElement=T,p.transclude=_,c.hasElementTranscludeDirective=N,p}function Q(e,t,n,i){var s;if(w(t)){var o=t.match(E);t=t.substring(o[0].length);var u=o[1]||o[3],o="?"===o[2];"^^"===u?n=n.parent():s=(s=i&&i[t])&&s.instance;if(!s){var a="$"+t+"Controller";s=u?n.inheritedData(a):n.data(a)}if(!s&&!o)throw Ji("ctreq",t,e)}else if(oi(t))for(s=[],u=0,o=t.length;u<o;u++)s[u]=Q(e,t[u],n,i);else y(t)&&(s={},r(t,function(t,r){s[r]=Q(e,t,n,i)}));return s||null}function G(e,t,n,r,i,s,o){var u=ot(),a;for(a in r){var f=r[a],l={$scope:f===o||f.$$isolateScope?i:s,$element:e,$attrs:t,$transclude:n},c=f.controller;"@"==c&&(c=t[f.name]),l=d(c,l,!0,f.controllerAs),u[f.name]=l,e.data("$"+f.name+"Controller",l.instance)}return u}function Y(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=c(e[r],{$$isolateScope:t,$$newScope:n})}function et(e,n,r,o,u,a,l){if(n===u)return null;u=null;if(f.hasOwnProperty(n)){var h;n=t.get(n+"Directive");for(var p=0,d=n.length;p<d;p++)try{if(h=n[p],(m(o)||o>h.priority)&&-1!=h.restrict.indexOf(r)){a&&(h=c(h,{$$start:a,$$end:l}));if(!h.$$bindings){var v=h,g=h,b=h.name,w={isolateScope:null,bindToController:null};y(g.scope)&&(!0===g.bindToController?(w.bindToController=i(g.scope,b,!0),w.isolateScope={}):w.isolateScope=i(g.scope,b,!1)),y(g.bindToController)&&(w.bindToController=i(g.bindToController,b,!0));if(y(w.bindToController)){var E=g.controller,S=g.controllerAs;if(!E)throw Ji("noctrl",b);if(!Zt(E,S))throw Ji("noident",b)}var x=v.$$bindings=w;y(x.isolateScope)&&(h.$$isolateBindings=x.isolateScope)}e.push(h),u=h}}catch(T){s(T)}}return u}function nt(e){if(f.hasOwnProperty(e))for(var n=t.get(e+"Directive"),r=0,i=n.length;r<i;r++)if(e=n[r],e.multiElement)return!0;return!1}function rt(e,t){var n=t.$attr,i=e.$attr;r(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),r(t,function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function it(e,t,n,i,s,u,a,f){var l=[],h,p,d=t[0],v=e.shift(),m=c(v,{templateUrl:null,transclude:null,replace:null,$$originalDirective:v}),g=x(v.templateUrl)?v.templateUrl(t,n):v.templateUrl,b=v.templateNamespace;return t.empty(),o(g).then(function(o){var c,w;o=Tt(o);if(v.replace){o=Ni.test(o)?Yt(ft(b,ai(o))):[],c=o[0];if(1!=o.length||1!==c.nodeType)throw Ji("tplrt",v.name,g);o={$attr:{}},ht(i,t,c);var E=W(c,[],o);y(v.scope)&&Y(E,!0),e=E.concat(e),rt(n,o)}else c=d,t.html(o);e.unshift(m),h=K(e,c,n,s,t,v,u,a,f),r(i,function(e,n){e==c&&(i[n]=t[0])});for(p=R(t[0].childNodes,s);l.length;){o=l.shift(),w=l.shift();var S=l.shift(),x=l.shift(),E=t[0];if(!o.$$destroyed){if(w!==d){var T=w.className;f.hasElementTranscludeDirective&&v.replace||(E=vt(c)),ht(S,Kr(w),E),I(Kr(E),T)}w=h.transcludeOnThisElement?z(o,h.transclude,x):x,h(p,o,E,i,w)}}l=null}),function(e,t,n,r,i){e=i,t.$$destroyed||(l?l.push(t,n,r,e):(h.transcludeOnThisElement&&(e=z(t,h.transclude,i)),h(p,t,n,r,e)))}}function st(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function ut(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw Ji("multidir",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,U(r))}function at(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&q.$$addBindingClass(e),function(e,n){var i=n.parent();t||q.$$addBindingClass(i),q.$$addBindingInfo(i,r.expressions),e.$watch(r,function(e){n[0].nodeValue=e})}}})}function ft(t,n){t=Vr(t||"html");switch(t){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function lt(e,t){if("srcdoc"==t)return A.HTML;var n=M(e);if("xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t))return A.RESOURCE_URL}function ct(e,t,r,i,s){var o=lt(e,i);s=b[i]||s;var u=n(r,!0,o,s);if(u){if("multiple"===i&&"select"===M(e))throw Ji("selmulti",U(e));t.push({priority:100,compile:function(){return{pre:function(e,t,a){t=a.$$observers||(a.$$observers=ot());if(S.test(i))throw Ji("nodomevents");var f=a[i];f!==r&&(u=f&&n(f,!0,o,s),r=f),u&&(a[i]=u(e),(t[i]||(t[i]=[])).$$inter=!0,(a.$$observers&&a.$$observers[i].$$scope||e).$watch(u,function(e,t){"class"===i&&e!=t?a.$updateClass(e,t):a.$set(i,e)}))}}}})}}function ht(t,n,r){var i=n[0],s=n.length,o=i.parentNode,u,a;if(t)for(u=0,a=t.length;u<a;u++)if(t[u]==i){t[u++]=r,a=u+s-1;for(var f=t.length;u<f;u++,a++)a<f?t[u]=t[a]:delete t[u];t.length-=s-1,t.context===i&&(t.context=r);break}o&&o.replaceChild(r,i),t=e.document.createDocumentFragment();for(u=0;u<s;u++)t.appendChild(n[u]);Kr.hasData(i)&&(Kr.data(r,Kr.data(i)),Kr(i).off("$destroy")),Kr.cleanData(t.querySelectorAll("*"));for(u=1;u<s;u++)delete n[u];n[0]=r,n.length=1}function dt(e,t){return a(function(){return e.apply(null,arguments)},e,t)}function mt(e,t,n,r,i,o){try{e(t,n,r,i,o)}catch(u){s(u,U(n))}}function gt(e,t,i,s,o){function a(t,n,r){x(i.$onChanges)&&n!==r&&(Et||(e.$$postDigest(H),Et=[]),p||(p={},Et.push(f)),p[t]&&(r=p[t].previousValue),p[t]=new Kt(r,n))}function f(){i.$onChanges(p),p=void 0}var l=[],c={},p;return r(s,function(r,s){var f=r.attrName,p=r.optional,d,v,m,g;switch(r.mode){case"@":p||Xr.call(t,f)||(i[s]=t[f]=void 0),t.$observe(f,function(e){if(w(e)||k(e))a(s,e,i[s]),i[s]=e}),t.$$observers[f].$$scope=e,d=t[f],w(d)?i[s]=n(d)(e):k(d)&&(i[s]=d),c[s]=new Kt(Ki,i[s]);break;case"=":if(!Xr.call(t,f)){if(p)break;t[f]=void 0}if(p&&!t[f])break;v=u(t[f]),g=v.literal?P:function(e,t){return e===t||e!==e&&t!==t},m=v.assign||function(){throw d=i[s]=v(e),Ji("nonassign",t[f],f,o.name)},d=i[s]=v(e),p=function(t){return g(t,i[s])||(g(t,d)?m(e,t=i[s]):i[s]=t),d=t},p.$stateful=!0,p=r.collection?e.$watchCollection(t[f],p):e.$watch(u(t[f],p),null,v.literal),l.push(p);break;case"<":if(!Xr.call(t,f)){if(p)break;t[f]=void 0}if(p&&!t[f])break;v=u(t[f]);var y=i[s]=v(e);c[s]=new Kt(Ki,i[s]),p=e.$watch(v,function(e,t){if(t===e){if(t===y)return;t=y}a(s,e,t),i[s]=e},v.literal),l.push(p);break;case"&":v=t.hasOwnProperty(f)?u(t[f]):h;if(v===h&&p)break;i[s]=function(t){return v(e,t)}}}),{initialChanges:c,removeWatches:l.length&&function(){for(var e=0,t=l.length;e<t;++e)l[e]()}}}var yt=/^\w/,bt=e.document.createElement("div"),wt=L,Et;j.prototype={$normalize:Qt,$addClass:function(e){e&&0<e.length&&O.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&O.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Gt(e,t);n&&n.length&&O.addClass(this.$$element,n),(n=Gt(t,e))&&n.length&&O.removeClass(this.$$element,n)},$set:function(e,t,n,i){var o=Ot(this.$$element[0],e),u=Di[e],a=e;o?(this.$$element.prop(e,t),i=o):u&&(this[u]=t,a=u),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=Z(e,"-")),o=M(this.$$element);if("a"===o&&("href"===e||"xlinkHref"===e)||"img"===o&&"src"===e)this[e]=t=D(t,"src"===e);else if("img"===o&&"srcset"===e&&g(t)){for(var o="",u=ai(t),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,f=/\s/.test(u)?f:/(,)/,u=u.split(f),f=Math.floor(u.length/2),l=0;l<f;l++)var c=2*l,o=o+D(ai(u[c]),!0),o=o+(" "+ai(u[c+1]));u=ai(u[2*l]).split(/\s/),o+=D(ai(u[0]),!0),2===u.length&&(o+=" "+ai(u[1])),this[e]=t=o}!1!==n&&(null===t||m(t)?this.$$element.removeAttr(i):yt.test(i)?this.$$element.attr(i,t):F(this.$$element[0],i,t)),(e=this.$$observers)&&r(e[a],function(e){try{e(t)}catch(n){s(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ot()),i=r[e]||(r[e]=[]);return i.push(t),T.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||m(n[e])||t(n[e])}),function(){_(i,t)}}};var St=n.startSymbol(),xt=n.endSymbol(),Tt="{{"==St&&"}}"==xt?p:function(e){return e.replace(/\{\{/g,St).replace(/}}/g,xt)},Nt=/^ngAttr[A-Z]/,Ct=/^(.+)Start$/;return q.$$addBindingInfo=N?function(e,t){var n=e.data("$binding")||[];oi(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:h,q.$$addBindingClass=N?function(e){I(e,"ng-binding")}:h,q.$$addScopeInfo=N?function(e,t,n,r){e.data(n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:h,q.$$addScopeClass=N?function(e,t){I(e,t?"ng-isolate-scope":"ng-scope")}:h,q.$$createComment=function(t,n){var r="";return N&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},q}]}function Kt(e,t){this.previousValue=e,this.currentValue=t}function Qt(e){return lt(e.replace(Qi,""))}function Gt(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/),s=0;e:for(;s<r.length;s++){for(var o=r[s],u=0;u<i.length;u++)if(o==i[u])continue e;n+=(0<n.length?" ":"")+o}return n}function Yt(e){e=Kr(e);var t=e.length;if(1>=t)return e;for(;t--;)8===e[t].nodeType&&Yr.call(e,t,1);return e}function Zt(e,t){if(t&&w(t))return t;if(w(e)){var n=Yi.exec(e);if(n)return n[3]}}function en(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){rt(t,"controller"),y(t)?a(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function s(e,n,r,i){if(!e||!y(e.$scope))throw t("$controller")("noscp",i,n);e.$scope[n]=r}return function(t,o,u,f){var l,c,h;u=!0===u,f&&w(f)&&(h=f);if(w(t)){f=t.match(Yi);if(!f)throw Gi("ctrlfmt",t);c=f[1],h=h||f[3],t=e.hasOwnProperty(c)?e[c]:it(o.$scope,c,!0)||(n?it(i,c,!0):void 0),nt(t,c,!0)}return u?(u=(oi(t)?t[t.length-1]:t).prototype,l=Object.create(u||null),h&&s(o,h,l,c||t.name),a(function(){var e=r.invoke(t,l,o,c);return e!==l&&(y(e)||x(e))&&(l=e,h&&s(o,h,l,c||t.name)),l},{instance:l,identifier:h})):(l=r.instantiate(t,o,c),h&&s(o,h,l,c||t.name),l)}}]}function tn(){this.$get=["$window",function(e){return Kr(e.document)}]}function nn(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function rn(e){return y(e)?S(e)?e.toISOString():F(e):e}function sn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return i(e,function(e,n){null===e||m(e)||(oi(e)?r(e,function(e){t.push($(n)+"="+$(rn(e)))}):t.push($(n)+"="+$(rn(e))))}),t.join("&")}}}function on(){this.$get=function(){return function(e){function t(e,s,o){null===e||m(e)||(oi(e)?r(e,function(e,n){t(e,s+"["+(y(e)?n:"")+"]")}):y(e)&&!S(e)?i(e,function(e,n){t(e,s+(o?"":"[")+n+(o?"":"]"))}):n.push($(s)+"="+$(rn(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function un(e,t){if(w(e)){var n=e.replace(is,"").trim();if(n){var r=t("Content-Type");(r=r&&0===r.indexOf(es))||(r=(r=n.match(ns))&&rs[r[0]].test(n)),r&&(e=I(n))}}return e}function an(e){var t=ot(),n;return w(e)?r(e.split("\n"),function(e){n=e.indexOf(":");var r=Vr(ai(e.substr(0,n)));e=ai(e.substr(n+1)),r&&(t[r]=t[r]?t[r]+", "+e:e)}):y(e)&&r(e,function(e,n){var r=Vr(n),i=ai(e);r&&(t[r]=t[r]?t[r]+", "+i:i)}),t}function fn(e){var t;return function(n){return t||(t=an(e)),n?(n=t[Vr(n)],void 0===n&&(n=null),n):t}}function ln(e,t,n,i){return x(i)?i(e,t,n):(r(i,function(r){e=r(e,t,n)}),e)}function cn(){var e=this.defaults={transformResponse:[un],transformRequest:[function(e){return y(e)&&"[object File]"!==ei.call(e)&&"[object Blob]"!==ei.call(e)&&"[object FormData]"!==ei.call(e)?F(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:at(ts),put:at(ts),patch:at(ts)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(e){return g(e)?(n=!!e,this):n};var i=!0;this.useLegacyPromiseExtensions=function(e){return g(e)?(i=!!e,this):i};var s=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(o,u,f,l,c,h){function p(n){function s(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],s=t[n++];e=e.then(i,s)}return t.length=0,e}function o(e,t){var n,i={};return r(e,function(e,r){x(e)?(n=e(t),null!=n&&(i[r]=n)):i[r]=e}),i}function u(e){var t=a({},e);return t.data=ln(e.data,e.headers,e.status,f.transformResponse),e=e.status,200<=e&&300>e?t:c.reject(t)}if(!y(n))throw t("$http")("badreq",n);if(!w(n.url))throw t("$http")("badreq",n.url);var f=a({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},n);f.headers=function(t){var n=e.headers,r=a({},t.headers),i,s,u,n=a({},n.common,n[Vr(t.method)]);e:for(i in n){s=Vr(i);for(u in r)if(Vr(u)===s)continue e;r[i]=n[i]}return o(r,at(t))}(n),f.method=$r(f.method),f.paramSerializer=w(f.paramSerializer)?h.get(f.paramSerializer):f.paramSerializer;var l=[],p=[],v=c.when(f);return r(E,function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&p.push(e.response,e.responseError)}),v=s(v,l),v=v.then(function(t){var n=t.headers,i=ln(t.data,fn(n),void 0,t.transformRequest);return m(i)&&r(n,function(e,t){"content-type"===Vr(t)&&delete n[t]}),m(t.withCredentials)&&!m(e.withCredentials)&&(t.withCredentials=e.withCredentials),d(t,i).then(u,u)}),v=s(v,p),i?(v.success=function(e){return nt(e,"fn"),v.then(function(t){e(t.data,t.status,t.headers,f)}),v},v.error=function(e){return nt(e,"fn"),v.then(null,function(t){e(t.data,t.status,t.headers,f)}),v}):(v.success=os("success"),v.error=os("error")),v}function d(t,i){function s(e){if(e){var t={};return r(e,function(e,r){t[r]=function(t){function r(){e(t)}n?l.$applyAsync(r):l.$$phase?r():l.$apply(r)}}),t}}function a(e,t,r,i){function s(){f(t,e,r,i)}S&&(200<=e&&300>e?S.put(C,[e,t,an(r),i]):S.remove(C)),n?l.$applyAsync(s):(s(),l.$$phase||l.$apply())}function f(e,n,r,i){n=-1<=n?n:0,(200<=n&&300>n?w.resolve:w.reject)({data:e,status:n,headers:fn(r),config:t,statusText:i})}function h(e){f(e.data,e.status,at(e.headers()),e.statusText)}function d(){var e=p.pendingRequests.indexOf(t);-1!==e&&p.pendingRequests.splice(e,1)}var w=c.defer(),E=w.promise,S,T,N=t.headers,C=v(t.url,t.paramSerializer(t.params));return p.pendingRequests.push(t),E.then(d,d),!t.cache&&!e.cache||!1===t.cache||"GET"!==t.method&&"JSONP"!==t.method||(S=y(t.cache)?t.cache:y(e.cache)?e.cache:b),S&&(T=S.get(C),g(T)?T&&x(T.then)?T.then(h,h):oi(T)?f(T[1],T[0],at(T[2]),T[3]):f(T,200,{},"OK"):S.put(C,E)),m(T)&&((T=ar(t.url)?u()[t.xsrfCookieName||e.xsrfCookieName]:void 0)&&(N[t.xsrfHeaderName||e.xsrfHeaderName]=T),o(t.method,C,i,a,N,t.timeout,t.withCredentials,t.responseType,s(t.eventHandlers),s(t.uploadEventHandlers))),E}function v(e,t){return 0<t.length&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var b=f("$http");e.paramSerializer=w(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var E=[];return r(s,function(e){E.unshift(w(e)?h.get(e):h.invoke(e))}),p.pendingRequests=[],function(e){r(arguments,function(e){p[e]=function(t,n){return p(a({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){r(arguments,function(e){p[e]=function(t,n,r){return p(a({},r||{},{method:e,url:t,data:n}))}})}("post","put","patch"),p.defaults=e,p}]}function hn(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function pn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return dn(e,r,e.defer,t,n[0])}]}function dn(e,t,n,i,s){function o(e,t,n){e=e.replace("JSON_CALLBACK",t);var r=s.createElement("script"),o=null;return r.type="text/javascript",r.src=e,r.async=!0,o=function(e){r.removeEventListener("load",o,!1),r.removeEventListener("error",o,!1),s.body.removeChild(r),r=null;var u=-1,a="unknown";e&&("load"!==e.type||i.wasCalled(t)||(e={type:"error"}),a=e.type,u="error"===e.type?404:200),n&&n(u,a)},r.addEventListener("load",o,!1),r.addEventListener("error",o,!1),s.body.appendChild(r),o}return function(s,u,a,f,l,c,p,d,v,y){function b(){S&&S(),T&&T.abort()}function w(t,r,i,s,o){g(C)&&n.cancel(C),S=T=null,t(r,i,s,o),e.$$completeOutstandingRequest(h)}e.$$incOutstandingRequestCount(),u=u||e.url();if("jsonp"===Vr(s))var E=i.createCallback(u),S=o(u,E,function(e,t){var n=200===e&&i.getResponse(E);w(f,e,n,"",t),i.removeCallback(E)});else{var T=t(s,u);T.open(s,u,!0),r(l,function(e,t){g(e)&&T.setRequestHeader(t,e)}),T.onload=function(){var e=T.statusText||"",t="response"in T?T.response:T.responseText,n=1223===T.status?204:T.status;0===n&&(n=t?200:"file"==ur(u).protocol?404:0),w(f,n,t,T.getAllResponseHeaders(),e)},s=function(){w(f,-1,null,null,"")},T.onerror=s,T.onabort=s,r(v,function(e,t){T.addEventListener(t,e)}),r(y,function(e,t){T.upload.addEventListener(t,e)}),p&&(T.withCredentials=!0);if(d)try{T.responseType=d}catch(N){if("json"!==d)throw N}T.send(m(a)?null:a)}if(0<c)var C=n(b,c);else c&&x(c.then)&&c.then(b)}}function vn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function s(e){return"\\\\\\"+e}function o(n){return n.replace(h,e).replace(p,t)}function u(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function f(s,f,h,p){function v(e){try{var t=e;e=h?i.getTrusted(h,t):i.valueOf(t);var n;if(p&&!g(e))n=e;else if(null==e)n="";else{switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=F(e)}n=e}return n}catch(o){r(us.interr(s,o))}}if(!s.length||-1===s.indexOf(e)){var y;return f||(f=o(s),y=d(f),y.exp=s,y.expressions=[],y.$$watchDelegate=u),y}p=!!p;var b,w,E=0,S=[],T=[];y=s.length;for(var N=[],C=[];E<y;){if(-1==(b=s.indexOf(e,E))||-1==(w=s.indexOf(t,b+l))){E!==y&&N.push(o(s.substring(E)));break}E!==b&&N.push(o(s.substring(E,b))),E=s.substring(b+l,w),S.push(E),T.push(n(E,v)),E=w+c,C.push(N.length),N.push("")}h&&1<N.length&&us.throwNoconcat(s);if(!f||S.length){var k=function(e){for(var t=0,n=S.length;t<n;t++){if(p&&m(e[t]))return;N[C[t]]=e[t]}return N.join("")};return a(function(e){var t=0,n=S.length,i=Array(n);try{for(;t<n;t++)i[t]=T[t](e);return k(i)}catch(o){r(us.interr(s,o))}},{exp:s,expressions:S,$$watchDelegate:function(e,t){var n;return e.$watchGroup(T,function(r,i){var s=k(r);x(t)&&t.call(this,s,r!==i?n:s,e),n=s})}})}}var l=e.length,c=t.length,h=new RegExp(e.replace(/./g,s),"g"),p=new RegExp(t.replace(/./g,s),"g");return f.startSymbol=function(){return e},f.endSymbol=function(){return t},f}]}function mn(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function s(s,u,a,f){function l(){c?s.apply(null,h):s(v)}var c=4<arguments.length,h=c?Gr.call(arguments,4):[],p=t.setInterval,d=t.clearInterval,v=0,m=g(f)&&!f,y=(m?r:n).defer(),b=y.promise;return a=g(a)?a:0,b.$$intervalId=p(function(){m?i.defer(l):e.$evalAsync(l),y.notify(v++),0<a&&v>=a&&(y.resolve(v),d(b.$$intervalId),delete o[b.$$intervalId]),m||e.$apply()},u),o[b.$$intervalId]=y,b}var o={};return s.cancel=function(e){return e&&e.$$intervalId in o?(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0):!1},s}]}function gn(e){e=e.split("/");for(var t=e.length;t--;)e[t]=V(e[t]);return e.join("/")}function yn(e,t){var n=ur(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=l(n.port)||ls[n.protocol]||null}function bn(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=ur(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=W(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function wn(e,t){if(0===t.lastIndexOf(e,0))return t.substr(e.length)}function En(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Sn(e){return e.replace(/(#.+)|#$/,"$1")}function xn(e,t,n){this.$$html5=!0,n=n||"",yn(e,this),this.$$parse=function(e){var n=wn(t,e);if(!w(n))throw cs("ipthprfx",e,t);bn(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=X(this.$$search),n=this.$$hash?"#"+V(this.$$hash):"";this.$$url=gn(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var s,o;return g(s=wn(e,r))?(o=s,o=g(s=wn(n,s))?t+(wn("/",s)||s):e+o):g(s=wn(t,r))?o=t+s:t==r+"/"&&(o=t),o&&this.$$parse(o),!!o}}function Tn(e,t,n){yn(e,this),this.$$parse=function(r){var i=wn(e,r)||wn(t,r),s;m(i)||"#"!==i.charAt(0)?this.$$html5?s=i:(s="",m(i)&&(e=r,this.replace())):(s=wn(n,i),m(s)&&(s=i)),bn(s,this),r=this.$$path;var i=e,o=/^\/[A-Z]:(\/.*)/;0===s.lastIndexOf(i,0)&&(s=s.replace(i,"")),o.exec(s)||(r=(s=o.exec(r))?s[1]:r),this.$$path=r,this.$$compose()},this.$$compose=function(){var t=X(this.$$search),r=this.$$hash?"#"+V(this.$$hash):"";this.$$url=gn(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return En(e)==En(t)?(this.$$parse(t),!0):!1}}function Nn(e,t,n){this.$$html5=!0,Tn.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var s,o;return e==En(r)?s=r:(o=wn(t,r))?s=e+n+o:t===r+"/"&&(s=t),s&&this.$$parse(s),!!s},this.$$compose=function(){var t=X(this.$$search),r=this.$$hash?"#"+V(this.$$hash):"";this.$$url=gn(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function Cn(e){return function(){return this[e]}}function kn(e,t){return function(n){return m(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Ln(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return g(t)?(e=t,this):e},this.html5Mode=function(e){return k(e)?(t.enabled=e,this):y(e)?(k(e.enabled)&&(t.enabled=e.enabled),k(e.requireBase)&&(t.requireBase=e.requireBase),k(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,s,o){function u(e,t,n){var i=f.url(),s=f.$$state;try{r.url(e,t,n),f.$$state=r.state()}catch(o){throw f.url(i),f.$$state=s,o}}function a(e,t){n.$broadcast("$locationChangeSuccess",f.absUrl(),e,f.$$state,t)}var f,l;l=r.baseHref();var c=r.url(),h;if(t.enabled){if(!l&&t.requireBase)throw cs("nobase");h=c.substring(0,c.indexOf("/",c.indexOf("//")+2))+(l||"/"),l=i.history?xn:Nn}else h=En(c),l=Tn;var p=h.substr(0,En(h).lastIndexOf("/")+1);f=new l(h,p,"#"+e),f.$$parseLinkUrl(c,c),f.$$state=r.state();var d=/^\s*(javascript|mailto):/i;s.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=Kr(e.target);"a"!==M(i[0]);)if(i[0]===s[0]||!(i=i.parent())[0])return;var u=i.prop("href"),a=i.attr("href")||i.attr("xlink:href");y(u)&&"[object SVGAnimatedString]"===u.toString()&&(u=ur(u.animVal).href),d.test(u)||!u||i.attr("target")||e.isDefaultPrevented()||!f.$$parseLinkUrl(u,a)||(e.preventDefault(),f.absUrl()!=r.url()&&(n.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}),Sn(f.absUrl())!=Sn(c)&&r.url(f.absUrl(),!0);var v=!0;return r.onUrlChange(function(e,t){m(wn(p,e))?o.location.href=e:(n.$evalAsync(function(){var r=f.absUrl(),i=f.$$state,s;e=Sn(e),f.$$parse(e),f.$$state=t,s=n.$broadcast("$locationChangeStart",e,r,t,i).defaultPrevented,f.absUrl()===e&&(s?(f.$$parse(r),f.$$state=i,u(r,!1,i)):(v=!1,a(r,i)))}),n.$$phase||n.$digest())}),n.$watch(function(){var e=Sn(r.url()),t=Sn(f.absUrl()),s=r.state(),o=f.$$replace,l=e!==t||f.$$html5&&i.history&&s!==f.$$state;if(v||l)v=!1,n.$evalAsync(function(){var t=f.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,f.$$state,s).defaultPrevented;f.absUrl()===t&&(r?(f.$$parse(e),f.$$state=s):(l&&u(t,o,s===f.$$state?null:f.$$state),a(e,s)))});f.$$replace=!1}),f}]}function An(){var e=!0,t=this;this.debugEnabled=function(t){return g(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function s(e){var t=n.console||{},s=t[e]||t.log||h;e=!1;try{e=!!s.apply}catch(o){}return e?function(){var e=[];return r(arguments,function(t){e.push(i(t))}),s.apply(t,e)}:function(e,t){s(e,null==t?"":t)}}return{log:s("log"),info:s("info"),warn:s("warn"),error:s("error"),debug:function(){var n=s("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function On(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw ps("isecfld",t);return e}function Mn(e){return e+""}function _n(e,t){if(e){if(e.constructor===e)throw ps("isecfn",t);if(e.window===e)throw ps("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw ps("isecdom",t);if(e===Object)throw ps("isecobj",t)}return e}function Dn(e,t){if(e){if(e.constructor===e)throw ps("isecfn",t);if(e===ds||e===vs||e===ms)throw ps("isecff",t)}}function Pn(e,t){if(e&&(e===0..constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw ps("isecaf",t)}function Hn(e,t){return"undefined"!=typeof e?e:t}function Bn(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function jn(e,t){var n,i;switch(e.type){case ws.Program:n=!0,r(e.body,function(e){jn(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case ws.Literal:e.constant=!0,e.toWatch=[];break;case ws.UnaryExpression:jn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case ws.BinaryExpression:jn(e.left,t),jn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case ws.LogicalExpression:jn(e.left,t),jn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case ws.ConditionalExpression:jn(e.test,t),jn(e.alternate,t),jn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case ws.Identifier:e.constant=!1,e.toWatch=[e];break;case ws.MemberExpression:jn(e.object,t),e.computed&&jn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case ws.CallExpression:n=e.filter?!t(e.callee.name).$stateful:!1,i=[],r(e.arguments,function(e){jn(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&!t(e.callee.name).$stateful?i:[e];break;case ws.AssignmentExpression:jn(e.left,t),jn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case ws.ArrayExpression:n=!0,i=[],r(e.elements,function(e){jn(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=i;break;case ws.ObjectExpression:n=!0,i=[],r(e.properties,function(e){jn(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||i.push.apply(i,e.value.toWatch)}),e.constant=n,e.toWatch=i;break;case ws.ThisExpression:e.constant=!1,e.toWatch=[];break;case ws.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Fn(e){if(1==e.length){e=e[0].expression;var t=e.toWatch;return 1!==t.length?t:t[0]!==e?t:void 0}}function In(e){return e.type===ws.Identifier||e.type===ws.MemberExpression}function qn(e){if(1===e.body.length&&In(e.body[0].expression))return{type:ws.AssignmentExpression,left:e.body[0].expression,right:{type:ws.NGValueParameter},operator:"="}}function Rn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===ws.Literal||e.body[0].expression.type===ws.ArrayExpression||e.body[0].expression.type===ws.ObjectExpression)}function Un(e,t){this.astBuilder=e,this.$filter=t}function zn(e,t){this.astBuilder=e,this.$filter=t}function Wn(e){return"constructor"==e}function Xn(e){return x(e.valueOf)?e.valueOf():Ss.call(e)}function Vn(){var e=ot(),t=ot(),n={"true":!0,"false":!1,"null":null,"undefined":void 0},i,s;this.addLiteral=function(e,t){n[e]=t},this.setIdentifierFns=function(e,t){return i=e,s=t,this},this.$get=["$filter",function(o){function u(n,r,i){var s,u,f;i=i||w;switch(typeof n){case"string":f=n=n.trim();var m=i?t:e;s=m[f];if(!s){":"===n.charAt(0)&&":"===n.charAt(1)&&(u=!0,n=n.substring(2)),s=i?b:y;var g=new bs(s);s=(new Es(g,o,s)).parse(n),s.constant?s.$$watchDelegate=d:u?s.$$watchDelegate=s.literal?p:c:s.inputs&&(s.$$watchDelegate=l),i&&(s=a(s)),m[f]=s}return v(s,r);case"function":return v(n,r);default:return v(h,r)}}function a(e){function t(t,n,r,i){var s=w;w=!0;try{return e(t,n,r,i)}finally{w=s}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=a(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=a(e.inputs[n]);return t.inputs=e.inputs,t}function f(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=Xn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function l(e,t,n,r,i){var s=r.inputs,o;if(1===s.length){var u=f,s=s[0];return e.$watch(function(e){var t=s(e);return f(t,u)||(o=r(e,void 0,void 0,[t]),u=t&&Xn(t)),o},t,n,i)}for(var a=[],l=[],c=0,h=s.length;c<h;c++)a[c]=f,l[c]=null;return e.$watch(function(e){for(var t=!1,n=0,i=s.length;n<i;n++){var u=s[n](e);if(t||(t=!f(u,a[n])))l[n]=u,a[n]=u&&Xn(u)}return t&&(o=r(e,void 0,void 0,l)),o},t,n,i)}function c(e,t,n,r){var i,s;return i=e.$watch(function(e){return r(e)},function(e,n,r){s=e,x(t)&&t.apply(this,arguments),g(e)&&r.$$postDigest(function(){g(s)&&i()})},n)}function p(e,t,n,i){function s(e){var t=!0;return r(e,function(e){g(e)||(t=!1)}),t}var o,u;return o=e.$watch(function(e){return i(e)},function(e,n,r){u=e,x(t)&&t.call(this,e,n,r),s(e)&&r.$$postDigest(function(){s(u)&&o()})},n)}function d(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function v(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,n=n!==p&&n!==c?function(n,i,s,o){return s=r&&o?o[0]:e(n,i,s,o),t(s,n,i)}:function(n,r,i,s){return i=e(n,r,i,s),n=t(i,n,r),g(i)?n:i};return e.$$watchDelegate&&e.$$watchDelegate!==l?n.$$watchDelegate=e.$$watchDelegate:t.$stateful||(n.$$watchDelegate=l,r=!e.inputs,n.inputs=e.inputs?e.inputs:[e]),n}var m=li().noUnsafeEval,y={csp:m,expensiveChecks:!1,literals:D(n),isIdentifierStart:x(i)&&i,isIdentifierContinue:x(s)&&s},b={csp:m,expensiveChecks:!0,literals:D(n),isIdentifierStart:x(i)&&i,isIdentifierContinue:x(s)&&s},w=!1;return u.$$runningExpensiveChecks=function(){return w},u}]}function $n(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Kn(function(t){e.$evalAsync(t)},t)}]}function Jn(){this.$get=["$browser","$exceptionHandler",function(e,t){return Kn(function(t){e.defer(t)},t)}]}function Kn(e,n){function i(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function o(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){var e,r,i;i=t.pending,t.processScheduled=!1,t.pending=void 0;for(var s=0,o=i.length;s<o;++s){r=i[s][0],e=i[s][t.status];try{x(e)?r.resolve(e(t.value)):1===t.status?r.resolve(t.value):r.reject(t.value)}catch(u){r.reject(u),n(u)}}}))}function u(){this.promise=new i}var f=t("$q",TypeError),l=function(){var e=new u;return e.resolve=s(e,e.resolve),e.reject=s(e,e.reject),e.notify=s(e,e.notify),e};a(i.prototype,{then:function(e,t,n){if(m(e)&&m(t)&&m(n))return this;var r=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),0<this.$$state.status&&o(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return h(t,!0,e)},function(t){return h(t,!1,e)},t)}}),a(u.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(f("qcycle",e)):this.$$resolve(e))},$$resolve:function(e){function t(e){a||(a=!0,u.$$resolve(e))}function r(e){a||(a=!0,u.$$reject(e))}var i,u=this,a=!1;try{if(y(e)||x(e))i=e&&e.then;x(i)?(this.promise.$$state.status=-1,i.call(e,t,r,s(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,o(this.promise.$$state))}catch(f){r(f),n(f)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,o(this.promise.$$state)},notify:function(t){var r=this.promise.$$state.pending;0>=this.promise.$$state.status&&r&&r.length&&e(function(){for(var e,i,s=0,o=r.length;s<o;s++){i=r[s][0],e=r[s][3];try{i.notify(x(e)?e(t):t)}catch(u){n(u)}}})}});var c=function(e,t){var n=new u;return t?n.resolve(e):n.reject(e),n.promise},h=function(e,t,n){var r=null;try{x(n)&&(r=n())}catch(i){return c(i,!1)}return r&&x(r.then)?r.then(function(){return c(e,t)},function(e){return c(e,!1)}):c(e,t)},p=function(e,t,n,r){var i=new u;return i.resolve(e),i.promise.then(t,n,r)},d=function(e){if(!x(e))throw f("norslvr",e);var t=new u;return e(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise};return d.prototype=i.prototype,d.defer=l,d.reject=function(e){var t=new u;return t.reject(e),t.promise},d.when=p,d.resolve=p,d.all=function(e){var t=new u,n=0,i=oi(e)?[]:{};return r(e,function(e,r){n++,p(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise},d.race=function(e){var t=l();return r(e,function(e){p(e).then(t.resolve,t.reject)}),t.promise},d}function Qn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,s=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return s.supported=i,s}]}function Gn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++si,this.$$ChildScope=null}return t.prototype=e,t}var i=10,s=t("$rootScope"),o=null,u=null;this.digestTtl=function(e){return arguments.length&&(i=e),i},this.$get=["$exceptionHandler","$parse","$browser",function(t,a,f){function l(e){e.currentScope.$$destroyed=!0}function c(e){9===Jr&&(e.$$childHead&&c(e.$$childHead),e.$$nextSibling&&c(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function p(){this.$id=++si,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function d(e){if(S.$$phase)throw s("inprog",S.$$phase);S.$$phase=e}function v(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function g(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function b(){}function w(){for(;C.length;)try{C.shift()()}catch(e){t(e)}u=null}function E(){null===u&&(u=f.defer(function(){S.$apply(w)}))}p.prototype={constructor:p,$new:function(t,n){var r;return n=n||this,t?(r=new p,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",l),r},$watch:function(e,t,n,r){var i=a(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var s=this,u=s.$$watchers,f={fn:t,last:b,get:i,exp:r||e,eq:!!n};return o=null,x(t)||(f.fn=h),u||(u=s.$$watchers=[]),u.unshift(f),v(this,1),function(){0<=_(u,f)&&v(s,-1),o=null}},$watchGroup:function(e,t){function n(){a=!1,f?(f=!1,t(s,s,u)):t(s,i,u)}var i=Array(e.length),s=Array(e.length),o=[],u=this,a=!1,f=!0;if(!e.length){var l=!0;return u.$evalAsync(function(){l&&t(s,s,u)}),function(){l=!1}}return 1===e.length?this.$watch(e[0],function(e,n,r){s[0]=e,i[0]=n,t(s,e===n?s:i,r)}):(r(e,function(e,t){var r=u.$watch(e,function(e,r){s[t]=e,i[t]=r,a||(a=!0,u.$evalAsync(n))});o.push(r)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(e,t){function r(e){s=e;var t,r,i,u;if(!m(s)){if(y(s))if(n(s))for(o!==h&&(o=h,v=o.length=0,l++),e=s.length,v!==e&&(l++,o.length=v=e),t=0;t<e;t++)u=o[t],i=s[t],r=u!==u&&i!==i,r||u===i||(l++,o[t]=i);else{o!==p&&(o=p={},v=0,l++),e=0;for(t in s)Xr.call(s,t)&&(e++,i=s[t],u=o[t],t in o?(r=u!==u&&i!==i,r||u===i||(l++,o[t]=i)):(v++,o[t]=i,l++));if(v>e)for(t in l++,o)Xr.call(s,t)||(v--,delete o[t])}else o!==s&&(o=s,l++);return l}}r.$stateful=!0;var i=this,s,o,u,f=1<t.length,l=0,c=a(e,r),h=[],p={},d=!0,v=0;return this.$watch(c,function(){d?(d=!1,t(s,s,i)):t(s,u,i);if(f)if(y(s))if(n(s)){u=Array(s.length);for(var e=0;e<s.length;e++)u[e]=s[e]}else for(e in u={},s)Xr.call(s,e)&&(u[e]=s[e]);else u=s})},$digest:function(){var e,n,r,a,l,c,h,p,v=i,m,g=[],y,E;d("$digest"),f.$$checkUrlChange(),this===S&&null!==u&&(f.defer.cancel(u),w()),o=null;do{p=!1,m=this;for(c=0;c<T.length;c++){try{E=T[c],E.scope.$eval(E.expression,E.locals)}catch(C){t(C)}o=null}T.length=0;e:do{if(c=m.$$watchers)for(h=c.length;h--;)try{if(e=c[h])if(l=e.get,(n=l(m))!==(r=e.last)&&!(e.eq?P(n,r):"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r)))p=!0,o=e,e.last=e.eq?D(n,null):n,a=e.fn,a(n,r===b?n:r,m),5>v&&(y=4-v,g[y]||(g[y]=[]),g[y].push({msg:x(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:r}));else if(e===o){p=!1;break e}}catch(L){t(L)}if(!(c=m.$$watchersCount&&m.$$childHead||m!==this&&m.$$nextSibling))for(;m!==this&&!(c=m.$$nextSibling);)m=m.$parent}while(m=c);if((p||T.length)&&!(v--))throw S.$$phase=null,s("infdig",i,g)}while(p||T.length);for(S.$$phase=null;k<N.length;)try{N[k++]()}catch(A){t(A)}N.length=k=0},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===S&&f.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var t in this.$$listenerCount)g(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=h,this.$on=this.$watch=this.$watchGroup=function(){return h},this.$$listeners={},this.$$nextSibling=null,c(this)}},$eval:function(e,t){return a(e)(this,t)},$evalAsync:function(e,t){S.$$phase||T.length||f.defer(function(){T.length&&S.$digest()}),T.push({scope:this,expression:a(e),locals:t})},$$postDigest:function(e){N.push(e)},$apply:function(e){try{d("$apply");try{return this.$eval(e)}finally{S.$$phase=null}}catch(n){t(n)}finally{try{S.$digest()}catch(r){throw t(r),r}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&C.push(t),e=a(e),E()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,g(i,1,e))}},$emit:function(e,n){var r=[],i,s=this,o=!1,u={name:e,targetScope:s,stopPropagation:function(){o=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},a=H([u],arguments,1),f,l;do{i=s.$$listeners[e]||r,u.currentScope=s,f=0;for(l=i.length;f<l;f++)if(i[f])try{i[f].apply(null,a)}catch(c){t(c)}else i.splice(f,1),f--,l--;if(o)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,n){var r=this,i=this,s={name:e,targetScope:this,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return s;for(var o=H([s],arguments,1),u,a;r=i;){s.currentScope=r,i=r.$$listeners[e]||[],u=0;for(a=i.length;u<a;u++)if(i[u])try{i[u].apply(null,o)}catch(f){t(f)}else i.splice(u,1),u--,a--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==this&&r.$$nextSibling))for(;r!==this&&!(i=r.$$nextSibling);)r=r.$parent}return s.currentScope=null,s}};var S=new p,T=S.$$asyncQueue=[],N=S.$$postDigestQueue=[],C=S.$$applyAsyncQueue=[],k=0;return S}]}function Yn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return g(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return g(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i=r?t:e,s;return s=ur(n).href,""===s||s.match(i)?n:"unsafe:"+s}}}function Zn(e){if("self"===e)return e;if(w(e)){if(-1<e.indexOf("***"))throw xs("iwcard",e);return e=fi(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(T(e))return new RegExp("^"+e.source+"$");throw xs("imatcher")}function er(e){var t=[];return g(e)&&r(e,function(e){t.push(Zn(e))}),t}function tr(){this.SCE_CONTEXTS=Ts;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=er(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=er(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?ar(t):!!e.exec(t.href)}function i(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var s=function(e){throw xs("unsafe")};n.has("$sanitize")&&(s=n.get("$sanitize"));var o=i(),u={};return u[Ts.HTML]=i(o),u[Ts.CSS]=i(o),u[Ts.URL]=i(o),u[Ts.JS]=i(o),u[Ts.RESOURCE_URL]=i(u[Ts.URL]),{trustAs:function(e,t){var n=u.hasOwnProperty(e)?u[e]:null;if(!n)throw xs("icontext",e,t);if(null===t||m(t)||""===t)return t;if("string"!=typeof t)throw xs("itype",e);return new n(t)},getTrusted:function(n,i){if(null===i||m(i)||""===i)return i;var o=u.hasOwnProperty(n)?u[n]:null;if(o&&i instanceof o)return i.$$unwrapTrustedValue();if(n===Ts.RESOURCE_URL){var o=ur(i.toString()),a,f,l=!1;a=0;for(f=e.length;a<f;a++)if(r(e[a],o)){l=!0;break}if(l)for(a=0,f=t.length;a<f;a++)if(r(t[a],o)){l=!1;break}if(l)return i;throw xs("insecurl",i.toString())}if(n===Ts.HTML)return s(i);throw xs("unsafe")},valueOf:function(e){return e instanceof o?e.$$unwrapTrustedValue():e}}}]}function nr(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Jr)throw xs("iequirks");var i=at(Ts);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=p),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var s=i.parseAs,o=i.getTrusted,u=i.trustAs;return r(Ts,function(e,t){var n=Vr(t);i[lt("parse_as_"+n)]=function(t){return s(e,t)},i[lt("get_trusted_"+n)]=function(t){return o(e,t)},i[lt("trust_as_"+n)]=function(t){return u(e,t)}}),i}]}function rr(){this.$get=["$window","$document",function(e,t){var n={},r=!(e.chrome&&e.chrome.app&&e.chrome.app.runtime)&&e.history&&e.history.pushState,i=l((/android (\d+)/.exec(Vr((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),o=t[0]||{},u,a=/^(Moz|webkit|ms)(?=[A-Z])/,f=o.body&&o.body.style,c=!1,h=!1;if(f){for(var p in f)if(c=a.exec(p)){u=c[0],u=u[0].toUpperCase()+u.substr(1);break}u||(u="WebkitOpacity"in f&&"webkit"),c="transition"in f||u+"Transition"in f,h="animation"in f||u+"Animation"in f,!i||c&&h||(c=w(f.webkitTransition),h=w(f.webkitAnimation))}return{history:!(!r||4>i||s),hasEvent:function(e){if("input"===e&&11>=Jr)return!1;if(m(n[e])){var t=o.createElement("div");n[e]="on"+e in t}return n[e]},csp:li(),vendorPrefix:u,transitions:c,animations:h,android:i}}]}function ir(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,r,i){function s(o,u){s.totalPendingRequests++;if(!w(o)||m(t.get(o)))o=i.getTrustedResourceUrl(o);var f=n.defaults&&n.defaults.transformResponse;return oi(f)?f=f.filter(function(e){return e!==un}):f===un&&(f=null),n.get(o,a({cache:t,transformResponse:f},e))["finally"](function(){s.totalPendingRequests--}).then(function(e){return t.put(o,e.data),e.data},function(e){if(!u)throw Ns("tpload",o,e.status,e.statusText);return r.reject(e)})}return s.totalPendingRequests=0,s}]}function sr(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var i=[];return r(e,function(e){var s=ri.element(e).data("$binding");s&&r(s,function(r){n?(new RegExp("(^|\\s)"+fi(t)+"(\\s|\\||$)")).test(r)&&i.push(e):-1!=r.indexOf(t)&&i.push(e)})}),i},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var s=e.querySelectorAll("["+r[i]+"model"+(n?"=":"*=")+'"'+t+'"]');if(s.length)return s}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function or(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function s(s,u,a){x(s)||(a=u,u=s,s=h);var f=Gr.call(arguments,3),l=g(a)&&!a,c=(l?r:n).defer(),p=c.promise,d;return d=t.defer(function(){try{c.resolve(s.apply(null,f))}catch(t){c.reject(t),i(t)}finally{delete o[p.$$timeoutId]}l||e.$apply()},u),p.$$timeoutId=d,o[d]=c,p}var o={};return s.cancel=function(e){return e&&e.$$timeoutId in o?(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},s}]}function ur(e){return Jr&&(Cs.setAttribute("href",e),e=Cs.href),Cs.setAttribute("href",e),{href:Cs.href,protocol:Cs.protocol?Cs.protocol.replace(/:$/,""):"",host:Cs.host,search:Cs.search?Cs.search.replace(/^\?/,""):"",hash:Cs.hash?Cs.hash.replace(/^#/,""):"",hostname:Cs.hostname,port:Cs.port,pathname:"/"===Cs.pathname.charAt(0)?Cs.pathname:"/"+Cs.pathname}}function ar(e){return e=w(e)?ur(e):e,e.protocol===ks.protocol&&e.host===ks.host}function fr(){this.$get=d(e)}function lr(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},i="";return function(){var e,s,o,u,a;e=n.cookie||"";if(e!==i)for(i=e,e=i.split("; "),r={},o=0;o<e.length;o++)s=e[o],u=s.indexOf("="),0<u&&(a=t(s.substring(0,u)),m(r[a])&&(r[a]=t(s.substring(u+1))));return r}}function cr(){this.$get=lr}function hr(e){function t(n,i){if(y(n)){var s={};return r(n,function(e,n){s[n]=t(n,e)}),s}return e.factory(n+"Filter",i)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",gr),t("date",Lr),t("filter",pr),t("json",Ar),t("limitTo",Or),t("lowercase",Ps),t("number",yr),t("orderBy",_r),t("uppercase",Hs)}function pr(){return function(e,r,i,s){if(!n(e)){if(null==e)return e;throw t("filter")("notarray",e)}s=s||"$";var o;switch(mr(r)){case"function":break;case"boolean":case"null":case"number":case"string":o=!0;case"object":r=dr(r,i,s,o);break;default:return e}return Array.prototype.filter.call(e,r)}}function dr(e,t,n,r){var i=y(e)&&n in e;return!0===t?t=P:x(t)||(t=function(e,t){return m(e)?!1:null===e||null===t?e===t:y(t)||y(e)&&!v(e)?!1:(e=Vr(""+e),t=Vr(""+t),-1!==e.indexOf(t))}),function(s){return i&&!y(s)?vr(s,e[n],t,n,!1):vr(s,e,t,n,r)}}function vr(e,t,n,r,i,s){var o=mr(e),u=mr(t);if("string"===u&&"!"===t.charAt(0))return!vr(e,t.substring(1),n,r,i);if(oi(e))return e.some(function(e){return vr(e,t,n,r,i)});switch(o){case"object":var a;if(i){for(a in e)if("$"!==a.charAt(0)&&vr(e[a],t,n,r,!0))return!0;return s?!1:vr(e,t,n,r,!1)}if("object"===u){for(a in t)if(s=t[a],!x(s)&&!m(s)&&(o=a===r,!vr(o?e:e[a],s,n,r,o,o)))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function mr(e){return null===e?"null":typeof e}function gr(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return m(n)&&(n=t.CURRENCY_SYM),m(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Er(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function yr(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Er(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function br(e){var t=0,n,r,i,s,o;-1<(r=e.indexOf(As))&&(e=e.replace(As,"")),0<(i=e.search(/e/i))?(0>r&&(r=i),r+=+e.slice(i+1),e=e.substring(0,i)):0>r&&(r=e.length);for(i=0;e.charAt(i)==Os;i++);if(i==(o=e.length))n=[0],r=1;else{for(o--;e.charAt(o)==Os;)o--;r-=i,n=[];for(s=0;i<=o;i++,s++)n[s]=+e.charAt(i)}return r>Ls&&(n=n.splice(0,Ls-1),t=r-1,r=1),{d:n,e:t,i:r}}function wr(e,t,n,r){var i=e.d,s=i.length-e.i;t=m(t)?Math.min(Math.max(n,s),r):+t,n=t+e.i,r=i[n];if(0<n){i.splice(Math.max(e.i,n));for(var o=n;o<i.length;o++)i[o]=0}else for(s=Math.max(0,s),e.i=1,i.length=Math.max(1,n=t+1),i[0]=0,o=1;o<n;o++)i[o]=0;if(5<=r)if(0>n-1){for(r=0;r>n;r--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[n-1]++;for(;s<Math.max(0,t);s++)i.push(0);if(t=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0))i.unshift(t),e.i++}function Er(e,t,n,r,i){if(!w(e)&&!E(e)||isNaN(e))return"";var s=!isFinite(e),o=!1,u=Math.abs(e)+"",a="";if(s)a="∞";else{o=br(u),wr(o,i,t.minFrac,t.maxFrac),a=o.d,u=o.i,i=o.e,s=[];for(o=a.reduce(function(e,t){return e&&!t},!0);0>u;)a.unshift(0),u++;0<u?s=a.splice(u,a.length):(s=a,a=[0]),u=[];for(a.length>=t.lgSize&&u.unshift(a.splice(-t.lgSize,a.length).join(""));a.length>t.gSize;)u.unshift(a.splice(-t.gSize,a.length).join(""));a.length&&u.unshift(a.join("")),a=u.join(n),s.length&&(a+=r+s.join("")),i&&(a+="e+"+i)}return 0>e&&!o?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf}function Sr(e,t,n,r){var i="";if(0>e||r&&0>=e)r?e=-e+1:(e=-e,i="-");for(e=""+e;e.length<t;)e=Os+e;return n&&(e=e.substr(e.length-t)),i+e}function xr(e,t,n,r,i){return n=n||0,function(s){s=s["get"+e]();if(0<n||s>-n)s+=n;return 0===s&&-12==n&&(s=12),Sr(s,t,r,i)}}function Tr(e,t,n){return function(r,i){var s=r["get"+e](),o=$r((n?"STANDALONE":"")+(t?"SHORT":"")+e);return i[o][s]}}function Nr(e){var t=(new Date(e,0,1)).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Cr(e){return function(t){var n=Nr(t.getFullYear());return t=+(new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay())))- +n,t=1+Math.round(t/6048e5),Sr(t,e)}}function kr(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function Lr(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var r=0,i=0,s=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(r=l(t[9]+t[10]),i=l(t[9]+t[11])),s.call(e,l(t[1]),l(t[2])-1,l(t[3])),r=l(t[4]||0)-r,i=l(t[5]||0)-i,s=l(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),o.call(e,r,i,s,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,s){var o="",u=[],a,f;i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,w(n)&&(n=Ds.test(n)?l(n):t(n)),E(n)&&(n=new Date(n));if(!S(n)||!isFinite(n.getTime()))return n;for(;i;)(f=_s.exec(i))?(u=H(u,f,1),i=u.pop()):(u.push(i),i=null);var c=n.getTimezoneOffset();return s&&(c=q(s,c),n=R(n,s,!0)),r(u,function(t){a=Ms[t],o+=a?a(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),o}}function Ar(){return function(e,t){return m(t)&&(t=2),F(e,t)}}function Or(){return function(e,t,r){return t=Infinity===Math.abs(Number(t))?Number(t):l(t),isNaN(t)?e:(E(e)&&(e=e.toString()),n(e)?(r=!r||isNaN(r)?0:l(r),r=0>r?Math.max(0,e.length+r):r,0<=t?Mr(e,r,r+t):0===r?Mr(e,t,e.length):Mr(e,Math.max(0,r+t),r)):e)}}function Mr(e,t,n){return w(e)?e.slice(t,n):Gr.call(e,t,n)}function _r(e){function r(t){return t.map(function(t){var n=1,r=p;if(x(t))r=t;else if(w(t)){if("+"==t.charAt(0)||"-"==t.charAt(0))n="-"==t.charAt(0)?-1:1,t=t.substring(1);if(""!==t&&(r=e(t),r.constant))var i=r(),r=function(e){return e[i]}}return{get:r,descending:n}})}function i(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function s(e,t){var n=0,r=e.type,i=t.type;if(r===i){var i=e.value,s=t.value;"string"===r?(i=i.toLowerCase(),s=s.toLowerCase()):"object"===r&&(y(i)&&(i=e.index),y(s)&&(s=t.index)),i!==s&&(n=i<s?-1:1)}else n=r<i?-1:1;return n}return function(e,o,u,a){if(null==e)return e;if(!n(e))throw t("orderBy")("notarray",e);oi(o)||(o=[o]),0===o.length&&(o=["+"]);var f=r(o),l=u?-1:1,c=x(a)?a:s;return e=Array.prototype.map.call(e,function(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:f.map(function(n){var r=n.get(e);n=typeof r;if(null===r)n="string",r="null";else if("object"===n)e:{if(x(r.valueOf)&&(r=r.valueOf(),i(r)))break e;v(r)&&(r=r.toString(),i(r))}return{value:r,type:n,index:t}})}}),e.sort(function(e,t){for(var n=0,r=f.length;n<r;n++){var i=c(e.predicateValues[n],t.predicateValues[n]);if(i)return i*f[n].descending*l}return c(e.tieBreaker,t.tieBreaker)*l}),e=e.map(function(e){return e.value})}}function Dr(e){return x(e)&&(e={link:e}),e.restrict=e.restrict||"AC",d(e)}function Pr(e,t,n,i,s){var o=this,u=[];o.$error={},o.$$success={},o.$pending=void 0,o.$name=s(t.name||t.ngForm||"")(n),o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,o.$submitted=!1,o.$$parentForm=Fs,o.$rollbackViewValue=function(){r(u,function(e){e.$rollbackViewValue()})},o.$commitViewValue=function(){r(u,function(e){e.$commitViewValue()})},o.$addControl=function(e){rt(e.$name,"input"),u.push(e),e.$name&&(o[e.$name]=e),e.$$parentForm=o},o.$$renameControl=function(e,t){var n=e.$name;o[n]===e&&delete o[n],o[t]=e,e.$name=t},o.$removeControl=function(e){e.$name&&o[e.$name]===e&&delete o[e.$name],r(o.$pending,function(t,n){o.$setValidity(n,null,e)}),r(o.$error,function(t,n){o.$setValidity(n,null,e)}),r(o.$$success,function(t,n){o.$setValidity(n,null,e)}),_(u,e),e.$$parentForm=Fs},Ur({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(_(r,n),0===r.length&&delete e[t])},$animate:i}),o.$setDirty=function(){i.removeClass(e,Eo),i.addClass(e,So),o.$dirty=!0,o.$pristine=!1,o.$$parentForm.$setDirty()},o.$setPristine=function(){i.setClass(e,Eo,So+" ng-submitted"),o.$dirty=!1,o.$pristine=!0,o.$submitted=!1,r(u,function(e){e.$setPristine()})},o.$setUntouched=function(){r(u,function(e){e.$setUntouched()})},o.$setSubmitted=function(){i.addClass(e,"ng-submitted"),o.$submitted=!0,o.$$parentForm.$setSubmitted()}}function Hr(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Br(e,t,n,r,i,s){var o=Vr(t[0].type);if(!i.android){var u=!1;t.on("compositionstart",function(){u=!0}),t.on("compositionend",function(){u=!1,f()})}var a,f=function(e){a&&(s.defer.cancel(a),a=null);if(!u){var i=t.val();e=e&&e.type,"password"===o||n.ngTrim&&"false"===n.ngTrim||(i=ai(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,e)}};if(i.hasEvent("input"))t.on("input",f);else{var l=function(e,t,n){a||(a=s.defer(function(){a=null,t&&t.value===n||f(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&19>t||37<=t&&40>=t||l(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",l)}t.on("change",f),Gs[o]&&r.$$hasNativeValidators&&o===n.type&&t.on("keydown wheel mousedown",function(e){if(!a){var t=this.validity,n=t.badInput,r=t.typeMismatch;a=s.defer(function(){a=null,t.badInput===n&&t.typeMismatch===r||f(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function jr(e,t){return function(n,i){var s,o;if(S(n))return n;if(w(n)){'"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1));if(Us.test(n))return new Date(n);e.lastIndex=0;if(s=e.exec(n))return s.shift(),o=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(s,function(e,n){n<t.length&&(o[t[n]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function Fr(e,t,n,r){return function(i,s,o,u,a,f,l){function c(e){return e&&(!e.getTime||e.getTime()===e.getTime())}function h(e){return g(e)&&!S(e)?n(e)||void 0:e}Ir(i,s,o,u),Br(i,s,o,u,a,f);var p=u&&u.$options&&u.$options.timezone,d;u.$$parserName=e,u.$parsers.push(function(e){if(u.$isEmpty(e))return null;if(t.test(e))return e=n(e,d),p&&(e=R(e,p)),e}),u.$formatters.push(function(e){if(e&&!S(e))throw To("datefmt",e);return c(e)?((d=e)&&p&&(d=R(d,p,!0)),l("date")(e,r,p)):(d=null,"")});if(g(o.min)||o.ngMin){var v;u.$validators.min=function(e){return!c(e)||m(v)||n(e)>=v},o.$observe("min",function(e){v=h(e),u.$validate()})}if(g(o.max)||o.ngMax){var y;u.$validators.max=function(e){return!c(e)||m(y)||n(e)<=y},o.$observe("max",function(e){y=h(e),u.$validate()})}}}function Ir(e,t,n,r){(r.$$hasNativeValidators=y(t[0].validity))&&r.$parsers.push(function(e){var n=t.prop("validity")||{};return n.badInput||n.typeMismatch?void 0:e})}function qr(e,t,n,r,i){if(g(r)){e=e(r);if(!e.constant)throw To("constexpr",n,r);return e(t)}return i}function Rr(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[],r=0;e:for(;r<e.length;r++){for(var i=e[r],s=0;s<t.length;s++)if(i==t[s])continue e;n.push(i)}return n}function s(e){var t=[];return oi(e)?(r(e,function(e){t=t.concat(s(e))}),t):w(e)?e.split(" "):y(e)?(r(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(o,u,a){function f(e){e=l(e,1),a.$addClass(e)}function l(e,t){var n=u.data("$classCounts")||ot(),i=[];return r(e,function(e){if(0<t||n[e])n[e]=(n[e]||0)+t,n[e]===+(0<t)&&i.push(e)}),u.data("$classCounts",n),i.join(" ")}function c(e,t){var r=i(t,e),s=i(e,t),r=l(r,1),s=l(s,-1);r&&r.length&&n.addClass(u,r),s&&s.length&&n.removeClass(u,s)}function h(e){if(!0===t||(o.$index&1)===t){var n=s(e||[]);if(!p)f(n);else if(!P(e,p)){var r=s(p);c(r,n)}}p=oi(e)?e.map(function(e){return at(e)}):at(e)}var p;o.$watch(a[e],h,!0),a.$observe("class",function(t){h(o.$eval(a[e]))}),"ngClass"!==e&&o.$watch("$index",function(n,r){var i=n&1;if(i!==(r&1)){var u=s(o.$eval(a[e]));i===t?f(u):(i=l(u,-1),a.$removeClass(i))}})}}}]}function Ur(e){function t(e,t){t&&!s[e]?(a.addClass(i,e),s[e]=!0):!t&&s[e]&&(a.removeClass(i,e),s[e]=!1)}function n(e,n){e=e?"-"+Z(e,"-"):"",t(bo+e,!0===n),t(wo+e,!1===n)}var r=e.ctrl,i=e.$element,s={},o=e.set,u=e.unset,a=e.$animate;s[wo]=!(s[bo]=i.hasClass(bo)),r.$setValidity=function(e,i,s){m(i)?(r.$pending||(r.$pending={}),o(r.$pending,e,s)):(r.$pending&&u(r.$pending,e,s),zr(r.$pending)&&(r.$pending=void 0)),k(i)?i?(u(r.$error,e,s),o(r.$$success,e,s)):(o(r.$error,e,s),u(r.$$success,e,s)):(u(r.$error,e,s),u(r.$$success,e,s)),r.$pending?(t(xo,!0),r.$valid=r.$invalid=void 0,n("",null)):(t(xo,!1),r.$valid=zr(r.$error),r.$invalid=!r.$valid,n("",r.$valid)),i=r.$pending&&r.$pending[e]?void 0:r.$error[e]?!1:r.$$success[e]?!0:null,n(e,i),r.$$parentForm.$setValidity(e,i,r)}}function zr(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Wr=/^\/(.+)\/([a-z]*)$/,Xr=Object.prototype.hasOwnProperty,Vr=function(e){return w(e)?e.toLowerCase():e},$r=function(e){return w(e)?e.toUpperCase():e},Jr,Kr,Qr,Gr=[].slice,Yr=[].splice,Zr=[].push,ei=Object.prototype.toString,ti=Object.getPrototypeOf,ni=t("ng"),ri=e.angular||(e.angular={}),ii,si=0;Jr=e.document.documentMode,h.$inject=[],p.$inject=[];var oi=Array.isArray,ui=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,ai=function(e){return w(e)?e.trim():e},fi=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},li=function(){if(!g(li.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");li.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{t=li;try{new Function(""),n=!1}catch(r){n=!0}t.rules={noUnsafeEval:n,noInlineStyle:!1}}}return li.rules},ci=function(){if(g(ci.name_))return ci.name_;var t,n,r=pi.length,i,s;for(n=0;n<r;++n)if(i=pi[n],t=e.document.querySelector("["+i.replace(":","\\:")+"jq]")){s=t.getAttribute(i+"jq");break}return ci.name_=s},hi=/:/g,pi=["ng-","data-ng-","ng:","x-ng-"],di=/[A-Z]/g,vi=!1,mi=3,gi={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};dt.expando="ng339";var yi=dt.cache={},bi=1;dt._data=function(e){return this.cache[e[this.expando]]||{}};var wi=/([\:\-\_]+(.))/g,Ei=/^moz([A-Z])/,Si={mouseleave:"mouseout",mouseenter:"mouseover"},xi=t("jqLite"),Ti=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ni=/<|&#?\w+;/,Ci=/<([\w:-]+)/,ki=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Li={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Li.optgroup=Li.option,Li.tbody=Li.tfoot=Li.colgroup=Li.caption=Li.thead,Li.th=Li.td;var Ai=e.Node.prototype.contains||function(e){return!!(this.compareDocumentPosition(e)&16)},Oi=dt.prototype={ready:function(t){function n(){r||(r=!0,t())}var r=!1;"complete"===e.document.readyState?e.setTimeout(n):(this.on("DOMContentLoaded",n),dt(e).on("load",n))},toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return 0<=e?Kr(this[e]):Kr(this[this.length+e])},length:0,push:Zr,sort:[].sort,splice:[].splice},Mi={};r("multiple selected checked disabled readOnly required open".split(" "),function(e){Mi[Vr(e)]=e});var _i={};r("input select option textarea button form details".split(" "),function(e){_i[e]=!0});var Di={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:wt,removeData:yt,hasData:function(e){for(var t in yi[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)yt(e[t])}},function(e,t){dt[t]=e}),r({data:wt,inheritedData:Ct,scope:function(e){return Kr.data(e,"$scope")||Ct(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Kr.data(e,"$isolateScope")||Kr.data(e,"$isolateScopeNoTemplate")},controller:Nt,injector:function(e){return Ct(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Et,css:function(e,t,n){t=lt(t);if(!g(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var r=e.nodeType;if(r!==mi&&2!==r&&8!==r)if(r=Vr(t),Mi[r]){if(!g(n))return e[t]||(e.attributes.getNamedItem(t)||h).specified?r:void 0;n?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(g(n))e.setAttribute(t,n);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?void 0:e},prop:function(e,t,n){if(!g(n))return e[t];e[t]=n},text:function(){function e(e,t){if(m(t)){var n=e.nodeType;return 1===n||n===mi?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(m(t)){if(e.multiple&&"select"===M(e)){var n=[];return r(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(m(t))return e.innerHTML;mt(e,!0),e.innerHTML=t},empty:kt},function(e,t){dt.prototype[t]=function(t,n){var r,i,s=this.length;if(e!==kt&&m(2==e.length&&e!==Et&&e!==Nt?t:n)){if(y(t)){for(r=0;r<s;r++)if(e===wt)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}r=e.$dv,s=m(r)?Math.min(s,1):s;for(i=0;i<s;i++){var o=e(this[i],t,n);r=r?r+o:o}return r}for(r=0;r<s;r++)e(this[r],t,n);return this}}),r({removeData:yt,on:function(e,t,n,r){if(g(r))throw xi("onargs");if(ct(e)){r=bt(e,!0);var i=r.events,s=r.handle;s||(s=r.handle=Mt(e,i)),r=0<=t.indexOf(" ")?t.split(" "):[t];for(var o=r.length,u=function(t,r,o){var u=i[t];u||(u=i[t]=[],u.specialHandlerWrapper=r,"$destroy"===t||o||e.addEventListener(t,s,!1)),u.push(n)};o--;)t=r[o],Si[t]?(u(Si[t],Dt),u(t,void 0,!0)):u(t)}},off:gt,one:function(e,t,n){e=Kr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;mt(e),r(new dt(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return r(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n){t=new dt(t);for(var n=0,r=t.length;n<r;n++)e.appendChild(t[n])}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;r(new dt(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){pt(e,Kr(t).eq(0).clone()[0])},remove:Lt,detach:function(e){Lt(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new dt(t);for(var i=0,s=t.length;i<s;i++){var o=t[i];r.insertBefore(o,n.nextSibling),n=o}},addClass:xt,removeClass:St,toggleClass:function(e,t,n){t&&r(t.split(" "),function(t){var r=n;m(r)&&(r=!Et(e,t)),(r?xt:St)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:vt,triggerHandler:function(e,t,n){var i,s,o=t.type||t,u=bt(e);if(u=(u=u&&u.events)&&u[o])i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:h,type:o,target:e},t.type&&(i=a(i,t)),t=at(u),s=n?[i].concat(n):[i],r(t,function(t){i.isImmediatePropagationStopped()||t.apply(e,s)})}},function(e,t){dt.prototype[t]=function(t,n,r){for(var i,s=0,o=this.length;s<o;s++)m(i)?(i=e(this[s],t,n,r),g(i)&&(i=Kr(i))):Tt(i,e(this[s],t,n,r));return g(i)?i:this},dt.prototype.bind=dt.prototype.on,dt.prototype.unbind=dt.prototype.off}),Bt.prototype={put:function(e,t){this[Ht(e,this.nextUid)]=t},get:function(e){return this[Ht(e,this.nextUid)]},remove:function(e){var t=this[e=Ht(e,this.nextUid)];return delete this[e],t}};var Pi=[function(){this.$get=[function(){return Bt}]}],Hi=/^([^\(]+?)=>/,Bi=/^[^\(]*\(\s*([^\)]*)\)/m,ji=/,/,Fi=/^\s*(_?)(\S+?)\1\s*$/,Ii=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,qi=t("$injector");It.$$annotate=function(e,t,n){var i;if("function"==typeof e){if(!(i=e.$inject)){i=[];if(e.length){if(t)throw w(n)&&n||(n=e.name||Ft(e)),qi("strictdi",n);t=jt(e),r(t[1].split(ji),function(e){e.replace(Fi,function(e,t,n){i.push(n)})})}e.$inject=i}}else oi(e)?(t=e.length-1,nt(e[t],"fn"),i=e.slice(0,t)):nt(e,"fn",!0);return i};var Ri=t("$animate"),Ui=function(){this.$get=h},zi=function(){var e=new Bt,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function s(e,t,n){var i=!1;return t&&(t=w(t)?t.split(" "):oi(t)?t:[],r(t,function(t){t&&(i=!0,e[t]=n)})),i}function o(){r(t,function(t){var n=e.get(t);if(n){var i=Ut(t.attr("class")),s="",o="";r(n,function(e,t){e!==!!i[t]&&(e?s+=(s.length?" ":"")+t:o+=(o.length?" ":"")+t)}),r(t,function(e){s&&xt(e,s),o&&St(e,o)}),e.remove(t)}}),t.length=0}return{enabled:h,on:h,off:h,pin:h,push:function(r,u,a,f){f&&f(),a=a||{},a.from&&r.css(a.from),a.to&&r.css(a.to);if(a.addClass||a.removeClass)if(u=a.addClass,f=a.removeClass,a=e.get(r)||{},u=s(a,u,!0),f=s(a,f,!1),u||f)e.put(r,a),t.push(r),1===t.length&&i.$$postDigest(o);return r=new n,r.complete(),r}}}]},Wi=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Ri("notcsel",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Ri("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r;e:{for(r=0;r<n.length;r++){var i=n[r];if(1===i.nodeType){r=i;break e}}r=void 0}!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,s){return r=r&&Kr(r),i=i&&Kr(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",zt(s))},move:function(n,r,i,s){return r=r&&Kr(r),i=i&&Kr(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",zt(s))},leave:function(t,n){return e.push(t,"leave",zt(n),function(){t.remove()})},addClass:function(t,n,r){return r=zt(r),r.addClass=Rt(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=zt(r),r.removeClass=Rt(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=zt(i),i.addClass=Rt(i.addClass,n),i.removeClass=Rt(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,s){return s=zt(s),s.from=s.from?a(s.from,n):n,s.to=s.to?a(s.to,r):r,s.tempClasses=Rt(s.tempClasses,i||"ng-inline-animate"),e.push(t,"animate",s)}}}]}],Xi=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),1<n.length||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Vi=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,i,s){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){var n=i[0];n&&n.hidden?s(e,0,!1):t(e)},this._state=0}return o.chain=function(e,t){function n(){r===e.length?t(!0):e[r](function(e){!1===e?t(!1):(r++,n())})}var r=0;n()},o.all=function(e,t){function n(n){s=s&&n,++i===e.length&&t(s)}var i=0,s=!0;r(e,function(e){e.done(n)})},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:h,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(r(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},o}]},$i=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){s.addClass&&(t.addClass(s.addClass),s.addClass=null),s.removeClass&&(t.removeClass(s.removeClass),s.removeClass=null),s.to&&(t.css(s.to),s.to=null),o||u.complete(),o=!0}),u}var s=r||{};s.$$prepared||(s=D(s)),s.cleanupStyles&&(s.from=s.to=null),s.from&&(t.css(s.from),s.from=null);var o,u=new n;return{start:i,end:i}}}]},Ji=t("$compile"),Ki=new function(){};Jt.$inject=["$provide","$$sanitizeUriProvider"],Kt.prototype.isFirstChange=function(){return this.previousValue===Ki};var Qi=/^((?:x|data)[\:\-_])/i,Gi=t("$controller"),Yi=/^(\S+)(\s+as\s+([\w$]+))?$/,Zi=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Kr&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},es="application/json",ts={"Content-Type":es+";charset=utf-8"},ns=/^\[|^\{(?!\{)/,rs={"[":/]$/,"{":/}$/},is=/^\)\]\}',?\n/,ss=t("$http"),os=function(e){return function(){throw ss("legacy",e)}},us=ri.$interpolateMinErr=t("$interpolate");us.throwNoconcat=function(e){throw us("noconcat",e)},us.interr=function(e,t){return us("interr",e,t.toString())};var as=function(){this.$get=["$window",function(e){function t(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var n=e.angular.callbacks,r={};return{createCallback:function(e){e="_"+(n.$$counter++).toString(36);var i="angular.callbacks."+e,s=t(e);return r[i]=n[e]=s,i},wasCalled:function(e){return r[e].called},getResponse:function(e){return r[e].data},removeCallback:function(e){delete n[r[e].id],delete r[e]}}}]},fs=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ls={http:80,https:443,ftp:21},cs=t("$location"),hs={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Cn("$$absUrl"),url:function(e){if(m(e))return this.$$url;var t=fs.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Cn("$$protocol"),host:Cn("$$host"),port:Cn("$$port"),path:kn("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e)||E(e))e=e.toString(),this.$$search=W(e);else{if(!y(e))throw cs("isrcharg");e=D(e,{}),r(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:m(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:kn("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};r([Nn,Tn,xn],function(e){e.prototype=Object.create(hs),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==xn||!this.$$html5)throw cs("nostate");return this.$$state=m(t)?null:t,this}});var ps=t("$parse"),ds=Function.prototype.call,vs=Function.prototype.apply,ms=Function.prototype.bind,gs=ot();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){gs[e]=!0});var ys={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},bs=function(e){this.options=e};bs.prototype={constructor:bs,lex:function(e){this.text=e,this.index=0;for(this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),r=gs[t],i=gs[n];gs[e]||r||i?(e=i?n:r?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(e){return"0"<=e&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&"z">=e||"A"<=e&&"Z">=e||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return 55296<=n&&56319>=n&&56320<=r&&57343>=r?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=g(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,ps("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Vr(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var s=this.text.charAt(this.index),r=r+s;if(i)"u"===s?(i=this.text.substring(this.index+1,this.index+5),i.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,n+=String.fromCharCode(parseInt(i,16))):n+=ys[s]||s,i=!1;else if("\\"===s)i=!0;else{if(s===e){this.index++,this.tokens.push({index:t,text:r,constant:!0,value:n});return}n+=s}this.index++}this.throwError("Unterminated quote",t)}};var ws=function(e,t){this.lexer=e,this.options=t};ws.Program="Program",ws.ExpressionStatement="ExpressionStatement",ws.AssignmentExpression="AssignmentExpression",ws.ConditionalExpression="ConditionalExpression",ws.LogicalExpression="LogicalExpression",ws.BinaryExpression="BinaryExpression",ws.UnaryExpression="UnaryExpression",ws.CallExpression="CallExpression",ws.MemberExpression="MemberExpression",ws.Identifier="Identifier",ws.Literal="Literal",ws.ArrayExpression="ArrayExpression",ws.Property="Property",ws.ObjectExpression="ObjectExpression",ws.ThisExpression="ThisExpression",ws.LocalsExpression="LocalsExpression",ws.NGValueParameter="NGValueParameter",ws.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:ws.Program,body:e}},expressionStatement:function(){return{type:ws.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:ws.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e=this.logicalOR(),t,n;return this.expect("?")&&(t=this.expression(),this.consume(":"))?(n=this.expression(),{type:ws.ConditionalExpression,test:e,alternate:t,consequent:n}):e},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:ws.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:ws.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e=this.relational(),t;t=this.expect("==","!=","===","!==");)e={type:ws.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var e=this.additive(),t;t=this.expect("<",">","<=",">=");)e={type:ws.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var e=this.multiplicative(),t;t=this.expect("+","-");)e={type:ws.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var e=this.unary(),t;t=this.expect("*","/","%");)e={type:ws.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:ws.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=D(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:ws.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:ws.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:ws.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:ws.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:ws.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:ws.Identifier,name:e.text}},constant:function(){return{type:ws.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:ws.ArrayExpression,elements:e}},object:function(){var e=[],t;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:ws.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:ws.ObjectExpression,properties:e}},throwError:function(e,t){throw ps("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw ps("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw ps("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){e=this.tokens[e];var s=e.text;if(s===t||s===n||s===r||s===i||!(t||n||r||i))return e}return!1},expect:function(e,t,n,r){return(e=this.peek(e,t,n,r))?(this.tokens.shift(),e):!1},selfReferential:{"this":{type:ws.ThisExpression},$locals:{type:ws.LocalsExpression}}},Un.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},jn(i,n.$filter);var s="",o;this.stage="assign";if(o=qn(i))this.state.computing="assign",s=this.nextId(),this.recurse(o,s),this.return_(s),s="fn.assign="+this.generateFunction("assign","s,v,l");return o=Fn(i.body),n.stage="inputs",r(o,function(e,t){var r="fn"+t;n.state[r]={vars:[],body:[],own:{}},n.state.computing=r;var i=n.nextId();n.recurse(e,i),n.return_(i),n.state.inputs.push(r),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i),s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",s=(new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",s))(this.$filter,On,_n,Dn,Mn,Pn,Hn,Bn,e),this.state=this.stage=void 0,s.literal=Rn(i),s.constant=i.constant,s},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return r(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return r(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,s,o){var u,a,f=this,l,c,p;i=i||h;if(!o&&g(e.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,s,!0));else switch(e.type){case ws.Program:r(e.body,function(t,n){f.recurse(t.expression,void 0,void 0,function(e){a=e}),n!==e.body.length-1?f.current().body.push(a,";"):f.return_(a)});break;case ws.Literal:c=this.escape(e.value),this.assign(t,c),i(c);break;case ws.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){a=e}),c=e.operator+"("+this.ifDefined(a,0)+")",this.assign(t,c),i(c);break;case ws.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){u=e}),this.recurse(e.right,void 0,void 0,function(e){a=e}),c="+"===e.operator?this.plus(u,a):"-"===e.operator?this.ifDefined(u,0)+e.operator+this.ifDefined(a,0):"("+u+")"+e.operator+"("+a+")",this.assign(t,c),i(c);break;case ws.LogicalExpression:t=t||this.nextId(),f.recurse(e.left,t),f.if_("&&"===e.operator?t:f.not(t),f.lazyRecurse(e.right,t)),i(t);break;case ws.ConditionalExpression:t=t||this.nextId(),f.recurse(e.test,t),f.if_(t,f.lazyRecurse(e.alternate,t),f.lazyRecurse(e.consequent,t)),i(t);break;case ws.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===f.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),On(e.name),f.if_("inputs"===f.stage||f.not(f.getHasOwnProperty("l",e.name)),function(){f.if_("inputs"===f.stage||"s",function(){s&&1!==s&&f.if_(f.not(f.nonComputedMember("s",e.name)),f.lazyAssign(f.nonComputedMember("s",e.name),"{}")),f.assign(t,f.nonComputedMember("s",e.name))})},t&&f.lazyAssign(t,f.nonComputedMember("l",e.name))),(f.state.expensiveChecks||Wn(e.name))&&f.addEnsureSafeObject(t),i(t);break;case ws.MemberExpression:u=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),f.recurse(e.object,u,void 0,function(){f.if_(f.notNull(u),function(){s&&1!==s&&f.addEnsureSafeAssignContext(u);if(e.computed)a=f.nextId(),f.recurse(e.property,a),f.getStringValue(a),f.addEnsureSafeMemberName(a),s&&1!==s&&f.if_(f.not(f.computedMember(u,a)),f.lazyAssign(f.computedMember(u,a),"{}")),c=f.ensureSafeObject(f.computedMember(u,a)),f.assign(t,c),n&&(n.computed=!0,n.name=a);else{On(e.property.name),s&&1!==s&&f.if_(f.not(f.nonComputedMember(u,e.property.name)),f.lazyAssign(f.nonComputedMember(u,e.property.name),"{}")),c=f.nonComputedMember(u,e.property.name);if(f.state.expensiveChecks||Wn(e.property.name))c=f.ensureSafeObject(c);f.assign(t,c),n&&(n.computed=!1,n.name=e.property.name)}},function(){f.assign(t,"undefined")}),i(t)},!!s);break;case ws.CallExpression:t=t||this.nextId(),e.filter?(a=f.filter(e.callee.name),l=[],r(e.arguments,function(e){var t=f.nextId();f.recurse(e,t),l.push(t)}),c=a+"("+l.join(",")+")",f.assign(t,c),i(t)):(a=f.nextId(),u={},l=[],f.recurse(e.callee,a,u,function(){f.if_(f.notNull(a),function(){f.addEnsureSafeFunction(a),r(e.arguments,function(e){f.recurse(e,f.nextId(),void 0,function(e){l.push(f.ensureSafeObject(e))})}),u.name?(f.state.expensiveChecks||f.addEnsureSafeObject(u.context),c=f.member(u.context,u.name,u.computed)+"("+l.join(",")+")"):c=a+"("+l.join(",")+")",c=f.ensureSafeObject(c),f.assign(t,c)},function(){f.assign(t,"undefined")}),i(t)}));break;case ws.AssignmentExpression:a=this.nextId(),u={};if(!In(e.left))throw ps("lval");this.recurse(e.left,void 0,u,function(){f.if_(f.notNull(u.context),function(){f.recurse(e.right,a),f.addEnsureSafeObject(f.member(u.context,u.name,u.computed)),f.addEnsureSafeAssignContext(u.context),c=f.member(u.context,u.name,u.computed)+e.operator+a,f.assign(t,c),i(t||c)})},1);break;case ws.ArrayExpression:l=[],r(e.elements,function(e){f.recurse(e,f.nextId(),void 0,function(e){l.push(e)})}),c="["+l.join(",")+"]",this.assign(t,c),i(c);break;case ws.ObjectExpression:l=[],p=!1,r(e.properties,function(e){e.computed&&(p=!0)}),p?(t=t||this.nextId(),this.assign(t,"{}"),r(e.properties,function(e){e.computed?(u=f.nextId(),f.recurse(e.key,u)):u=e.key.type===ws.Identifier?e.key.name:""+e.key.value,a=f.nextId(),f.recurse(e.value,a),f.assign(f.member(t,u,e.computed),a)})):(r(e.properties,function(t){f.recurse(t.value,e.constant?void 0:f.nextId(),void 0,function(e){l.push(f.escape(t.key.type===ws.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+l.join(",")+"}",this.assign(t,c)),i(t||c);break;case ws.ThisExpression:this.assign(t,"s"),i("s");break;case ws.LocalsExpression:this.assign(t,"l"),i("l");break;case ws.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[^$_a-zA-Z0-9]/g;return/[$_a-zA-Z][$_a-zA-Z0-9]*/.test(t)?e+"."+t:e+'["'+t.replace(n,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,s){var o=this;return function(){o.recurse(e,t,n,r,i,s)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(w(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(E(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw ps("esc")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},zn.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,jn(i,n.$filter);var s,o;if(s=qn(i))o=this.recurse(s);s=Fn(i.body);var u;s&&(u=[],r(s,function(e,t){var r=n.recurse(e);e.input=r,u.push(r),e.watchId=t}));var a=[];return r(i.body,function(e){a.push(n.recurse(e.expression))}),s=0===i.body.length?h:1===i.body.length?a[0]:function(e,t){var n;return r(a,function(r){n=r(e,t)}),n},o&&(s.assign=function(e,t,n){return o(e,n,t)}),u&&(s.inputs=u),s.literal=Rn(i),s.constant=i.constant,s},recurse:function(e,t,n){var i,s,o=this,u;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case ws.Literal:return this.value(e.value,t);case ws.UnaryExpression:return s=this.recurse(e.argument),this["unary"+e.operator](s,t);case ws.BinaryExpression:return i=this.recurse(e.left),s=this.recurse(e.right),this["binary"+e.operator](i,s,t);case ws.LogicalExpression:return i=this.recurse(e.left),s=this.recurse(e.right),this["binary"+e.operator](i,s,t);case ws.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case ws.Identifier:return On(e.name,o.expression),o.identifier(e.name,o.expensiveChecks||Wn(e.name),t,n,o.expression);case ws.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(On(e.property.name,o.expression),s=e.property.name),e.computed&&(s=this.recurse(e.property)),e.computed?this.computedMember(i,s,t,n,o.expression):this.nonComputedMember(i,s,o.expensiveChecks,t,n,o.expression);case ws.CallExpression:return u=[],r(e.arguments,function(e){u.push(o.recurse(e))}),e.filter&&(s=this.$filter(e.callee.name)),e.filter||(s=this.recurse(e.callee,!0)),e.filter?function(e,n,r,i){for(var o=[],a=0;a<u.length;++a)o.push(u[a](e,n,r,i));return e=s.apply(void 0,o,i),t?{context:void 0,name:void 0,value:e}:e}:function(e,n,r,i){var a=s(e,n,r,i),f;if(null!=a.value){_n(a.context,o.expression),Dn(a.value,o.expression),f=[];for(var l=0;l<u.length;++l)f.push(_n(u[l](e,n,r,i),o.expression));f=_n(a.value.apply(a.context,f),o.expression)}return t?{value:f}:f};case ws.AssignmentExpression:return i=this.recurse(e.left,!0,1),s=this.recurse(e.right),function(e,n,r,u){var a=i(e,n,r,u);return e=s(e,n,r,u),_n(a.value,o.expression),Pn(a.context),a.context[a.name]=e,t?{value:e}:e};case ws.ArrayExpression:return u=[],r(e.elements,function(e){u.push(o.recurse(e))}),function(e,n,r,i){for(var s=[],o=0;o<u.length;++o)s.push(u[o](e,n,r,i));return t?{value:s}:s};case ws.ObjectExpression:return u=[],r(e.properties,function(e){e.computed?u.push({key:o.recurse(e.key),computed:!0,value:o.recurse(e.value)}):u.push({key:e.key.type===ws.Identifier?e.key.name:""+e.key.value,computed:!1,value:o.recurse(e.value)})}),function(e,n,r,i){for(var s={},o=0;o<u.length;++o)u[o].computed?s[u[o].key(e,n,r,i)]=u[o].value(e,n,r,i):s[u[o].key]=u[o].value(e,n,r,i);return t?{value:s}:s};case ws.ThisExpression:return function(e){return t?{value:e}:e};case ws.LocalsExpression:return function(e,n){return t?{value:n}:n};case ws.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,s){return n=e(n,r,i,s),n=g(n)?+n:0,t?{value:n}:n}},"unary-":function(e,t){return function(n,r,i,s){return n=e(n,r,i,s),n=g(n)?-n:0,t?{value:n}:n}},"unary!":function(e,t){return function(n,r,i,s){return n=!e(n,r,i,s),t?{value:n}:n}},"binary+":function(e,t,n){return function(r,i,s,o){var u=e(r,i,s,o);return r=t(r,i,s,o),u=Bn(u,r),n?{value:u}:u}},"binary-":function(e,t,n){return function(r,i,s,o){var u=e(r,i,s,o);return r=t(r,i,s,o),u=(g(u)?u:0)-(g(r)?r:0),n?{value:u}:u}},"binary*":function(e,t,n){return function(r,i,s,o){return r=e(r,i,s,o)*t(r,i,s,o),n?{value:r}:r}},"binary/":function(e,t,n){return function(r,i,s,o){return r=e(r,i,s,o)/t(r,i,s,o),n?{value:r}:r}},"binary%":function(e,t,n){return function(r,i,s,o){return r=e(r,i,s,o)%t(r,i,s,o),n?{value:r}:r}},"binary===":function(e,t,n){return function(r,i,s,o){return r=e(r,i,s,o)===t(r,i,s,o),n?{value:r}:r}},"binary!==":function(e,t,n){return function(r,i,s,o){return r=e(r,i,s,o)!==t(r,i,s,o),n?{value:r}:r}},"binary==":function(e,t,n){return function(r,i,s,o){return r=e(r,i,s,o)==t(r,i,s,o),n?{value:r}:r}},"binary!=":function(e,t,n){return function(r,i,s,o){return r=e(r,i,s,o)!=t(r,i,s,o),n?{value:r}:r}},"binary<":function(e,t,n){return function(r,i,s,o){return r=e(r,i,s,o)<t(r,i,s,o),n?{value:r}:r}},"binary>":function(e,t,n){return function(r,i,s,o){return r=e(r,i,s,o)>t(r,i,s,o),n?{value:r}:r}},"binary<=":function(e,t,n){return function(r,i,s,o){return r=e(r,i,s,o)<=t(r,i,s,o),n?{value:r}:r}},"binary>=":function(e,t,n){return function(r,i,s,o){return r=e(r,i,s,o)>=t(r,i,s,o),n?{value:r}:r}},"binary&&":function(e,t,n){return function(r,i,s,o){return r=e(r,i,s,o)&&t(r,i,s,o),n?{value:r}:r}},"binary||":function(e,t,n){return function(r,i,s,o){return r=e(r,i,s,o)||t(r,i,s,o),n?{value:r}:r}},"ternary?:":function(e,t,n,r){return function(i,s,o,u){return i=e(i,s,o,u)?t(i,s,o,u):n(i,s,o,u),r?{value:i}:i}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,r,i){return function(s,o,u,a){return s=o&&e in o?o:s,r&&1!==r&&s&&!s[e]&&(s[e]={}),o=s?s[e]:void 0,t&&_n(o,i),n?{context:s,name:e,value:o}:o}},computedMember:function(e,t,n,r,i){return function(s,o,u,a){var f=e(s,o,u,a),l,c;return null!=f&&(l=t(s,o,u,a),l+="",On(l,i),r&&1!==r&&(Pn(f),f&&!f[l]&&(f[l]={})),c=f[l],_n(c,i)),n?{context:f,name:l,value:c}:c}},nonComputedMember:function(e,t,n,r,i,s){return function(o,u,a,f){return o=e(o,u,a,f),i&&1!==i&&(Pn(o),o&&!o[t]&&(o[t]={})),u=null!=o?o[t]:void 0,(n||Wn(t))&&_n(u,s),r?{context:o,name:t,value:u}:u}},inputs:function(e,t){return function(n,r,i,s){return s?s[t]:e(n,r,i)}}};var Es=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new ws(e,n),this.astCompiler=n.csp?new zn(this.ast,t):new Un(this.ast,t)};Es.prototype={constructor:Es,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var Ss=Object.prototype.valueOf,xs=t("$sce"),Ts={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ns=t("$compile"),Cs=e.document.createElement("a"),ks=ur(e.location.href);lr.$inject=["$document"],hr.$inject=["$provide"];var Ls=22,As=".",Os="0";gr.$inject=["$locale"],yr.$inject=["$locale"];var Ms={yyyy:xr("FullYear",4,0,!1,!0),yy:xr("FullYear",2,0,!0,!0),y:xr("FullYear",1,0,!1,!0),MMMM:Tr("Month"),MMM:Tr("Month",!0),MM:xr("Month",2,1),M:xr("Month",1,1),LLLL:Tr("Month",!1,!0),dd:xr("Date",2),d:xr("Date",1),HH:xr("Hours",2),H:xr("Hours",1),hh:xr("Hours",2,-12),h:xr("Hours",1,-12),mm:xr("Minutes",2),m:xr("Minutes",1),ss:xr("Seconds",2),s:xr("Seconds",1),sss:xr("Milliseconds",3),EEEE:Tr("Day"),EEE:Tr("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){return e=-1*n,e=(0<=e?"+":"")+(Sr(Math[0<e?"floor":"ceil"](e/60),2)+Sr(Math.abs(e%60),2))},ww:Cr(2),w:Cr(1),G:kr,GG:kr,GGG:kr,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},_s=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Ds=/^\-?\d+$/;Lr.$inject=["$locale"];var Ps=d(Vr),Hs=d($r);_r.$inject=["$parse"];var Bs=d({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===ei.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),js={};r(Mi,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=Qt("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),js[r]=function(){return{restrict:"A",priority:100,link:i}}}}),r(Di,function(e,t){js[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)&&(n=r.ngPattern.match(Wr))){r.$set("ngPattern",new RegExp(n[1],n[2]));return}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),r(["src","srcset","href"],function(e){var t=Qt("ng-"+e);js[t]=function(){return{priority:99,link:function(n,r,i){var s=e,o=e;"href"===e&&"[object SVGAnimatedString]"===ei.call(r.prop("href"))&&(o="xlinkHref",i.$attr[o]="xlink:href",s=null),i.$observe(t,function(t){t?(i.$set(o,t),Jr&&s&&r.prop(s,i[o])):"href"===e&&i.$set(o,null)})}}}});var Fs={$addControl:h,$$renameControl:function(e,t){e.$name=t},$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h,$setSubmitted:h};Pr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Is=function(e){return["$timeout","$parse",function(t,n){function r(e){return""===e?n('this[""]').assign:n(e).assign||h}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Pr,compile:function(n,i){n.addClass(Eo).addClass(bo);var s=i.name?"name":e&&i.ngForm?"ngForm":!1;return{pre:function(e,n,i,o){var u=o[0];if(!("action"in i)){var f=function(t){e.$apply(function(){u.$commitViewValue(),u.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",f,!1),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",f,!1)},0,!1)})}(o[1]||u.$$parentForm).$addControl(u);var l=s?r(u.$name):h;s&&(l(e,u),i.$observe(s,function(t){u.$name!==t&&(l(e,void 0),u.$$parentForm.$$renameControl(u,t),l=r(u.$name),l(e,u))})),n.on("$destroy",function(){u.$$parentForm.$removeControl(u),l(e,void 0),a(u,Fs)})}}}}}]},qs=Is(),Rs=Is(!0),Us=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,zs=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Ws=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Xs=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Vs=/^(\d{4,})-(\d{2})-(\d{2})$/,$s=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Js=/^(\d{4,})-W(\d\d)$/,Ks=/^(\d{4,})-(\d\d)$/,Qs=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Gs=ot();r(["date","datetime-local","month","time","week"],function(e){Gs[e]=!0});var Ys={text:function(e,t,n,r,i,s){Br(e,t,n,r,i,s),Hr(r)},date:Fr("date",Vs,jr(Vs,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Fr("datetimelocal",$s,jr($s,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Fr("time",Qs,jr(Qs,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Fr("week",Js,function(e,t){if(S(e))return e;if(w(e)){Js.lastIndex=0;var n=Js.exec(e);if(n){var r=+n[1],i=+n[2],s=n=0,o=0,u=0,a=Nr(r),i=7*(i-1);return t&&(n=t.getHours(),s=t.getMinutes(),o=t.getSeconds(),u=t.getMilliseconds()),new Date(r,0,a.getDate()+i,n,s,o,u)}}return NaN},"yyyy-Www"),month:Fr("month",Ks,jr(Ks,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,r,i,s){Ir(e,t,n,r),Br(e,t,n,r,i,s),r.$$parserName="number",r.$parsers.push(function(e){if(r.$isEmpty(e))return null;if(Xs.test(e))return parseFloat(e)}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!E(e))throw To("numfmt",e);e=e.toString()}return e});if(g(n.min)||n.ngMin){var o;r.$validators.min=function(e){return r.$isEmpty(e)||m(o)||e>=o},n.$observe("min",function(e){g(e)&&!E(e)&&(e=parseFloat(e)),o=E(e)&&!isNaN(e)?e:void 0,r.$validate()})}if(g(n.max)||n.ngMax){var u;r.$validators.max=function(e){return r.$isEmpty(e)||m(u)||e<=u},n.$observe("max",function(e){g(e)&&!E(e)&&(e=parseFloat(e)),u=E(e)&&!isNaN(e)?e:void 0,r.$validate()})}},url:function(e,t,n,r,i,s){Br(e,t,n,r,i,s),Hr(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||zs.test(n)}},email:function(e,t,n,r,i,s){Br(e,t,n,r,i,s),Hr(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Ws.test(n)}},radio:function(e,t,n,r){m(n.name)&&t.attr("name",++si),t.on("click",function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)}),r.$render=function(){t[0].checked=n.value==r.$viewValue},n.$observe("value",r.$render)},checkbox:function(e,t,n,r,i,s,o,u){var a=qr(u,e,"ngTrueValue",n.ngTrueValue,!0),f=qr(u,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){r.$setViewValue(t[0].checked,e&&e.type)}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return P(e,a)}),r.$parsers.push(function(e){return e?a:f})},hidden:h,button:h,submit:h,reset:h,file:h},Zs=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,s,o,u){u[0]&&(Ys[Vr(o.type)]||Ys.text)(i,s,o,u[0],t,e,n,r)}}}}],eo=/^(true|false|\d+)$/,to=function(){return{restrict:"A",priority:100,compile:function(e,t){return eo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},no=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=m(e)?"":e})}}}}],ro=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){n=e(r.attr(i.$attr.ngBindTemplate)),t.$$addBindingInfo(r,n.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=m(e)?"":e})}}}}],io=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var s=t(i.ngBindHtml),o=t(i.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(o,function(){var n=s(t);r.html(e.getTrustedHtml(n)||"")})}}}}],so=d({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),oo=Rr("",!0),uo=Rr("Odd",0),ao=Rr("Even",1),fo=Dr({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),lo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],co={},ho={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Qt("ng-"+e);co[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,s){var o=n(s[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){o(t,{$event:n})};ho[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var po=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,s,o){var u,a,f;n.$watch(i.ngIf,function(n){n?a||o(function(n,s){a=s,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),u={clone:n},e.enter(n,r.parent(),r)}):(f&&(f.remove(),f=null),a&&(a.$destroy(),a=null),u&&(f=st(u.clone),e.leave(f).then(function(){f=null}),u=null))})}}}],vo=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ri.noop,compile:function(r,i){var s=i.ngInclude||i.src,o=i.onload||"",u=i.autoscroll;return function(r,i,a,f,l){var c=0,h,p,d,v=function(){p&&(p.remove(),p=null),h&&(h.$destroy(),h=null),d&&(n.leave(d).then(function(){p=null}),p=d,d=null)};r.$watch(s,function(s){var a=function(){!g(u)||u&&!r.$eval(u)||t()},p=++c;s?(e(s,!0).then(function(e){if(!r.$$destroyed&&p===c){var t=r.$new();f.template=e,e=l(t,function(e){v(),n.enter(e,null,i).then(a)}),h=t,d=e,h.$emit("$includeContentLoaded",s),r.$eval(o)}},function(){r.$$destroyed||p!==c||(v(),r.$emit("$includeContentError",s))}),r.$emit("$includeContentRequested",s)):(v(),f.template=null)})}}}}],mo=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,s){ei.call(r[0]).match(/SVG/)?(r.empty(),t(ht(s.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(s.template),t(r.contents())(n))}}}],go=Dr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),yo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var s=t.attr(n.$attr.ngList)||", ",o="false"!==n.ngTrim,u=o?ai(s):s;i.$parsers.push(function(e){if(!m(e)){var t=[];return e&&r(e.split(u),function(e){e&&t.push(o?ai(e):e)}),t}}),i.$formatters.push(function(e){if(oi(e))return e.join(s)}),i.$isEmpty=function(e){return!e||!e.length}}}},bo="ng-valid",wo="ng-invalid",Eo="ng-pristine",So="ng-dirty",xo="ng-pending",To=t("ngModel"),No=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,i,s,o,u,a,f,l){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=Fs;var c=s(n.ngModel),p=c.assign,d=c,v=p,y=null,b,w=this;this.$$setOptions=function(e){if((w.$options=e)&&e.getterSetter){var t=s(n.ngModel+"()"),r=s(n.ngModel+"($$$p)");d=function(e){var n=c(e);return x(n)&&(n=t(e)),n},v=function(e,t){x(c(e))?r(e,{$$$p:t}):p(e,t)}}else if(!c.assign)throw To("nonassign",n.ngModel,U(i))},this.$render=h,this.$isEmpty=function(e){return m(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){w.$isEmpty(e)?(o.removeClass(i,"ng-not-empty"),o.addClass(i,"ng-empty")):(o.removeClass(i,"ng-empty"),o.addClass(i,"ng-not-empty"))};var S=0;Ur({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:o}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,o.removeClass(i,So),o.addClass(i,Eo)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,o.removeClass(i,Eo),o.addClass(i,So),w.$$parentForm.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,o.setClass(i,"ng-untouched","ng-touched")},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,o.setClass(i,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){u.cancel(y),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!E(w.$modelValue)||!isNaN(w.$modelValue)){var e=w.$$rawModelValue,t=w.$valid,n=w.$modelValue,r=w.$options&&w.$options.allowInvalid;w.$$runValidators(e,w.$$lastCommittedViewValue,function(i){r||t===i||(w.$modelValue=i?e:void 0,w.$modelValue!==n&&w.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function i(){var n=!0;return r(w.$validators,function(r,i){var s=r(e,t);n=n&&s,o(i,s)}),n?!0:(r(w.$asyncValidators,function(e,t){o(t,null)}),!1)}function s(){var n=[],i=!0;r(w.$asyncValidators,function(r,s){var u=r(e,t);if(!u||!x(u.then))throw To("nopromise",u);o(s,void 0),n.push(u.then(function(){o(s,!0)},function(){i=!1,o(s,!1)}))}),n.length?f.all(n).then(function(){u(i)},h):u(!0)}function o(e,t){a===S&&w.$setValidity(e,t)}function u(e){a===S&&n(e)}S++;var a=S;(function(){var e=w.$$parserName||"parse";return m(b)?(o(e,null),!0):(b||(r(w.$validators,function(e,t){o(t,null)}),r(w.$asyncValidators,function(e,t){o(t,null)})),o(e,b),b)})()?i()?s():u(!1):u(!1)},this.$commitViewValue=function(){var e=w.$viewValue;u.cancel(y);if(w.$$lastCommittedViewValue!==e||""===e&&w.$$hasNativeValidators)w.$$updateEmptyClasses(e),w.$$lastCommittedViewValue=e,w.$pristine&&this.$setDirty(),this.$$parseAndValidate()},this.$$parseAndValidate=function(){var t=w.$$lastCommittedViewValue;if(b=m(t)?void 0:!0)for(var n=0;n<w.$parsers.length;n++)if(t=w.$parsers[n](t),m(t)){b=!1;break}E(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=d(e));var r=w.$modelValue,i=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=t,i&&(w.$modelValue=t,w.$modelValue!==r&&w.$$writeModelToScope()),w.$$runValidators(t,w.$$lastCommittedViewValue,function(e){i||(w.$modelValue=e?t:void 0,w.$modelValue!==r&&w.$$writeModelToScope())})},this.$$writeModelToScope=function(){v(e,w.$modelValue),r(w.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){w.$viewValue=e,w.$options&&!w.$options.updateOnDefault||w.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n=0,r=w.$options;r&&g(r.debounce)&&(r=r.debounce,E(r)?n=r:E(r[t])?n=r[t]:E(r["default"])&&(n=r["default"])),u.cancel(y),n?y=u(function(){w.$commitViewValue()},n):a.$$phase?w.$commitViewValue():e.$apply(function(){w.$commitViewValue()})},e.$watch(function(){var t=d(e);if(t!==w.$modelValue&&(w.$modelValue===w.$modelValue||t===t)){w.$modelValue=w.$$rawModelValue=t,b=void 0;for(var n=w.$formatters,r=n.length,i=t;r--;)i=n[r](i);w.$viewValue!==i&&(w.$$updateEmptyClasses(i),w.$viewValue=w.$$lastCommittedViewValue=i,w.$render(),w.$$runValidators(t,i,h))}return t})}],Co=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:No,priority:1,compile:function(t){return t.addClass(Eo).addClass("ng-untouched").addClass(bo),{pre:function(e,t,n,r){var i=r[0];t=r[1]||i.$$parentForm,i.$$setOptions(r[2]&&r[2].$options),t.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var s=i[0];s.$options&&s.$options.updateOn&&n.on(s.$options.updateOn,function(e){s.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){s.$touched||(e.$$phase?t.$evalAsync(s.$setTouched):t.$apply(s.$setTouched))})}}}}}],ko=/(\s+|^)default(\s+|$)/,Lo=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=D(e.$eval(t.ngModelOptions)),g(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=ai(this.$options.updateOn.replace(ko,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Ao=Dr({terminal:!0,priority:1e3}),Oo=t("ngOptions"),Mo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,_o=["$compile","$document","$parse",function(t,i,s){function o(e,t,r){function i(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function o(e){var t;if(!f&&n(e))t=e;else{t=[];for(var r in e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t.push(r)}return t}var u=e.match(Mo);if(!u)throw Oo("iexp",e,U(t));var a=u[5]||u[7],f=u[6];e=/ as /.test(u[0])&&u[1];var l=u[9];t=s(u[2]?u[1]:a);var c=e&&s(e)||t,h=l&&s(l),p=l?function(e,t){return h(r,t)}:function(e){return Ht(e)},d=function(e,t){return p(e,w(e,t))},v=s(u[2]||u[1]),m=s(u[3]||""),g=s(u[4]||""),y=s(u[8]),b={},w=f?function(e,t){return b[f]=t,b[a]=e,b}:function(e){return b[a]=e,b};return{trackBy:l,getTrackByValue:d,getWatchables:s(y,function(e){var t=[];e=e||[];for(var n=o(e),i=n.length,s=0;s<i;s++){var a=e===n?s:n[s],f=e[a],a=w(f,a),f=p(f,a);t.push(f);if(u[2]||u[1])f=v(r,a),t.push(f);u[4]&&(a=g(r,a),t.push(a))}return t}),getOptions:function(){for(var e=[],t={},n=y(r)||[],s=o(n),u=s.length,a=0;a<u;a++){var f=n===s?a:s[a],h=w(n[f],f),b=c(r,h),f=p(b,h),E=v(r,h),S=m(r,h),h=g(r,h),b=new i(f,b,E,S,h);e.push(b),t[f]=b}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[d(e)]},getViewValueFromOption:function(e){return l?ri.copy(e.viewValue):e.viewValue}}}}}var u=e.document.createElement("option"),a=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=h},post:function(e,n,s,f){function l(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function c(){var e=E&&h.readValue();if(E)for(var t=E.items.length-1;0<=t;t--){var r=E.items[t];g(r.group)?Lt(r.element.parentNode):Lt(r.element)}E=S.getOptions();var i={};b&&n.prepend(v),E.items.forEach(function(e){var t;if(g(e.group)){t=i[e.group],t||(t=a.cloneNode(!1),x.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t);var n=u.cloneNode(!1)}else t=x,n=u.cloneNode(!1);t.appendChild(n),l(e,n)}),n[0].appendChild(x),p.$render(),p.$isEmpty(e)||(t=h.readValue(),(S.trackBy||d?P(e,t):e===t)||(p.$setViewValue(t),p.$render()))}var h=f[0],p=f[1],d=s.multiple,v;f=0;for(var m=n.children(),y=m.length;f<y;f++)if(""===m[f].value){v=m.eq(f);break}var b=!!v,w=Kr(u.cloneNode(!1));w.val("?");var E,S=o(s.ngOptions,n,e),x=i[0].createDocumentFragment();d?(p.$isEmpty=function(e){return!e||0===e.length},h.writeValue=function(e){E.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){if(e=E.getOptionFromViewValue(e))e.element.selected=!0})},h.readValue=function(){var e=n.val()||[],t=[];return r(e,function(e){(e=E.selectValueMap[e])&&!e.disabled&&t.push(E.getViewValueFromOption(e))}),t},S.trackBy&&e.$watchCollection(function(){if(oi(p.$viewValue))return p.$viewValue.map(function(e){return S.getTrackByValue(e)})},function(){p.$render()})):(h.writeValue=function(e){var t=E.getOptionFromViewValue(e);t?(n[0].value!==t.selectValue&&(w.remove(),b||v.remove(),n[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||b?(w.remove(),b||n.prepend(v),n.val(""),v.prop("selected",!0),v.attr("selected",!0)):(b||v.remove(),n.prepend(w),n.val("?"),w.prop("selected",!0),w.attr("selected",!0))},h.readValue=function(){var e=E.selectValueMap[n.val()];return e&&!e.disabled?(b||v.remove(),w.remove(),E.getViewValueFromOption(e)):null},S.trackBy&&e.$watch(function(){return S.getTrackByValue(p.$viewValue)},function(){p.$render()})),b?(v.remove(),t(v)(e),v.removeClass("ng-scope")):v=Kr(u.cloneNode(!1)),n.empty(),c(),e.$watchCollection(S.getWatchables,c)}}}}],Do=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,s=/^when(Minus)?(.+)$/;return{link:function(o,u,a){function f(e){u.text(e||"")}var l=a.count,c=a.$attr.when&&u.attr(a.$attr.when),p=a.offset||0,d=o.$eval(c)||{},v={},g=t.startSymbol(),y=t.endSymbol(),b=g+l+"-"+p+y,w=ri.noop,S;r(a,function(e,t){var n=s.exec(t);n&&(n=(n[1]?"-":"")+Vr(n[2]),d[n]=u.attr(a.$attr[t]))}),r(d,function(e,n){v[n]=t(e.replace(i,b))}),o.$watch(l,function(t){var r=parseFloat(t),i=isNaN(r);i||r in d||(r=e.pluralCat(r-p)),r===S||i&&E(S)&&isNaN(S)||(w(),i=v[r],m(i)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+c),w=h,f()):w=o.$watch(i,f),S=r)})}}}],Po=["$parse","$animate","$compile",function(e,i,s){var o=t("ngRepeat"),u=function(e,t,n,r,i,s,o){e[n]=r,i&&(e[i]=s),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!e.$first&&!e.$last,e.$odd=!(e.$even=0===(t&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,a){var f=a.ngRepeat,l=s.$$createComment("end ngRepeat",f),c=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!c)throw o("iexp",f);var h=c[1],p=c[2],d=c[3],v=c[4],c=h.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!c)throw o("iidexp",h);var m=c[3]||c[1],g=c[2];if(d&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(d)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(d)))throw o("badident",d);var y,b,w,E,S={$id:Ht};return v?y=e(v):(w=function(e,t){return Ht(t)},E=function(e){return e}),function(e,t,s,a,c){y&&(b=function(t,n,r){return g&&(S[g]=t),S[m]=n,S.$index=r,y(e,S)});var h=ot();e.$watchCollection(p,function(s){var a,p,v=t[0],y,S=ot(),x,T,N,C,k,L,A;d&&(e[d]=s);if(n(s))k=s,p=b||w;else for(A in p=b||E,k=[],s)Xr.call(s,A)&&"$"!==A.charAt(0)&&k.push(A);x=k.length,A=Array(x);for(a=0;a<x;a++)if(T=s===k?a:k[a],N=s[T],C=p(T,N,a),h[C])L=h[C],delete h[C],S[C]=L,A[a]=L;else{if(S[C])throw r(A,function(e){e&&e.scope&&(h[e.id]=e)}),o("dupes",f,C,N);A[a]={id:C,scope:void 0,clone:void 0},S[C]=!0}for(y in h){L=h[y],C=st(L.clone),i.leave(C);if(C[0].parentNode)for(a=0,p=C.length;a<p;a++)C[a].$$NG_REMOVED=!0;L.scope.$destroy()}for(a=0;a<x;a++)if(T=s===k?a:k[a],N=s[T],L=A[a],L.scope){y=v;do y=y.nextSibling;while(y&&y.$$NG_REMOVED);L.clone[0]!=y&&i.move(st(L.clone),null,v),v=L.clone[L.clone.length-1],u(L.scope,a,m,N,g,T,x)}else c(function(e,t){L.scope=t;var n=l.cloneNode(!1);e[e.length++]=n,i.enter(e,null,v),v=n,L.clone=e,S[L.id]=L,u(L.scope,a,m,N,g,T,x)});h=S})}}}}],Ho=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Bo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],jo=Dr(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Fo=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,s,o){var u=[],a=[],f=[],l=[],c=function(e,t){return function(){e.splice(t,1)}};n.$watch(s.ngSwitch||s.on,function(n){var i,s;i=0;for(s=f.length;i<s;++i)e.cancel(f[i]);i=f.length=0;for(s=l.length;i<s;++i){var h=st(a[i].clone);l[i].$destroy(),(f[i]=e.leave(h)).then(c(f,i))}a.length=0,l.length=0,(u=o.cases["!"+n]||o.cases["?"])&&r(u,function(n){n.transclude(function(r,i){l.push(i);var s=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen"),a.push({clone:r}),e.enter(r,s.parent(),s)})})})}}}],Io=Dr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),qo=Dr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Ro=t("ngTransclude"),Uo=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,s){function o(){n(e,function(e){t.append(e)})}if(!s)throw Ro("orphan",U(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude=""),r=r.ngTransclude||r.ngTranscludeSlot,s(function(e,n){e.length?t.append(e):(o(),n.$destroy())},null,r),r&&!s.isSlotFilled(r)&&o()}}}}],zo=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],Wo={$setViewValue:h,$render:h},Xo=["$element","$scope",function(t,n){var r=this,i=new Bt;r.ngModelCtrl=Wo,r.unknownOption=Kr(e.document.createElement("option")),r.renderUnknownOption=function(e){e="? "+Ht(e)+" ?",r.unknownOption.val(e),t.prepend(r.unknownOption),t.val(e)},n.$on("$destroy",function(){r.renderUnknownOption=h}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),t.val()},r.writeValue=function(e){r.hasOption(e)?(r.removeUnknownOption(),t.val(e),""===e&&r.emptyOption.prop("selected",!0)):null==e&&r.emptyOption?(r.removeUnknownOption(),t.val("")):r.renderUnknownOption(e)},r.addOption=function(e,t){if(8!==t[0].nodeType){rt(e,'"option value"'),""===e&&(r.emptyOption=t);var n=i.get(e)||0;i.put(e,n+1),r.ngModelCtrl.$render(),t[0].hasAttribute("selected")&&(t[0].selected=!0)}},r.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.remove(e),""===e&&(r.emptyOption=void 0)):i.put(e,t-1))},r.hasOption=function(e){return!!i.get(e)},r.registerOption=function(e,t,n,i,s){if(i){var o;n.$observe("value",function(e){g(o)&&r.removeOption(o),o=e,r.addOption(e,t)})}else s?e.$watch(s,function(e,i){n.$set("value",e),i!==e&&r.removeOption(i),r.addOption(e,t)}):r.addOption(n.value,t);t.on("$destroy",function(){r.removeOption(n.value),r.ngModelCtrl.$render()})}}],Vo=function(){return{restrict:"E",require:["select","?ngModel"],controller:Xo,priority:1,link:{pre:function(e,t,n,i){var s=i[1];if(s){var o=i[0];o.ngModelCtrl=s,t.on("change",function(){e.$apply(function(){s.$setViewValue(o.readValue())})});if(n.multiple){o.readValue=function(){var e=[];return r(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},o.writeValue=function(e){var n=new Bt(e);r(t.find("option"),function(e){e.selected=g(n.get(e.value))})};var u,a=NaN;e.$watch(function(){a!==s.$viewValue||P(u,s.$viewValue)||(u=at(s.$viewValue),s.$render()),a=s.$viewValue}),s.$isEmpty=function(e){return!e||0===e.length}}}},post:function(e,t,n,r){var i=r[1];if(i){var s=r[0];i.$render=function(){s.writeValue(i.$viewValue)}}}}}},$o=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(g(n.value))var r=e(n.value,!0);else{var i=e(t.text(),!0);i||n.$set("value",t.text())}return function(e,t,n){var s=t.parent();(s=s.data("$selectController")||s.parent().data("$selectController"))&&s.registerOption(e,t,n,r,i)}}}}],Jo=d({restrict:"E",terminal:!1}),Ko=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Qo=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var s,o=r.ngPattern||r.pattern;r.$observe("pattern",function(e){w(e)&&0<e.length&&(e=new RegExp("^"+e+"$"));if(e&&!e.test)throw t("ngPattern")("noregexp",o,e,U(n));s=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||m(s)||s.test(t)}}}}},Go=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){e=l(e),i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},Yo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=l(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load angular more than once."):(et(),ft(ri),ri.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,n){var r=e|0,i=n;return void 0===i&&(i=Math.min(t(e),3)),Math.pow(10,i),1==r&&0==i?"one":"other"}})}]),Kr(e.document).ready(function(){K(e.document,Q)}))})(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),define("angular",function(e){return function(){var t,n;return t||e.angular}}(this)),!function(){function e(e,t){function n(e){return"string"==typeof e&&(e=[e]),["$q",function(t){var n=t.defer();return s(e,function(){n.resolve(arguments)}),n.promise}]}function r(e){function r(e){if(e.hasOwnProperty("controllerUrl")||e.hasOwnProperty("dependencies")){var r=e.dependencies;r===t?r=[]:"string"==typeof r&&(r=[r]),e.controllerUrl&&r.push(e.controllerUrl),delete e.dependencies,delete e.controllerUrl;var i=e.resolve||{};i.$dummy=n(r),e.resolve=i}}return e.hasOwnProperty("views")?Object.keys(e.views).forEach(function(t){r(e.views[t])}):r(e),e}var i="1.3.1",s=function(){if("function"==typeof require)return"function"==typeof require.async?require.async:require;if("object"==typeof seajs&&"function"==typeof seajs.use)return seajs.use;if("object"==typeof System&&"function"==typeof System.amdRequire)return System.amdRequire;throw new Error("No amd/cmd module loader found.")}();return{VERSION:i,configure:function(t){t.provider("ngProviders",["$controllerProvider","$compileProvider","$filterProvider","$provide","$injector",function(e,t,n,r,i){this.$get=function(){return{$controllerProvider:e,$compileProvider:t,$filterProvider:n,$provide:r,$injector:i}}}]),t.run(["ngProviders","$injector",function(n,r){var i=n.$controllerProvider,s=n.$compileProvider,o=n.$filterProvider,u=n.$provide;t.useModule=function(i){var s=e.module(i);if(s.requires)for(var o=0;o<s.requires.length;o++)t.useModule(s.requires[o]);return e.forEach(s._invokeQueue,function(e){var t=n[e[0]]||r.get(e[0]);t[e[1]].apply(t,e[2])}),e.forEach(s._configBlocks,function(e){var t=n.$injector.get(e[0]);t[e[1]].apply(t,e[2])}),e.forEach(s._runBlocks,function(e){r.invoke(e)}),t},t.value=function(e,n){return u.value(e,n),t},t.constant=function(e,n){return u.constant(e,n),t},t.factory=function(e,n){return u.factory(e,n),t},t.service=function(e,n){return u.service(e,n),t},t.filter=function(e,n){return o.register(e,n),t},t.directive=function(e,n){return s.directive(e,n),t},t.controller=function(e,n){return i.register(e,n),t},t.decorator=function(e,n){return u.decorator(e,n),t},t.provider=function(e,n){return u.provider(e,n),t},t.get=function(e){return r.get(e)}}]),t.requires&&-1!==t.requires.indexOf("ngRoute")&&t.config(["$routeProvider",function(e){var t=e.when;e.when=function(n,i){return t.call(e,n,r(i))}}]),t.requires&&-1!==t.requires.indexOf("ui.router")&&t.config(["$stateProvider",function(e){var t=e.state;e.state=function(n,i){return t.call(e,n,r(i))}}])}}}"function"==typeof define&&define.amd?define("angular-async-loader",["angular"],function(t){return e(t)}):window.asyncLoader=e(window.angular)}(),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return z(new(z(function(){},{prototype:e})),t)}function i(e){return U(arguments,function(t){t!==e&&U(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function s(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function o(e){if(Object.keys)return Object.keys(e);var t=[];return U(e,function(e,n){t.push(n)}),t}function u(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function a(e,t,n,r){var i,a=s(n,r),f={},l=[];for(var c in a)if(a[c]&&a[c].params&&(i=o(a[c].params),i.length))for(var h in i)u(l,i[h])>=0||(l.push(i[h]),f[i[h]]=e[i[h]]);return z({},f,t)}function f(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var s=n[i];if(e[s]!=t[s])return!1}return!0}function l(e,t){var n={};return U(e,function(e){n[e]=t[e]}),n}function c(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return U(n,function(n){n in e&&(t[n]=e[n])}),t}function h(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==u(n,r)&&(t[r]=e[r]);return t}function p(e,t){var n=R(e),r=n?[]:{};return U(e,function(e,i){t(e,i)&&(r[n?r.length:i]=e)}),r}function d(e,t){var n=R(e)?[]:{};return U(e,function(e,r){n[r]=t(e,r)}),n}function v(e,t){var r=1,s=2,a={},f=[],l=a,c=z(e.when(a),{$$promises:a,$$values:a});this.study=function(a){function p(e,n){if(y[n]!==s){if(g.push(n),y[n]===r)throw g.splice(0,u(g,n)),new Error("Cyclic dependency: "+g.join(" -> "));if(y[n]=r,I(e))m.push(n,[function(){return t.get(e)}],f);else{var i=t.annotate(e);U(i,function(e){e!==n&&a.hasOwnProperty(e)&&p(a[e],e)}),m.push(n,e,i)}g.pop(),y[n]=s}}function d(e){return q(e)&&e.then&&e.$$promises}if(!q(a))throw new Error("'invocables' must be an object");var v=o(a||{}),m=[],g=[],y={};return U(a,p),a=g=y=null,function(r,s,o){function u(){--w||(E||i(b,s.$$values),g.$$values=b,g.$$promises=g.$$promises||!0,delete g.$$inheritedValues,p.resolve(b))}function a(e){g.$$failure=e,p.reject(e)}function f(n,i,s){function f(e){c.reject(e),a(e)}function l(){if(!j(g.$$failure))try{c.resolve(t.invoke(i,o,b)),c.promise.then(function(e){b[n]=e,u()},f)}catch(e){f(e)}}var c=e.defer(),h=0;U(s,function(e){y.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(h++,y[e].then(function(t){b[e]=t,--h||l()},f))}),h||l(),y[n]=c.promise}if(d(r)&&o===n&&(o=s,s=r,r=null),r){if(!q(r))throw new Error("'locals' must be an object")}else r=l;if(s){if(!d(s))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else s=c;var p=e.defer(),g=p.promise,y=g.$$promises={},b=z({},r),w=1+m.length/3,E=!1;if(j(s.$$failure))return a(s.$$failure),g;s.$$inheritedValues&&i(b,h(s.$$inheritedValues,v)),z(y,s.$$promises),s.$$values?(E=i(b,h(s.$$values,v)),g.$$inheritedValues=h(s.$$values,v),u()):(s.$$inheritedValues&&(g.$$inheritedValues=h(s.$$inheritedValues,v)),s.then(u,a));for(var S=0,x=m.length;x>S;S+=3)r.hasOwnProperty(m[S])?u():f(m[S],m[S+1],m[S+2]);return g}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function m(e,t,n){this.fromConfig=function(e,t,n){return j(e.template)?this.fromString(e.template,t):j(e.templateUrl)?this.fromUrl(e.templateUrl,t):j(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return F(e)?e(t):e},this.fromUrl=function(n,r){return F(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function g(e,t,i){function s(t,n,r,i){if(m.push(t),d[t])return d[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(v[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return v[t]=new V.Param(t,n,r,i),v[t]}function o(e,t,n,r){var i=["",""],s=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return s;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:s=s.replace(/\/$/,""),i=["(?:/(",")|/)?"];break;default:i=["("+n+"|",")?"]}return s+i[0]+t+i[1]}function u(i,s){var o,u,a,f,l;return o=i[2]||i[3],l=t.params[o],a=e.substring(h,i.index),u=s?i[4]:i[4]||("*"==i[1]?".*":null),u&&(f=V.type(u)||r(V.type("string"),{pattern:new RegExp(u,t.caseInsensitive?"i":n)})),{id:o,regexp:u,segment:a,type:f,cfg:l}}t=z({params:{}},q(t)?t:{});var a,f=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c="^",h=0,p=this.segments=[],d=i?i.params:{},v=this.params=i?i.params.$$new():new V.ParamSet,m=[];this.source=e;for(var g,y,b;(a=f.exec(e))&&(g=u(a,!1),!(g.segment.indexOf("?")>=0));)y=s(g.id,g.type,g.cfg,"path"),c+=o(g.segment,y.type.pattern.source,y.squash,y.isOptional),p.push(g.segment),h=f.lastIndex;b=e.substring(h);var w=b.indexOf("?");if(w>=0){var E=this.sourceSearch=b.substring(w);if(b=b.substring(0,w),this.sourcePath=e.substring(0,h+w),E.length>0)for(h=0;a=l.exec(E);)g=u(a,!0),y=s(g.id,g.type,g.cfg,"search"),h=f.lastIndex}else this.sourcePath=e,this.sourceSearch="";c+=o(b)+(t.strict===!1?"/?":"")+"$",p.push(b),this.regexp=new RegExp(c,t.caseInsensitive?"i":n),this.prefix=p[0],this.$$paramNames=m}function y(e){z(this,e)}function b(){function e(e){return null!=e?e.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):e}function i(e){return null!=e?e.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):e}function s(){return{strict:v,caseInsensitive:h}}function a(e){return F(e)||R(e)&&F(e[e.length-1])}function f(){for(;S.length;){var e=S.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(w[e.name],c.invoke(e.def))}}function l(e){z(this,e||{})}V=this;var c,h=!1,v=!0,m=!1,w={},E=!0,S=[],x={string:{encode:e,decode:i,is:function(e){return null==e||!j(e)||"string"==typeof e},pattern:/[^\/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return j(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};b.$$getDefaultValue=function(e){if(!a(e.value))return e.value;if(!c)throw new Error("Injectable functions cannot be called at configuration time");return c.invoke(e.value)},this.caseInsensitive=function(e){return j(e)&&(h=e),h},this.strictMode=function(e){return j(e)&&(v=e),v},this.defaultSquashPolicy=function(e){if(!j(e))return m;if(e!==!0&&e!==!1&&!I(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new g(e,z(s(),t))},this.isMatcher=function(e){if(!q(e))return!1;var t=!0;return U(g.prototype,function(n,r){F(n)&&(t=t&&j(e[r])&&F(e[r]))}),t},this.type=function(e,t,n){if(!j(t))return w[e];if(w.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return w[e]=new y(z({name:e},t)),n&&(S.push({name:e,def:n}),E||f()),this},U(x,function(e,t){w[t]=new y(z({name:t},e))}),w=r(w,{}),this.$get=["$injector",function(e){return c=e,E=!1,f(),U(x,function(e,t){w[t]||(w[t]=new y(e))}),this}],this.Param=function(e,r,i,s){function f(e){var t=q(e)?o(e):[],n=-1===u(t,"value")&&-1===u(t,"type")&&-1===u(t,"squash")&&-1===u(t,"array");return n&&(e={value:e}),e.$$fn=a(e.value)?e.value:function(){return e.value},e}function l(n,r,i){if(n.type&&r)throw new Error("Param '"+e+"' has two type configurations.");return r?r:n.type?t.isString(n.type)?w[n.type]:n.type instanceof y?n.type:new y(n.type):"config"===i?w.any:w.string}function h(){var t={array:"search"===s?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return z(t,n,i).array}function v(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!j(n)||null==n)return m;if(n===!0||I(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function g(e,t,r,i){var s,o,a=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return s=R(e.replace)?e.replace:[],I(i)&&s.push({from:i,to:n}),o=d(s,function(e){return e.from}),p(a,function(e){return-1===u(o,e.from)}).concat(s)}function b(){if(!c)throw new Error("Injectable functions cannot be called at configuration time");var e=c.invoke(i.$$fn);if(null!==e&&e!==n&&!x.type.is(e))throw new Error("Default value ("+e+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return e}function E(e){function t(e){return function(t){return t.from===e}}function n(e){var n=d(p(x.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),j(e)?x.type.$normalize(e):b()}function S(){return"{Param:"+e+" "+r+" squash: '"+C+"' optional: "+N+"}"}var x=this;i=f(i),r=l(i,r,s);var T=h();r=T?r.$asArray(T,"search"===s):r,"string"!==r.name||T||"path"!==s||i.value!==n||(i.value="");var N=i.value!==n,C=v(i,N),k=g(i,T,N,C);z(this,{id:e,type:r,location:s,array:T,squash:C,replace:k,isOptional:N,value:E,dynamic:n,config:i,toString:S})},l.prototype={$$new:function(){return r(this,z(new l,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=o(l.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),U(t,function(t){U(o(t),function(t){-1===u(e,t)&&-1===u(r,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return U(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return U(r.$$keys(),function(i){var s=e&&e[i],o=t&&t[i];r[i].type.equals(s,o)||(n=!1)}),n},$$validates:function(e){var r,i,s,o,u,a=this.$$keys();for(r=0;r<a.length&&(i=this[a[r]],s=e[a[r]],s!==n&&null!==s||!i.isOptional);r++){if(o=i.type.$normalize(s),!i.type.is(o))return!1;if(u=i.type.encode(o),t.isString(u)&&!i.type.pattern.exec(u))return!1}return!0},$$parent:n},this.ParamSet=l}function w(e,r){function i(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function s(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function o(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return j(r)?r:!0}function u(r,i,s,o,u){function h(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function p(e){function t(e){var t=e(s,r);return t?(I(t)&&r.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){v&&r.url()===v,v=n;var i,o=f.length;for(i=0;o>i;i++)if(t(f[i]))return;l&&t(l)}}function d(){return a=a||i.$on("$locationChangeSuccess",p)}var v,m=o.baseHref(),g=r.url();return c||d(),{sync:function(){p()},listen:function(){return d()},update:function(e){return e?void (g=r.url()):void (r.url()!==g&&(r.url(g),r.replace()))},push:function(e,t,i){var s=e.format(t||{});null!==s&&t&&t["#"]&&(s+="#"+t["#"]),r.url(s),v=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,s){if(!n.validates(i))return null;var o=e.html5Mode();t.isObject(o)&&(o=o.enabled),o=o&&u.history;var a=n.format(i);if(s=s||{},o||null===a||(a="#"+e.hashPrefix()+a),null!==a&&i&&i["#"]&&(a+="#"+i["#"]),a=h(a,o,s.absolute),!s.absolute||!a)return a;var f=!o&&a?"/":"",l=r.port();return l=80===l||443===l?"":":"+l,[r.protocol(),"://",r.host(),l,f,a].join("")}}}var a,f=[],l=null,c=!1;this.rule=function(e){if(!F(e))throw new Error("'rule' must be a function");return f.push(e),this},this.otherwise=function(e){if(I(e)){var t=e;e=function(){return t}}else if(!F(e))throw new Error("'rule' must be a function");return l=e,this},this.when=function(e,t){var n,u=I(t);if(I(e)&&(e=r.compile(e)),!u&&!F(t)&&!R(t))throw new Error("invalid 'handler' in when()");var a={matcher:function(e,t){return u&&(n=r.compile(t),t=["$match",function(e){return n.format(e)}]),z(function(n,r){return o(n,t,e.exec(r.path(),r.search()))},{prefix:I(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return u&&(n=t,t=["$match",function(e){return s(n,e)}]),z(function(n,r){return o(n,t,e.exec(r.path()))},{prefix:i(e)})}},f={matcher:r.isMatcher(e),regex:e instanceof RegExp};for(var l in f)if(f[l])return this.rule(a[l](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),c=e},this.$get=u,u.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function E(e,i){function s(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function h(e,t){if(!e)return n;var r=I(e),i=r?e:e.name,o=s(i);if(o){if(!t)throw new Error("No reference point given for path '"+i+"'");t=h(t);for(var u=i.split("."),a=0,f=u.length,l=t;f>a;a++)if(""!==u[a]||0!==a){if("^"!==u[a])break;if(!l.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");l=l.parent}else l=t;u=u.slice(a).join("."),i=l.name+(l.name&&u?".":"")+u}var c=N[i];return!c||!r&&(r||c!==e&&c.self!==e)?n:c}function p(e,t){C[e]||(C[e]=[]),C[e].push(t)}function v(e){for(var t=C[e]||[];t.length;)m(t.shift())}function m(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!I(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(N.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):I(t.parent)?t.parent:q(t.parent)&&I(t.parent.name)?t.parent.name:"";if(i&&!N[i])return p(i,t.self);for(var s in L)F(L[s])&&(t[s]=L[s](t,L.$delegates[s]));return N[n]=t,!t[k]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){T.$current.navigable==t&&f(e,n)||T.transitionTo(t,e,{inherit:!0,location:!1})}]),v(n),t}function g(e){return e.indexOf("*")>-1}function y(e){for(var t=e.split("."),n=T.$current.name.split("."),r=0,i=t.length;i>r;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice(u(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(u(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length?!1:n.join("")===t.join("")}function b(e,t){return I(e)&&!j(t)?L[e]:F(t)&&I(e)?(L[e]&&!L.$delegates[e]&&(L.$delegates[e]=L[e]),L[e]=t,this):this}function w(e,t){return q(e)?t=e:t.name=e,m(t),this}function E(e,i,s,u,c,p,v,m,b){function w(t,n,r,s){var o=e.$broadcast("$stateNotFound",t,n,r);if(o.defaultPrevented)return v.update(),A;if(!o.retry)return null;if(s.$retry)return v.update(),O;var u=T.transition=i.when(o.retry);return u.then(function(){return u!==T.transition?C:(t.options.$retry=!0,T.transitionTo(t.to,t.toParams,t.options))},function(){return A}),v.update(),u}function E(e,n,r,o,a,f){function h(){var n=[];return U(e.views,function(r,i){var o=r.resolve&&r.resolve!==e.resolve?r.resolve:{};o.$template=[function(){return s.load(i,{view:r,locals:a.globals,params:p,notify:f.notify})||""}],n.push(c.resolve(o,a.globals,a.resolve,e).then(function(n){if(F(r.controllerProvider)||R(r.controllerProvider)){var s=t.extend({},o,a.globals);n.$$controller=u.invoke(r.controllerProvider,null,s)}else n.$$controller=r.controller;n.$$state=e,n.$$controllerAs=r.controllerAs,n.$$resolveAs=r.resolveAs,a[i]=n}))}),i.all(n).then(function(){return a.globals})}var p=r?n:l(e.params.$$keys(),n),d={$stateParams:p};a.resolve=c.resolve(e.resolve,d,a.resolve,e);var v=[a.resolve.then(function(e){a.globals=e})];return o&&v.push(o),i.all(v).then(h).then(function(e){return a})}var C=i.reject(new Error("transition superseded")),L=i.reject(new Error("transition prevented")),A=i.reject(new Error("transition aborted")),O=i.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},T={params:{},current:x.self,$current:x,transition:null},T.reload=function(e){return T.transitionTo(T.current,p,{reload:e||!0,inherit:!1,notify:!0})},T.go=function(e,t,n){return T.transitionTo(e,t,z({inherit:!0,relative:T.$current},n))},T.transitionTo=function(t,n,s){n=n||{},s=z({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},s||{});var o,f=T.$current,c=T.params,d=f.path,m=h(t,s.relative),g=n["#"];if(!j(m)){var y={to:t,toParams:n,options:s},b=w(y,f.self,c,s);if(b)return b;if(t=y.to,n=y.toParams,s=y.options,m=h(t,s.relative),!j(m))throw s.relative?new Error("Could not resolve '"+t+"' from state '"+s.relative+"'"):new Error("No such state '"+t+"'")}if(m[k])throw new Error("Cannot transition to abstract state '"+t+"'");if(s.inherit&&(n=a(p,n||{},T.$current,m)),!m.params.$$validates(n))return O;n=m.params.$$values(n),t=m;var N=t.path,A=0,M=N[A],_=x.locals,D=[];if(s.reload){if(I(s.reload)||q(s.reload)){if(q(s.reload)&&!s.reload.name)throw new Error("Invalid reload state object");var P=s.reload===!0?d[0]:h(s.reload);if(s.reload&&!P)throw new Error("No such reload state '"+(I(s.reload)?s.reload:s.reload.name)+"'");for(;M&&M===d[A]&&M!==P;)_=D[A]=M.locals,A++,M=N[A]}}else for(;M&&M===d[A]&&M.ownParams.$$equals(n,c);)_=D[A]=M.locals,A++,M=N[A];if(S(t,n,f,c,_,s))return g&&(n["#"]=g),T.params=n,W(T.params,p),W(l(t.params.$$keys(),p),t.locals.globals.$stateParams),s.location&&t.navigable&&t.navigable.url&&(v.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===s.location}),v.update(!0)),T.transition=null,i.when(T.current);if(n=l(t.params.$$keys(),n||{}),g&&(n["#"]=g),s.notify&&e.$broadcast("$stateChangeStart",t.self,n,f.self,c,s).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,f.self,c),null==T.transition&&v.update(),L;for(var H=i.when(_),B=A;B<N.length;B++,M=N[B])_=D[B]=r(_),H=E(M,n,M===t,H,_,s);var F=T.transition=H.then(function(){var r,i,o;if(T.transition!==F)return C;for(r=d.length-1;r>=A;r--)o=d[r],o.self.onExit&&u.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(r=A;r<N.length;r++)i=N[r],i.locals=D[r],i.self.onEnter&&u.invoke(i.self.onEnter,i.self,i.locals.globals);return T.transition!==F?C:(T.$current=t,T.current=t.self,T.params=n,W(T.params,p),T.transition=null,s.location&&t.navigable&&v.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===s.location}),s.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,f.self,c),v.update(!0),T.current)}).then(null,function(r){return T.transition!==F?C:(T.transition=null,o=e.$broadcast("$stateChangeError",t.self,n,f.self,c,r),o.defaultPrevented||v.update(),i.reject(r))});return F},T.is=function(e,t,r){r=z({relative:T.$current},r||{});var i=h(e,r.relative);return j(i)?T.$current!==i?!1:t?f(i.params.$$values(t),p):!0:n},T.includes=function(e,t,r){if(r=z({relative:T.$current},r||{}),I(e)&&g(e)){if(!y(e))return!1;e=T.$current.name}var i=h(e,r.relative);return j(i)?j(T.$current.includes[i.name])?t?f(i.params.$$values(t),p,o(t)):!0:!1:n},T.href=function(e,t,r){r=z({lossy:!0,inherit:!0,absolute:!1,relative:T.$current},r||{});var i=h(e,r.relative);if(!j(i))return null;r.inherit&&(t=a(p,t||{},T.$current,i));var s=i&&r.lossy?i.navigable:i;return s&&s.url!==n&&null!==s.url?v.href(s.url,l(i.params.$$keys().concat("#"),t||{}),{absolute:r.absolute}):null},T.get=function(e,t){if(0===arguments.length)return d(o(N),function(e){return N[e].self});var n=h(e,t||T.$current);return n&&n.self?n.self:null},T}function S(e,t,n,r,i,s){function o(e,t,n){function r(t){return"search"!=e.params[t].location}var i=e.params.$$keys().filter(r),s=c.apply({},[e.params].concat(i)),o=new V.ParamSet(s);return o.$$equals(t,n)}return!s.reload&&e===n&&(i===n.locals||e.self.reloadOnSearch===!1&&o(n,r,t))?!0:void 0}var x,T,N={},C={},k="abstract",L={parent:function(e){if(j(e.parent)&&e.parent)return h(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?h(t[1]):x},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=r(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(I(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||x).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new V.ParamSet;return U(e.params||{},function(e,n){t[n]||(t[n]=new V.Param(n,null,e,"config"))}),t},params:function(e){var t=c(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?z(e.parent.params.$$new(),t):new V.ParamSet},views:function(e){var t={};return U(j(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),n.resolveAs=n.resolveAs||e.resolveAs||"$resolve",t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?z({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};x=m({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=b,this.state=w,this.$get=E,E.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function S(){function e(e,t){return{load:function(e,n){var r,i={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=z(i,n),n.view&&(r=t.fromConfig(n.view,n.params,n.locals)),r}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function x(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function T(e,n,r,i,s){function o(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function u(e,n){var r=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(l)return{enter:function(e,n,r){t.version.minor>2?l.enter(e,null,n).then(r):l.enter(e,null,n,r)},leave:function(e,n){t.version.minor>2?l.leave(e).then(n):l.leave(e,n)}};if(f){var i=f&&f(n,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return r()}var a=o(),f=a("$animator"),l=a("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,a){return function(n,o,f){function l(){if(h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),p){var e=p.data("$uiViewAnim");y.leave(p,function(){e.$$animLeave.resolve(),h=null}),h=p,p=null}}function c(u){var c,h=C(n,f,o,i),b=h&&e.$current&&e.$current.locals[h];if(u||b!==v){c=n.$new(),v=e.$current.locals[h],c.$emit("$viewContentLoading",h);var w=a(c,function(e){var i=s.defer(),u=s.defer(),a={$animEnter:i.promise,$animLeave:u.promise,$$animLeave:u};e.data("$uiViewAnim",a),y.enter(e,o,function(){i.resolve(),d&&d.$emit("$viewContentAnimationEnded"),(t.isDefined(g)&&!g||n.$eval(g))&&r(e)}),l()});p=w,d=c,d.$emit("$viewContentLoaded",h),d.$eval(m)}}var h,p,d,v,m=f.onload||"",g=f.autoscroll,y=u(f,n);o.inheritedData("$uiView"),n.$on("$stateChangeSuccess",function(){c(!1)}),c(!0)}}};return c}function N(e,n,r,i){return{restrict:"ECA",priority:-400,compile:function(s){var o=s.html();return function(s,u,a){var f=r.$current,l=C(s,a,u,i),c=f&&f.locals[l];if(c){u.data("$uiView",{name:l,state:c.$$state}),u.html(c.$template?c.$template:o);var h=t.extend({},c);s[c.$$resolveAs]=h;var p=e(u.contents());if(c.$$controller){c.$scope=s,c.$element=u;var d=n(c.$$controller,c);c.$$controllerAs&&(s[c.$$controllerAs]=d,s[c.$$controllerAs][c.$$resolveAs]=h),F(d.$onInit)&&d.$onInit(),u.data("$ngControllerController",d),u.children().data("$ngControllerController",d)}p(s)}}}}}function C(e,t,n,r){var i=r(t.uiView||t.name||"")(e),s=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(s?s.state.name:"")}function k(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function L(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function A(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function O(e,t,n,r,i){return function(s){var o=s.which||s.button,u=i();if(!(o>1||s.ctrlKey||s.metaKey||s.shiftKey||e.attr("target"))){var a=n(function(){t.go(u.state,u.params,u.options)});s.preventDefault();var f=r.isAnchor&&!u.href?1:0;s.preventDefault=function(){f--<=0&&n.cancel(a)}}}}function M(e,t){return{relative:L(e)||t.$current,inherit:!0}}function _(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,s,o){var u,a=k(s.uiSref,e.current.name),f={state:a.state,href:null,params:null},l=A(i),c=o[1]||o[0],h=null;f.options=z(M(i,e),s.uiSrefOpts?r.$eval(s.uiSrefOpts):{});var p=function(n){n&&(f.params=t.copy(n)),f.href=e.href(a.state,f.params,f.options),h&&h(),c&&(h=c.$$addStateInfo(a.state,f.params)),null!==f.href&&s.$set(l.attr,f.href)};a.paramExpr&&(r.$watch(a.paramExpr,function(e){e!==f.params&&p(e)},!0),f.params=t.copy(r.$eval(a.paramExpr))),p(),l.clickable&&(u=O(i,e,n,l,function(){return f}),i.bind("click",u),r.$on("$destroy",function(){i.unbind("click",u)}))}}}function D(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,r,i,s){function o(t){h.state=t[0],h.params=t[1],h.options=t[2],h.href=e.href(h.state,h.params,h.options),p&&p(),f&&(p=f.$$addStateInfo(h.state,h.params)),h.href&&i.$set(a.attr,h.href)}var u,a=A(r),f=s[1]||s[0],l=[i.uiState,i.uiStateParams||null,i.uiStateOpts||null],c="["+l.map(function(e){return e||"null"}).join(", ")+"]",h={state:null,params:null,options:null,href:null},p=null;n.$watch(c,o,!0),o(n.$eval(c)),a.clickable&&(u=O(r,e,t,a,function(){return h}),r.bind("click",u),n.$on("$destroy",function(){r.unbind("click",u)}))}}}function P(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,r,i,s){function o(t,n,i){var s=e.get(t,L(r)),o=u(t,n),a={state:s||{name:t},params:n,hash:o};return v.push(a),m[o]=i,function(){var e=v.indexOf(a);-1!==e&&v.splice(e,1)}}function u(e,n){if(!I(e))throw new Error("state should be a string");return q(n)?e+X(n):(n=t.$eval(n),q(n)?e+X(n):e)}function a(){for(var e=0;e<v.length;e++)c(v[e].state,v[e].params)?f(r,m[v[e].hash]):l(r,m[v[e].hash]),h(v[e].state,v[e].params)?f(r,p):l(r,p)}function f(e,t){s(function(){e.addClass(t)})}function l(e,t){e.removeClass(t)}function c(t,n){return e.includes(t.name,n)}function h(t,n){return e.is(t.name,n)}var p,d,v=[],m={};p=n(i.uiSrefActiveEq||"",!1)(t);try{d=t.$eval(i.uiSrefActive)}catch(g){}d=d||n(i.uiSrefActive||"",!1)(t),q(d)&&U(d,function(n,r){if(I(n)){var i=k(n,e.current.name);o(i.state,t.$eval(i.paramExpr),r)}}),this.$$addStateInfo=function(e,t){if(!(q(d)&&v.length>0)){var n=o(e,t,d);return a(),n}},t.$on("$stateChangeSuccess",a),a()}]}}function H(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function B(e){var t=function(t,n,r){return e.includes(t,n,r)};return t.$stateful=!0,t}var j=t.isDefined,F=t.isFunction,I=t.isString,q=t.isObject,R=t.isArray,U=t.forEach,z=t.extend,W=t.copy,X=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),v.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",v),m.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",m);var V;g.prototype.concat=function(e,t){var n={caseInsensitive:V.caseInsensitive(),strict:V.strictMode(),squash:V.defaultSquashPolicy()};return new g(this.sourcePath+e+this.sourceSearch,z(n,t),this)},g.prototype.toString=function(){return this.source},g.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var r=t(e).split(/-(?!\\)/),i=d(r,t);return d(i,n).reverse()}var r=this.regexp.exec(e);if(!r)return null;t=t||{};var i,s,o,u=this.parameters(),a=u.length,f=this.segments.length-1,l={};if(f!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var c,h;for(i=0;f>i;i++){for(o=u[i],c=this.params[o],h=r[i+1],s=0;s<c.replace.length;s++)c.replace[s].from===h&&(h=c.replace[s].to);h&&c.array===!0&&(h=n(h)),j(h)&&(h=c.type.decode(h)),l[o]=c.value(h)}for(;a>i;i++){for(o=u[i],l[o]=this.params[o].value(t[o]),c=this.params[o],h=t[o],s=0;s<c.replace.length;s++)c.replace[s].from===h&&(h=c.replace[s].to);j(h)&&(h=c.type.decode(h)),l[o]=c.value(h)}return l},g.prototype.parameters=function(e){return j(e)?this.params[e]||null:this.$$paramNames},g.prototype.validates=function(e){return this.params.$$validates(e)},g.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(e))return null;var s,o=!1,u=n.length-1,a=r.length,f=n[0];for(s=0;a>s;s++){var l=u>s,c=r[s],h=i[c],p=h.value(e[c]),v=h.isOptional&&h.type.equals(h.value(),p),m=v?h.squash:!1,g=h.type.encode(p);if(l){var y=n[s+1],b=s+1===u;if(m===!1)null!=g&&(f+=R(g)?d(g,t).join("-"):encodeURIComponent(g)),f+=y;else if(m===!0){var w=f.match(/\/$/)?/\/?(.*)/:/(.*)/;f+=y.match(w)[1]}else I(m)&&(f+=m+y);b&&h.squash===!0&&"/"===f.slice(-1)&&(f=f.slice(0,-1))}else{if(null==g||v&&m!==!1)continue;if(R(g)||(g=[g]),0===g.length)continue;g=d(g,encodeURIComponent).join("&"+c+"="),f+=(o?"&":"?")+(c+"="+g),o=!0}}return f},y.prototype.is=function(e,t){return!0},y.prototype.encode=function(e,t){return e},y.prototype.decode=function(e,t){return e},y.prototype.equals=function(e,t){return e==t},y.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},y.prototype.$asArray=function(e,t){function r(e,t){function r(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return R(e)?e:j(e)?[e]:[]}function s(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function o(e){return!e}function u(e,t){return function(n){if(R(n)&&0===n.length)return n;n=i(n);var r=d(n,e);return t===!0?0===p(r,o).length:s(r)}}function a(e){return function(t,n){var r=i(t),s=i(n);if(r.length!==s.length)return!1;for(var o=0;o<r.length;o++)if(!e(r[o],s[o]))return!1;return!0}}this.encode=u(r(e,"encode")),this.decode=u(r(e,"decode")),this.is=u(r(e,"is"),!0),this.equals=a(r(e,"equals")),this.pattern=e.pattern,this.$normalize=u(r(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",b),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",w),E.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",E).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),S.$inject=[],t.module("ui.router.state").provider("$view",S),t.module("ui.router.state").provider("$uiViewScroll",x),T.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],N.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",T),t.module("ui.router.state").directive("uiView",N),_.$inject=["$state","$timeout"],D.$inject=["$state","$timeout"],P.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",_).directive("uiSrefActive",P).directive("uiSrefActiveEq",P).directive("uiState",D),H.$inject=["$state"],B.$inject=["$state"],t.module("ui.router.state").filter("isState",H).filter("includedByState",B)}(window,window.angular),define("angular-ui-router",["angular"],function(){}),function(e,t,n){"use strict";function r(e){var n=[];return a(n,t.noop).chars(e),n.join("")}function i(e,n){var r={},i=e.split(","),s;for(s=0;s<i.length;s++)r[n?t.lowercase(i[s]):i[s]]=!0;return r}function s(e,n){function r(e,r,s,u){r=t.lowercase(r);if(S[r])for(;a.last()&&x[a.last()];)i("",a.last());E[r]&&a.last()==r&&i("",r),(u=w[r]||!!u)||a.push(r);var f={};s.replace(h,function(e,t,n,r,i){f[t]=o(n||r||i||"")}),n.start&&n.start(r,f,u)}function i(e,r){var i=0,s;if(r=t.lowercase(r))for(i=a.length-1;0<=i&&a[i]!=r;i--);if(0<=i){for(s=a.length-1;s>=i;s--)n.end&&n.end(a[s]);a.length=i}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var s,u,a=[],y=e,b;for(a.last=function(){return a[a.length-1]};e;){b="",u=!0;if(a.last()&&T[a.last()])e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+a.last()+"[^>]*>","i"),function(e,t){return t=t.replace(v,"$1").replace(g,"$1"),n.chars&&n.chars(o(t)),""}),i("",a.last());else{if(0===e.indexOf("<!--"))s=e.indexOf("--",4),0<=s&&e.lastIndexOf("-->",s)===s&&(n.comment&&n.comment(e.substring(4,s)),e=e.substring(s+3),u=!1);else if(m.test(e)){if(s=e.match(m))e=e.replace(s[0],""),u=!1}else if(d.test(e)){if(s=e.match(c))e=e.substring(s[0].length),s[0].replace(c,i),u=!1}else p.test(e)&&((s=e.match(l))?(s[4]&&(e=e.substring(s[0].length),s[0].replace(l,r)),u=!1):(b+="<",e=e.substring(1)));u&&(s=e.indexOf("<"),b+=0>s?e:e.substring(0,s),e=0>s?"":e.substring(s),n.chars&&n.chars(o(b)))}if(e==y)throw f("badparse",e);y=e}i()}function o(e){return e?(L.innerHTML=e.replace(/</g,"&lt;"),L.textContent):""}function u(e){return e.replace(/&/g,"&amp;").replace(y,function(e){var t=e.charCodeAt(0);return e=e.charCodeAt(1),"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(b,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,s,o){e=t.lowercase(e),!r&&T[e]&&(r=e),r||!0!==N[e]||(i("<"),i(e),t.forEach(s,function(r,s){var o=t.lowercase(s),a="img"===e&&"src"===o||"background"===o;!0!==k[o]||!0===C[o]&&!n(r,a)||(i(" "),i(s),i('="'),i(u(r)),i('"'))}),i(o?"/>":">"))},end:function(e){e=t.lowercase(e),r||!0!==N[e]||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(u(e))}}}var f=t.$$minErr("$sanitize"),l=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,c=/^<\/\s*([\w:-]+)[^>]*>/,h=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,d=/^<\//,v=/\x3c!--(.*?)--\x3e/g,m=/<!DOCTYPE([^>]*?)>/i,g=/<!\[CDATA\[(.*?)]]\x3e/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~| |!])/g,w=i("area,br,col,hr,img,wbr");e=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),n=i("rp,rt");var E=t.extend({},n,e),S=t.extend({},e,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),x=t.extend({},n,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));e=i("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use");var T=i("script,style"),N=t.extend({},w,S,x,E,e),C=i("background,cite,href,longdesc,src,usemap,xlink:href");e=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),n=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0);var k=t.extend({},C,n,e),L=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return s(t,a(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i;return function(s,o){function u(e){e&&c.push(r(e))}function a(e,n){c.push("<a "),t.isDefined(o)&&c.push('target="',o,'" '),c.push('href="',e.replace(/"/g,"&quot;"),'">'),u(n),c.push("</a>")}if(!s)return s;for(var f,l=s,c=[],h,p;f=l.match(n);)h=f[0],f[2]||f[4]||(h=(f[3]?"http://":"mailto:")+h),p=f.index,u(l.substr(0,p)),a(h,f[0].replace(i,"")),l=l.substring(p+f[0].length);return u(l),e(c.join(""))}}])}(window,window.angular),define("angular-sanitize",["angular"],function(){}),function(t,n){typeof exports=="object"&&typeof module=="object"?module.exports=n():typeof define=="function"&&define.amd?define("angular-file-upload",[],n):typeof exports=="object"?exports["angular-file-upload"]=n():t["angular-file-upload"]=n()}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";function A(e){return e&&e.__esModule?e:{"default":e}}var r=n(1),i=A(r),s=n(2),o=A(s),u=n(3),a=A(u),f=n(4),l=A(f),c=n(5),h=A(c),p=n(6),d=A(p),v=n(7),m=A(v),g=n(8),y=A(g),b=n(9),w=A(b),E=n(10),S=A(E),x=n(11),T=A(x),N=n(12),C=A(N),k=n(13),L=A(k);angular.module(i.default.name,[]).value("fileUploaderOptions",o.default).factory("FileUploader",a.default).factory("FileLikeObject",l.default).factory("FileItem",h.default).factory("FileDirective",d.default).factory("FileSelect",m.default).factory("FileDrop",w.default).factory("FileOver",S.default).factory("Pipeline",y.default).directive("nvFileSelect",T.default).directive("nvFileDrop",C.default).directive("nvFileOver",L.default).run(["FileUploader","FileLikeObject","FileItem","FileDirective","FileSelect","FileDrop","FileOver","Pipeline",function(e,t,n,r,i,s,o,u){e.FileLikeObject=t,e.FileItem=n,e.FileDirective=r,e.FileSelect=i,e.FileDrop=s,e.FileOver=o,e.Pipeline=u}])},function(e,t){e.exports={name:"angularFileUpload"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={url:"/",alias:"file",headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:"POST",filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1,disableMultipart:!1,callback:null}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t,n,i,s,o,a,b){var w=i.File,E=i.FormData,S=function(){function i(t){u(this,i);var n=l(e);c(this,n,t,{isUploading:!1,_nextIndex:0,_directives:{select:[],drop:[],over:[]}}),this.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.filters.unshift({name:"folder",fn:this._folderFilter})}return i.prototype.addToQueue=function(t,n,i){var s=this,u=this.isArrayLikeObject(t)?Array.prototype.slice.call(t):[t],f=this._getFilters(i),l=this.queue.length,c=[],h=function d(){var e=u.shift();if(g(e))return p();var t=s.isFile(e)?e:new o(e),i=s._convertFiltersToPipes(f),l=new b(i),h=function(t){var n=t.pipe.originalFilter,i=r(t.args,2),o=i[0],u=i[1];s._onWhenAddingFileFailed(o,n,u),d()},v=function(t,n){var r=new a(s,t,n);c.push(r),s.queue.push(r),s._onAfterAddingFile(r),d()};l.onThrown=h,l.onSuccessful=v,l.exec(t,n)},p=function(){s.queue.length!==l&&(s._onAfterAddingAll(c),s.progress=s._getTotalProgress()),s._render(),s.autoUpload&&s.uploadAll()};h()},i.prototype.removeFromQueue=function(t){var n=this.getIndexOfItem(t),r=this.queue[n];r.isUploading&&r.cancel(),this.queue.splice(n,1),r._destroy(),this.progress=this._getTotalProgress()},i.prototype.clearQueue=function(){while(this.queue.length)this.queue[0].remove();this.progress=0},i.prototype.uploadItem=function(t){var n=this.getIndexOfItem(t),r=this.queue[n],i=this.isHTML5?"_xhrTransport":"_iframeTransport";r._prepareToUploading();if(this.isUploading)return;this._onBeforeUploadItem(r);if(r.isCancel)return;r.isUploading=!0,this.isUploading=!0,this[i](r),this._render()},i.prototype.cancelItem=function(t){var n=this,r=this.getIndexOfItem(t),i=this.queue[r],o=this.isHTML5?"_xhr":"_form";if(!i)return;i.isCancel=!0,i.isUploading?i[o].abort():function(){var e=[undefined,0,{}],t=function(){n._onCancelItem.apply(n,[i].concat(e)),n._onCompleteItem.apply(n,[i].concat(e))};s(t)}()},i.prototype.uploadAll=function(){var t=this.getNotUploadedItems().filter(function(e){return!e.isUploading});if(!t.length)return;h(t,function(e){return e._prepareToUploading()}),t[0].upload()},i.prototype.cancelAll=function(){var t=this.getNotUploadedItems();h(t,function(e){return e.cancel()})},i.prototype.isFile=function(t){return this.constructor.isFile(t)},i.prototype.isFileLikeObject=function(t){return this.constructor.isFileLikeObject(t)},i.prototype.isArrayLikeObject=function(t){return this.constructor.isArrayLikeObject(t)},i.prototype.getIndexOfItem=function(t){return d(t)?t:this.queue.indexOf(t)},i.prototype.getNotUploadedItems=function(){return this.queue.filter(function(e){return!e.isUploaded})},i.prototype.getReadyItems=function(){return this.queue.filter(function(e){return e.isReady&&!e.isUploading}).sort(function(e,t){return e.index-t.index})},i.prototype.destroy=function(){var t=this;h(this._directives,function(e){h(t._directives[e],function(e){e.destroy()})})},i.prototype.onAfterAddingAll=function(t){},i.prototype.onAfterAddingFile=function(t){},i.prototype.onWhenAddingFileFailed=function(t,n,r){},i.prototype.onBeforeUploadItem=function(t){},i.prototype.onProgressItem=function(t,n){},i.prototype.onProgressAll=function(t){},i.prototype.onSuccessItem=function(t,n,r,i){},i.prototype.onErrorItem=function(t,n,r,i){},i.prototype.onCancelItem=function(t,n,r,i){},i.prototype.onCompleteItem=function(t,n,r,i){},i.prototype.onCompleteAll=function(){},i.prototype._getTotalProgress=function(t){if(this.removeAfterUpload)return t||0;var n=this.getNotUploadedItems().length,r=n?this.queue.length-n:this.queue.length,i=100/this.queue.length,s=(t||0)*i/100;return Math.round(r*i+s)},i.prototype._getFilters=function(t){if(!t)return this.filters;if(m(t))return t;var n=t.match(/[^\s,]+/g);return this.filters.filter(function(e){return n.indexOf(e.name)!==-1})},i.prototype._convertFiltersToPipes=function(t){var n=this;return t.map(function(e){var t=f(n,e.fn);return t.isAsync=e.fn.length===3,t.originalFilter=e,t})},i.prototype._render=function(){t.$$phase||t.$apply()},i.prototype._folderFilter=function(t){return!!t.size||!!t.type},i.prototype._queueLimitFilter=function(){return this.queue.length<this.queueLimit},i.prototype._isSuccessCode=function(t){return t>=200&&t<300||t===304},i.prototype._transformResponse=function(t,r){var i=this._headersGetter(r);return h(n.defaults.transformResponse,function(e){t=e(t,i)}),t},i.prototype._parseHeaders=function(t){var n={},r,i,s;return t?(h(t.split("\n"),function(e){s=e.indexOf(":"),r=e.slice(0,s).trim().toLowerCase(),i=e.slice(s+1).trim(),r&&(n[r]=n[r]?n[r]+", "+i:i)}),n):n},i.prototype._headersGetter=function(t){return function(e){return e?t[e.toLowerCase()]||null:t}},i.prototype._xhrTransport=function(t){var n=this,r=t._xhr=new XMLHttpRequest,i;t.disableMultipart?i=t._file:(i=new E,h(t.formData,function(e){h(e,function(e,t){i.append(t,e)})}),i.append(t.alias,t._file,t.file.name));if(typeof t._file.size!="number")throw new TypeError("The file specified is no longer valid");r.upload.onprogress=function(e){var r=Math.round(e.lengthComputable?e.loaded*100/e.total:0);n._onProgressItem(t,r)},r.onload=function(){var e=n._parseHeaders(r.getAllResponseHeaders()),i=n._transformResponse(r.response,e),s=n._isSuccessCode(r.status)?"Success":"Error",o="_on"+s+"Item";n[o](t,i,r.status,e),n._onCompleteItem(t,i,r.status,e)},r.onerror=function(){var e=n._parseHeaders(r.getAllResponseHeaders()),i=n._transformResponse(r.response,e);n._onErrorItem(t,i,r.status,e),n._onCompleteItem(t,i,r.status,e)},r.onabort=function(){var e=n._parseHeaders(r.getAllResponseHeaders()),i=n._transformResponse(r.response,e);n._onCancelItem(t,i,r.status,e),n._onCompleteItem(t,i,r.status,e)},r.open(t.method,t.url,!0),r.withCredentials=t.withCredentials,h(t.headers,function(e,t){r.setRequestHeader(t,e)}),r.send(i)},i.prototype._iframeTransport=function(t){var n=this,r=y('<form style="display: none;" />'),i=y('<iframe name="iframeTransport'+Date.now()+'">'),s=t._input;t._form&&t._form.replaceWith(s),t._form=r,s.prop("name",t.alias),h(t.formData,function(e){h(e,function(e,t){var n=y('<input type="hidden" name="'+t+'" />');n.val(e),r.append(n)})}),r.prop({action:t.url,method:"POST",target:i.prop("name"),enctype:"multipart/form-data",encoding:"multipart/form-data"}),i.bind("load",function(){var e="",r=200;try{e=i[0].contentDocument.body.innerHTML}catch(s){r=500}var o={response:e,status:r,dummy:!0},u={},a=n._transformResponse(o.response,u);n._onSuccessItem(t,a,o.status,u),n._onCompleteItem(t,a,o.status,u)}),r.abort=function(){var e={status:0,dummy:!0},o={},u;i.unbind("load").prop("src","javascript:false;"),r.replaceWith(s),n._onCancelItem(t,u,e.status,o),n._onCompleteItem(t,u,e.status,o)},s.after(r),r.append(s).append(i),r[0].submit()},i.prototype._onWhenAddingFileFailed=function(t,n,r){this.onWhenAddingFileFailed(t,n,r)},i.prototype._onAfterAddingFile=function(t){this.onAfterAddingFile(t)},i.prototype._onAfterAddingAll=function(t){this.onAfterAddingAll(t)},i.prototype._onBeforeUploadItem=function(t){t._onBeforeUpload(),this.onBeforeUploadItem(t)},i.prototype._onProgressItem=function(t,n){var r=this._getTotalProgress(n);this.progress=r,t._onProgress(n),this.onProgressItem(t,n),this.onProgressAll(r),this._render()},i.prototype._onSuccessItem=function(t,n,r,i){t._onSuccess(n,r,i),this.onSuccessItem(t,n,r,i)},i.prototype._onErrorItem=function(t,n,r,i){t._onError(n,r,i),this.onErrorItem(t,n,r,i)},i.prototype._onCancelItem=function(t,n,r,i){t._onCancel(n,r,i),this.onCancelItem(t,n,r,i)},i.prototype._onCompleteItem=function(t,n,r,i){t._onComplete(n,r,i),this.onCompleteItem(t,n,r,i);var s=this.getReadyItems()[0];this.isUploading=!1;if(v(s)){s.upload();return}this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render()},i.isFile=function(t){return w&&t instanceof w},i.isFileLikeObject=function(t){return t instanceof o},i.isArrayLikeObject=function(t){return p(t)&&"length"in t},i.inherit=function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.super_=n},i}();return S.prototype.isHTML5=!!w&&!!E,S.isHTML5=S.prototype.isHTML5,S}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=b;var i=n(1),s=o(i),a=angular,f=a.bind,l=a.copy,c=a.extend,h=a.forEach,p=a.isObject,d=a.isNumber,v=a.isDefined,m=a.isArray,g=a.isUndefined,y=a.element;b.$inject=["fileUploaderOptions","$rootScope","$http","$window","$timeout","FileLikeObject","FileItem","Pipeline"]},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(){return function(){function e(t){o(this,e);var n=f(t),r=n?t.value:t,i=l(r)?"FakePath":"Object",s="_createFrom"+i;this[s](r)}return e.prototype._createFromFakePath=function(t){this.lastModifiedDate=null,this.size=null,this.type="like/"+t.slice(t.lastIndexOf(".")+1).toLowerCase(),this.name=t.slice(t.lastIndexOf("/")+t.lastIndexOf("\\")+2)},e.prototype._createFromObject=function(t){this.lastModifiedDate=a(t.lastModifiedDate),this.size=t.size,this.type=t.type,this.name=t.name},e}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(1),i=s(r),u=angular,a=u.copy,f=u.isElement,l=u.isString},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){return function(){function n(e,r,i){o(this,n);var s=c(r),u=s?l(r):null,h=s?null:r;f(this,{url:e.url,alias:e.alias,headers:a(e.headers),formData:a(e.formData),removeAfterUpload:e.removeAfterUpload,withCredentials:e.withCredentials,disableMultipart:e.disableMultipart,method:e.method},i,{uploader:e,file:new t(r),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:h,_input:u}),u&&this._replaceNode(u)}return n.prototype.upload=function(){try{this.uploader.uploadItem(this)}catch(t){var n=t.name+":"+t.message;this.uploader._onCompleteItem(this,n,t.code,[]),this.uploader._onErrorItem(this,n,t.code,[])}},n.prototype.cancel=function(){this.uploader.cancelItem(this)},n.prototype.remove=function(){this.uploader.removeFromQueue(this)},n.prototype.onBeforeUpload=function(){},n.prototype.onProgress=function(t){},n.prototype.onSuccess=function(t,n,r){},n.prototype.onError=function(t,n,r){},n.prototype.onCancel=function(t,n,r){},n.prototype.onComplete=function(t,n,r){},n.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},n.prototype._onProgress=function(t){this.progress=t,this.onProgress(t)},n.prototype._onSuccess=function(t,n,r){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=null,this.onSuccess(t,n,r)},n.prototype._onError=function(t,n,r){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onError(t,n,r)},n.prototype._onCancel=function(t,n,r){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=null,this.onCancel(t,n,r)},n.prototype._onComplete=function(t,n,r){this.onComplete(t,n,r),this.removeAfterUpload&&this.remove()},n.prototype._destroy=function(){this._input&&this._input.remove(),this._form&&this._form.remove(),delete this._form,delete this._input},n.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},n.prototype._replaceNode=function(n){var r=e(n.clone())(n.scope());r.prop("value",null),n.css("display","none"),n.after(r)},n}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=n(1),i=s(r),u=angular,a=u.copy,f=u.extend,l=u.element,c=u.isElement;h.$inject=["$compile","FileLikeObject"]},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(){var e=function(){function e(t){o(this,e),a(this,t),this.uploader._directives[this.prop].push(this),this._saveLinks(),this.bind()}return e.prototype.bind=function(){for(var t in this.events){var n=this.events[t];this.element.bind(t,this[n])}},e.prototype.unbind=function(){for(var t in this.events)this.element.unbind(t,this.events[t])},e.prototype.destroy=function(){var t=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(t,1),this.unbind()},e.prototype._saveLinks=function(){for(var t in this.events){var n=this.events[t];this[n]=this[n].bind(this)}},e}();return e.prototype.events={},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=n(1),i=s(r),u=angular,a=u.extend},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function a(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){return function(t){function n(e){o(this,n);var r=l(e,{events:{$destroy:"destroy",change:"onChange"},prop:"select"}),i=u(this,t.call(this,r));return i.uploader.isHTML5||i.element.removeAttr("multiple"),i.element.prop("value",null),i}return a(n,t),n.prototype.getOptions=function(){},n.prototype.getFilters=function(){},n.prototype.isEmptyAfterSelection=function(){return!!this.element.attr("multiple")},n.prototype.onChange=function(){var n=this.uploader.isHTML5?this.element[0].files:this.element[0],r=this.getOptions(),i=this.getFilters();this.uploader.isHTML5||this.destroy(),this.uploader.addToQueue(n,r,i),this.isEmptyAfterSelection()&&(this.element.prop("value",null),this.element.replaceWith(e(this.element.clone())(this.scope)))},n}(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(1),i=s(r),f=angular,l=f.extend;c.$inject=["$compile","FileDirective"]},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){return function(){function t(){var e=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];r(this,t),this.pipes=e}return t.prototype.next=function(r){var i=this.pipes.shift();if(o(i)){this.onSuccessful.apply(this,n(r));return}var u=new Error("The filter has not passed");u.pipe=i,u.args=r;if(i.isAsync){var a=e.defer(),f=s(this,this.next,r),l=s(this,this.onThrown,u);a.promise.then(f,l),i.apply(undefined,n(r).concat([a]))}else{var c=Boolean(i.apply(undefined,n(r)));c?this.next(r):this.onThrown(u)}},t.prototype.exec=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.next(n)},t.prototype.onThrown=function(t){},t.prototype.onSuccessful=function(){},t}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var i=angular,s=i.bind,o=i.isUndefined;u.$inject=["$q"]},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function a(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e){return function(e){function t(n){o(this,t);var r=l(n,{events:{$destroy:"destroy",drop:"onDrop",dragover:"onDragOver",dragleave:"onDragLeave"},prop:"drop"});return u(this,e.call(this,r))}return a(t,e),t.prototype.getOptions=function(){},t.prototype.getFilters=function(){},t.prototype.onDrop=function(t){var n=this._getTransfer(t);if(!n)return;var r=this.getOptions(),i=this.getFilters();this._preventAndStop(t),c(this.uploader._directives.over,this._removeOverClass,this),this.uploader.addToQueue(n.files,r,i)},t.prototype.onDragOver=function(t){typeof this.uploader.callback=="function"&&this.uploader.callback.call(this,"in");var n=this._getTransfer(t);if(!this._haveFiles(n.types))return;n.dropEffect="copy",this._preventAndStop(t),c(this.uploader._directives.over,this._addOverClass,this)},t.prototype.onDragLeave=function(t){typeof this.uploader.callback=="function"&&this.uploader.callback.call(this,"out");if(t.currentTarget===this.element[0])return;this._preventAndStop(t),c(this.uploader._directives.over,this._removeOverClass,this)},t.prototype._getTransfer=function(t){return t.dataTransfer?t.dataTransfer:t.originalEvent.dataTransfer},t.prototype._preventAndStop=function(t){t.preventDefault(),t.stopPropagation()},t.prototype._haveFiles=function(t){return t?t.indexOf?t.indexOf("Files")!==-1:t.contains?t.contains("Files"):!1:!1},t.prototype._addOverClass=function(t){t.addOverClass()},t.prototype._removeOverClass=function(t){t.removeOverClass()},t}(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=n(1),i=s(r),f=angular,l=f.extend,c=f.forEach;h.$inject=["FileDirective"]},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function a(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){return function(e){function t(n){o(this,t);var r=l(n,{events:{$destroy:"destroy"},prop:"over",overClass:"nv-file-over"});return u(this,e.call(this,r))}return a(t,e),t.prototype.addOverClass=function(){this.element.addClass(this.getOverClass())},t.prototype.removeOverClass=function(){this.element.removeClass(this.getOverClass())},t.prototype.getOverClass=function(){return this.overClass},t}(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(1),i=s(r),f=angular,l=f.extend;c.$inject=["FileDirective"]},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return{link:function(i,s,o){var u=i.$eval(o.uploader);if(!(u instanceof t))throw new TypeError('"Uploader" must be an instance of FileUploader');var a=new n({uploader:u,element:s,scope:i});a.getOptions=e(o.options).bind(a,i),a.getFilters=function(){return o.filters}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(1),i=s(r);o.$inject=["$parse","FileUploader","FileSelect"]},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return{link:function(i,s,o){var u=i.$eval(o.uploader);if(!(u instanceof t))throw new TypeError('"Uploader" must be an instance of FileUploader');if(!u.isHTML5)return;var a=new n({uploader:u,element:s});a.getOptions=e(o.options).bind(a,i),a.getFilters=function(){return o.filters}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(1),i=s(r);o.$inject=["$parse","FileUploader","FileDrop"]},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return{link:function(r,i,s){var o=r.$eval(s.uploader);if(!(o instanceof e))throw new TypeError('"Uploader" must be an instance of FileUploader');var u=new t({uploader:o,element:i});u.getOverClass=function(){return s.overClass||u.overClass}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(1),i=s(r);o.$inject=["FileUploader","FileOver"]}])}),define("ctrl-init",["angular"],function(e){return e.module("app.controllers",[])}),define("controllers/menuCtrl",["ctrl-init"],function(e){"use strict";e.controller("menuCtrl",["$scope","$rootScope","BaseService","$state","$document","$location","$timeout","FileUploader",function(e,t,n,r,i,s,o,u){function l(){var r=null;r=new n,r.url="user/infoAccount.action",r.callback=function(n){if(n.isSuccess){t.userInfo=n.data,t.userInfo.type==2&&(e.showAuR=!0),t.userInfo.name||(t.userInfo.name=t.userInfo.account);if(t.userInfo.status==0||t.userInfo.status==3)e.isIdentified=!0;t.userInfo.isEmpower=n.data.isEmpower}},r.commit()}if(!(s.url().indexOf("signing")>-1||s.url().indexOf("fillin")>-1)){var a=JSON.parse(sessionStorage.getItem("contractInfo"));a!=null&&a!="undefined"&&(sessionStorage.removeItem("contractInfo"),sessionStorage.removeItem("contractUserList"))}t.isLogin=!1,e.alert=!1,e.isIdentified=!1,e.showAuR=!1,t.menuFocus=1,t.navFocus=1,e.alertable=!0;var f=window.sessionStorage.getItem("hassaw");f==1&&(e.alertable=!1),e.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},t.userInfo={isEmpower:"0",status:2},e.$watch("userInfo.status",function(e,n){t.userInfo.status=e}),l(),t.$on("RELOAD_USER_INFO",function(){l()}),e.setMenuFocus=function(e){t.menuFocus=e},t.$watch("menuFocus",function(e,n){t.menuFocus=e}),e.setNavFocus=function(n){t.navFocus=n,n==5&&(t.userInfo.status!=2?e.isErrorMsg={isShowErrorMsg:!0,errorMsg:"实名认证后才能使用此功能，快去认证吧！"}:r.go("user.authorizationRepresentative"))},e.closeQm=function(){e.isIdentified=!e.isIdentified},t.$on("$stateChangeSuccess",function(){e.alert=!1}),e.showAlert=function(t){e.alertable=!1,window.sessionStorage.setItem("hassaw",1),e.alert=!e.alert,t.stopPropagation()},e.$watch("alert",function(){i.bind("click",function(){if(e.alert)return e.alert=!1,e.$apply(),!1})}),e.$on("$destroy",function(){baseService=null}),e.loginOut=function(){localStorage.removeItem("newregist"),window.location.href="user/logoutToHome.action"},e.pdfshow=!1,e.noPackage=function(){e.isErrorMsg={isShowErrorMsg:!0,errorMsg:"对不起，您没有购买套餐或者套餐已失效"}};var c=e.commonUploader=new u({callback:function(t){t=="in"?e.pdfshow=!0:t=="out"&&(e.pdfshow=!1),e.$apply()}});c.filters.push({name:"customFilter",msg:"请上传小于20M的文件",fn:function(e,t){return e.size/1048576<=20}}),c.filters.push({name:"fileFilter",msg:"文件类型不支持",fn:function(e,t){var n=e.type.slice(e.type.lastIndexOf("/")+1),r=e.name.substring(e.name.lastIndexOf(".")+1,e.name.length);if(r=="wps")return!0;if(n=="")return"doc|docx|wps|pdf|xls|xlsx|x-xls".indexOf(r)!=-1;var i="|"+n+"|";return"|vnd.openxmlformats-officedocument.wordprocessingml.document|vnd.openxmlformats-officedocument.spreadsheetml.sheet|vnd.ms-excel|msword|doc|docx|wps|pdf|xls|xlsx|x-xls|".indexOf(i)!=-1}}),c.onWhenAddingFileFailed=function(t,n,r){e.isErrorMsg={isShowErrorMsg:!0,errorMsg:n.msg},this.clearQueue()},c.onAfterAddingFile=function(n){if(t.userInfo.empowerApsCount==0&&t.userInfo.apsCount==0)return e.isErrorMsg={isShowErrorMsg:!0,errorMsg:"对不起，您没有购买套餐或者套餐已失效"},!1;e.uploadItem(n._file)},e.uploadOk=function(){e.locked=!1,e.pdfshow=!1,e.commonUploader.clearQueue(),$("#myFile").val(""),e.$apply(),s.url().indexOf("fillin")>-1?t.$emit("contract_uuid",{uuid:e.contractUUID,name:e.contractNAME}):r.go("user.fillin",{uuid:e.contractUUID})},e.uploadItem=function(r){if(e.locked)return!1;e.locked=!0;var i=new n;i.url="user/saveOperateContract.action",i.params.clause=!1,i.params.isArbitrate=0,i.params.file=r,i.params.option=0,i.params.empowerType=0,i.loadingEable=!1,i.callback=function(n){n.isSuccess?(e.contractNAME=r.name,e.contractUUID=n.data.uuid,sessionStorage.setItem("contractFileName",r.name),t.$broadcast("end-progress"),t.$apply()):(e.locked=!1,e.isErrorMsg={isShowErrorMsg:!0,errorMsg:n.message})},i.submit()},$(window).scroll(function(){var t=$(this).scrollTop();t>600?e.isTopBtn=!0:e.isTopBtn=!1,e.$apply()})}])}),define("controllers/demoCtrl",["ctrl-init"],function(e){"use strict";e.controller("demoCtrl",["$scope","BaseService",function(e,t){e.proivce=[];var n=new t;n.url="webs/dist/Chinese.json",n.callback=function(t){e.proivce=t},n.get()}])}),define("controllers/centerCtrl",["ctrl-init"],function(e){"use strict";e.controller("centerCtrl",["$scope","$rootScope","$state","CenterService","$timeout","$location",function(e,t,n,r,i,s){var o=JSON.parse(sessionStorage.getItem("contractInfo"));o!=null&&o!="undefined"&&(sessionStorage.removeItem("contractInfo"),sessionStorage.removeItem("contractUserList")),e.pageConf={pageSize:15,total:0,currentPage:1,totalPageCount:0,itemList:[],onChange:function(t){e.cs.currentTab==7?e.cs.loadDrafts(t):e.cs.queryMore(t)}},e.cs=new r(e.pageConf),e.cs.pageNum=["15","100","200","300","400","500"],t.$watch("userInfo.needBatchSign",function(t,n,r){e.cs.needBatchSign=t,t==1&&(e.cs.palceholder="合同编号／")}),t.$stateParams.sort==6&&e.cs.loadDrafts(),s.url().indexOf("center")>-1?(t.menuFocus=1,window.sessionStorage.removeItem("_params"),window.sessionStorage.removeItem("thirdDataSelected")):s.url().indexOf("contractList")>-1&&(t.menuFocus=2),e.cs.currentTab=1,e.cs.currIndex=0,e.cs.loadContractList(0),e.cs.loadPackageInfo(),s.url().indexOf("contractList")>-1&&e.$watch("userInfo.isAuthentication",function(n,r){n==1&&t.userInfo.status==2&&e.cs.getThirdData()}),e.cs.getactivityMsg(),e.cs.getFirstmsg(),e.popShow=!1,e.thirdshow=!1,e.isShowtime=!0,e.num=2,e.menuNum=3,e.statushow=!0,t.tasteSign=!0,e.isActiveIndex=function(t){e.cs.isActive=t},e.startTimeFn=function(t,n){e.cs.isActive=-1,e.cs.params.startTime=n,e.cs.reset(),e.$apply()},e.endTimeFn=function(t,n){e.cs.isActive=-1,e.cs.params.endTime=n,e.cs.reset(),e.$apply()},e.closewealbox=function(){var t=0;localStorage.setItem("newregist",t),e.cs.isShow=!1},e.closePopShow=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,e.popShow=!0},e.closePophide=function(){e.popShow=!1},e.$watch("cs.params.status",function(){e.cs.params.status===0?e.num=1:e.cs.params.status==2?e.num=3:e.cs.params.status==""?e.num=3:e.num=2})}])}),define("controllers/personIdentifyCtrl",["ctrl-init"],function(e){"use strict";e.controller("personIdentifyCtrl",["$scope","$window","BaseService","$interval",function(e,t,n,r){e.pi=new n,e.errorInfo={isShowErrorMsg:!1,errorMsg:""},e.sh={isShowOne:!0,isShowTwo:!1,isHover:!0,promptMsg:!1,isPass:!1},e.showOne=function(){e.sh={isHover:!0,isShowOne:!0,isShowTwo:!1}},e.showTwo=function(){e.getInfo(!1)},e.doReload=function(){e.getInfo(!0)},e.getInfo=function(t){e.pi.url="user/infoAccount.action",e.pi.loadingEable=!1,e.pi.callback=function(n){n.isSuccess&&(n.data.status==0?(e.sh={isHover:!1,isShowOne:!1,isShowTwo:!0,promptMsg:!1},t&&(e.errorInfo={isShowErrorMsg:!0,errorMsg:"先使用微信、QQ、移动浏览器等应用的扫一扫功能进行认证"})):(e.sh={isHover:!1,isShowOne:!1,isShowTwo:!1,promptMsg:!0},n.data.status==1?e.sh.isPass=!0:n.data.status==3&&(e.sh.isPass=!1,e.sh.reason=n.data.auditFailReason,e.sh.reasonArr=e.sh.reason.split(";"))))},e.pi.commit()},e.getInfo(!1),e.doAgain=function(){e.sh={isHover:!1,isShowOne:!1,isShowTwo:!0,promptMsg:!1}},e.$on("$destroy",function(){r.cancel(e.pi)})}])});var Zepto=function(){function e(e){return null==e?String(e):V[$.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function r(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function i(t){return"object"==e(t)}function s(e){return i(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function o(e){return"number"==typeof e.length}function u(e){return A.call(e,function(e){return null!=e})}function a(e){return e.length>0?x.fn.concat.apply([],e):e}function f(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(e){return e in _?_[e]:_[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function c(e,t){return"number"!=typeof t||D[f(e)]?t:t+"px"}function h(e){var t,n;return M[e]||(t=O.createElement(e),O.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),M[e]=n),M[e]}function p(e){return"children"in e?L.call(e.children):x.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function d(e,t,n){for(S in t)n&&(s(t[S])||G(t[S]))?(s(t[S])&&!s(e[S])&&(e[S]={}),G(t[S])&&!G(e[S])&&(e[S]=[]),d(e[S],t[S],n)):t[S]!==E&&(e[S]=t[S])}function v(e,t){return null==t?x(e):x(e).filter(t)}function m(e,n,r,i){return t(n)?n.call(e,r,i):n}function g(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function y(e,t){var n=e.className||"",r=n&&n.baseVal!==E;return t===E?r?n.baseVal:n:void (r?n.baseVal=t:e.className=t)}function b(e){try{return e?"true"==e||("false"==e?!1:"null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?x.parseJSON(e):e):e}catch(t){return e}}function w(e,t){t(e);for(var n=0,r=e.childNodes.length;r>n;n++)w(e.childNodes[n],t)}var E,S,x,T,N,C,k=[],L=k.slice,A=k.filter,O=window.document,M={},_={},D={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},P=/^\s*<(\w+|!)[^>]*>/,H=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,B=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,j=/^(?:body|html)$/i,F=/([A-Z])/g,I=["val","css","html","text","data","width","height","offset"],q=["after","prepend","before","append"],R=O.createElement("table"),U=O.createElement("tr"),z={tr:O.createElement("tbody"),tbody:R,thead:R,tfoot:R,td:U,th:U,"*":O.createElement("div")},W=/complete|loaded|interactive/,X=/^[\w-]*$/,V={},$=V.toString,J={},K=O.createElement("div"),Q={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},G=Array.isArray||function(e){return e instanceof Array};return J.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,s=!i;return s&&(i=K).appendChild(e),r=~J.qsa(i,t).indexOf(e),s&&K.removeChild(e),r},N=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},C=function(e){return A.call(e,function(t,n){return e.indexOf(t)==n})},J.fragment=function(e,t,n){var r,i,o;return H.test(e)&&(r=x(O.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(B,"<$1></$2>")),t===E&&(t=P.test(e)&&RegExp.$1),t in z||(t="*"),o=z[t],o.innerHTML=""+e,r=x.each(L.call(o.childNodes),function(){o.removeChild(this)})),s(n)&&(i=x(r),x.each(n,function(e,t){I.indexOf(e)>-1?i[e](t):i.attr(e,t)})),r},J.Z=function(e,t){return e=e||[],e.__proto__=x.fn,e.selector=t||"",e},J.isZ=function(e){return e instanceof J.Z},J.init=function(e,n){var r;if(!e)return J.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&P.test(e))r=J.fragment(e,RegExp.$1,n),e=null;else{if(n!==E)return x(n).find(e);r=J.qsa(O,e)}else{if(t(e))return x(O).ready(e);if(J.isZ(e))return e;if(G(e))r=u(e);else if(i(e))r=[e],e=null;else if(P.test(e))r=J.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==E)return x(n).find(e);r=J.qsa(O,e)}}return J.Z(r,e)},x=function(e,t){return J.init(e,t)},x.extend=function(e){var t,n=L.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){d(e,n,t)}),e},J.qsa=function(e,t){var n,i="#"==t[0],s=!i&&"."==t[0],o=i||s?t.slice(1):t,u=X.test(o);return r(e)&&u&&i?(n=e.getElementById(o))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:L.call(u&&!i?s?e.getElementsByClassName(o):e.getElementsByTagName(t):e.querySelectorAll(t))},x.contains=O.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},x.type=e,x.isFunction=t,x.isWindow=n,x.isArray=G,x.isPlainObject=s,x.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},x.inArray=function(e,t,n){return k.indexOf.call(t,e,n)},x.camelCase=N,x.trim=function(e){return null==e?"":String.prototype.trim.call(e)},x.uuid=0,x.support={},x.expr={},x.map=function(e,t){var n,r,i,s=[];if(o(e))for(r=0;r<e.length;r++)n=t(e[r],r),null!=n&&s.push(n);else for(i in e)n=t(e[i],i),null!=n&&s.push(n);return a(s)},x.each=function(e,t){var n,r;if(o(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e},x.grep=function(e,t){return A.call(e,t)},window.JSON&&(x.parseJSON=JSON.parse),x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()}),x.fn={forEach:k.forEach,reduce:k.reduce,push:k.push,sort:k.sort,indexOf:k.indexOf,concat:k.concat,map:function(e){return x(x.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return x(L.apply(this,arguments))},ready:function(e){return W.test(O.readyState)&&O.body?e(x):O.addEventListener("DOMContentLoaded",function(){e(x)},!1),this},get:function(e){return e===E?L.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return k.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):x(A.call(this,function(t){return J.matches(t,e)}))},add:function(e,t){return x(C(this.concat(x(e,t))))},is:function(e){return this.length>0&&J.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==E)this.each(function(t){e.call(this,t)||n.push(this)});else{var r="string"==typeof e?this.filter(e):o(e)&&t(e.item)?L.call(e):x(e);this.forEach(function(e){r.indexOf(e)<0&&n.push(e)})}return x(n)},has:function(e){return this.filter(function(){return i(e)?x.contains(this,e):x(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!i(e)?e:x(e)},last:function(){var e=this[this.length-1];return e&&!i(e)?e:x(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?x(e).filter(function(){var e=this;return k.some.call(n,function(t){return x.contains(t,e)})}):1==this.length?x(J.qsa(this[0],e)):this.map(function(){return J.qsa(this,e)}):x()},closest:function(e,t){var n=this[0],i=!1;for("object"==typeof e&&(i=x(e));n&&!(i?i.indexOf(n)>=0:J.matches(n,e));)n=n!==t&&!r(n)&&n.parentNode;return x(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=x.map(n,function(e){return(e=e.parentNode)&&!r(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return v(t,e)},parent:function(e){return v(C(this.pluck("parentNode")),e)},children:function(e){return v(this.map(function(){return p(this)}),e)},contents:function(){return this.map(function(){return L.call(this.childNodes)})},siblings:function(e){return v(this.map(function(e,t){return A.call(p(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return x.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=h(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var r=x(e).get(0),i=r.parentNode||this.length>1;return this.each(function(t){x(this).wrapAll(n?e.call(this,t):i?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){x(this[0]).before(e=x(e));for(var t;(t=e.children()).length;)e=t.first();x(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var r=x(this),i=r.contents(),s=n?e.call(this,t):e;i.length?i.wrapAll(s):r.append(s)})},unwrap:function(){return this.parent().each(function(){x(this).replaceWith(x(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=x(this);(e===E?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return x(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return x(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;x(this).empty().append(m(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=m(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(i(e))for(S in e)g(this,S,e[S]);else g(this,e,m(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:E},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){g(this,e)},this)})},prop:function(e,t){return e=Q[e]||e,1 in arguments?this.each(function(n){this[e]=m(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(F,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?b(r):E},val:function(e){return 0 in arguments?this.each(function(t){this.value=m(this,e,t,this.value)}):this[0]&&(this[0].multiple?x(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=x(this),r=m(this,e,t,n.offset()),i=n.offsetParent().offset(),s={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(s.position="relative"),n.css(s)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var r,i=this[0];if(!i)return;if(r=getComputedStyle(i,""),"string"==typeof t)return i.style[N(t)]||r.getPropertyValue(t);if(G(t)){var s={};return x.each(t,function(e,t){s[t]=i.style[N(t)]||r.getPropertyValue(t)}),s}}var o="";if("string"==e(t))n||0===n?o=f(t)+":"+c(t,n):this.each(function(){this.style.removeProperty(f(t))});else for(S in t)t[S]||0===t[S]?o+=f(S)+":"+c(S,t[S])+";":this.each(function(){this.style.removeProperty(f(S))});return this.each(function(){this.style.cssText+=";"+o})},index:function(e){return e?this.indexOf(x(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return e?k.some.call(this,function(e){return this.test(y(e))},l(e)):!1},addClass:function(e){return e?this.each(function(t){if("className"in this){T=[];var n=y(this),r=m(this,e,t,n);r.split(/\s+/g).forEach(function(e){x(this).hasClass(e)||T.push(e)},this),T.length&&y(this,n+(n?" ":"")+T.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===E)return y(this,"");T=y(this),m(this,e,t,T).split(/\s+/g).forEach(function(e){T=T.replace(l(e)," ")}),y(this,T.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var r=x(this),i=m(this,e,n,y(this));i.split(/\s+/g).forEach(function(e){(t===E?!r.hasClass(e):t)?r.addClass(e):r.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===E?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===E?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=j.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(x(e).css("margin-top"))||0,n.left-=parseFloat(x(e).css("margin-left"))||0,r.top+=parseFloat(x(t[0]).css("border-top-width"))||0,r.left+=parseFloat(x(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||O.body;e&&!j.test(e.nodeName)&&"static"==x(e).css("position");)e=e.offsetParent;return e})}},x.fn.detach=x.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});x.fn[e]=function(i){var s,o=this[0];return i===E?n(o)?o["inner"+t]:r(o)?o.documentElement["scroll"+t]:(s=this.offset())&&s[e]:this.each(function(t){o=x(this),o.css(e,m(this,i,t,o[e]()))})}}),q.forEach(function(t,n){var r=n%2;x.fn[t]=function(){var t,i,s=x.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:J.fragment(n)}),o=this.length>1;return s.length<1?this:this.each(function(e,t){i=r?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var u=x.contains(O.documentElement,i);s.forEach(function(e){if(o)e=e.cloneNode(!0);else if(!i)return x(e).remove();i.insertBefore(e,t),u&&w(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},x.fn[r?t+"To":"insert"+(n?"Before":"After")]=function(e){return x(e)[t](this),this}}),J.Z.prototype=x.fn,J.uniq=C,J.deserializeValue=b,x.zepto=J,x}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(e){function t(e){return e._zid||(e._zid=h++)}function n(e,n,s,o){if(n=r(n),n.ns)var u=i(n.ns);return(m[t(e)]||[]).filter(function(e){return!(!e||n.e&&e.e!=n.e||n.ns&&!u.test(e.ns)||s&&t(e.fn)!==t(s)||o&&e.sel!=o)})}function r(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function i(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function s(e,t){return e.del&&!y&&e.e in b||!!t}function o(e){return w[e]||y&&b[e]||e}function u(n,i,u,a,l,h,p){var d=t(n),v=m[d]||(m[d]=[]);i.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(u);var i=r(t);i.fn=u,i.sel=l,i.e in w&&(u=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?i.fn.apply(this,arguments):void 0}),i.del=h;var d=h||u;i.proxy=function(e){if(e=f(e),!e.isImmediatePropagationStopped()){e.data=a;var t=d.apply(n,e._args==c?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},i.i=v.length,v.push(i),"addEventListener"in n&&n.addEventListener(o(i.e),i.proxy,s(i,p))})}function a(e,r,i,u,a){var f=t(e);(r||"").split(/\s/).forEach(function(t){n(e,t,i,u).forEach(function(t){delete m[f][t.i],"removeEventListener"in e&&e.removeEventListener(o(t.e),t.proxy,s(t,a))})})}function f(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(T,function(e,r){var i=n[e];t[e]=function(){return this[r]=E,i&&i.apply(n,arguments)},t[r]=S}),(n.defaultPrevented!==c?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=E)),t}function l(e){var t,n={originalEvent:e};for(t in e)x.test(t)||e[t]===c||(n[t]=e[t]);return f(n,e)}var c,h=1,p=Array.prototype.slice,d=e.isFunction,v=function(e){return"string"==typeof e},m={},g={},y="onfocusin"in window,b={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};g.click=g.mousedown=g.mouseup=g.mousemove="MouseEvents",e.event={add:u,remove:a},e.proxy=function(n,r){var i=2 in arguments&&p.call(arguments,2);if(d(n)){var s=function(){return n.apply(r,i?i.concat(p.call(arguments)):arguments)};return s._zid=t(n),s}if(v(r))return i?(i.unshift(n[r],n),e.proxy.apply(null,i)):e.proxy(n[r],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var E=function(){return!0},S=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,T={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,r,i,s){var o,f,h=this;return t&&!v(t)?(e.each(t,function(e,t){h.on(e,n,r,t,s)}),h):(v(n)||d(i)||i===!1||(i=r,r=n,n=c),(d(r)||r===!1)&&(i=r,r=c),i===!1&&(i=S),h.each(function(c,h){s&&(o=function(e){return a(h,e.type,i),i.apply(this,arguments)}),n&&(f=function(t){var r,s=e(t.target).closest(n,h).get(0);return s&&s!==h?(r=e.extend(l(t),{currentTarget:s,liveFired:h}),(o||i).apply(s,[r].concat(p.call(arguments,1)))):void 0}),u(h,t,i,r,n,f||o)}))},e.fn.off=function(t,n,r){var i=this;return t&&!v(t)?(e.each(t,function(e,t){i.off(e,n,t)}),i):(v(n)||d(r)||r===!1||(r=n,n=c),r===!1&&(r=S),i.each(function(){a(this,t,r,n)}))},e.fn.trigger=function(t,n){return t=v(t)||e.isPlainObject(t)?e.Event(t):f(t),t._args=n,this.each(function(){t.type in b&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,r){var i,s;return this.each(function(o,u){i=l(v(t)?e.Event(t):t),i._args=r,i.target=u,e.each(n(u,t.type||t),function(e,t){return s=t.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),s},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){v(e)||(t=e,e=t.type);var n=document.createEvent(g[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),f(n)}}(Zepto),function(t){function h(e,n,r){var i=t.Event(n);return t(e).trigger(i,r),!i.isDefaultPrevented()}function p(e,t,r,i){return e.global?h(t||n,r,i):void 0}function d(e){e.global&&0===t.active++&&p(e,null,"ajaxStart")}function m(e){e.global&&!--t.active&&p(e,null,"ajaxStop")}function g(e,t){var n=t.context;return t.beforeSend.call(n,e,t)===!1||p(t,n,"ajaxBeforeSend",[e,t])===!1?!1:void p(t,n,"ajaxSend",[e,t])}function v(e,t,n,r){var i=n.context,s="success";n.success.call(i,e,s,t),r&&r.resolveWith(i,[e,s,t]),p(n,i,"ajaxSuccess",[t,n,e]),x(s,t,n)}function y(e,t,n,r,i){var s=r.context;r.error.call(s,n,t,e),i&&i.rejectWith(s,[n,t,e]),p(r,s,"ajaxError",[n,r,e||t]),x(t,n,r)}function x(e,t,n){var r=n.context;n.complete.call(r,t,e),p(n,r,"ajaxComplete",[t,n]),m(n)}function b(){}function w(e){return e&&(e=e.split(";",2)[0]),e&&(e==f?"html":e==u?"json":s.test(e)?"script":a.test(e)&&"xml")||"text"}function E(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function j(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=E(e.url,e.data),e.data=void 0)}function S(e,n,r,i){return t.isFunction(n)&&(i=r,r=n,n=void 0),t.isFunction(r)||(i=r,r=void 0),{url:e,data:n,success:r,dataType:i}}function C(e,n,r,i){var s,o=t.isArray(n),u=t.isPlainObject(n);t.each(n,function(n,f){s=t.type(f),i&&(n=r?i:i+"["+(u||"object"==s||"array"==s?n:"")+"]"),!i&&o?e.add(f.name,f.value):"array"==s||!r&&"object"==s?C(e,f,r,n):e.add(n,f)})}var i,r,e=0,n=window.document,o=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=/^(?:text|application)\/javascript/i,a=/^(?:text|application)\/xml/i,u="application/json",f="text/html",c=/^\s*$/,l=n.createElement("a");l.href=window.location.href,t.active=0,t.ajaxJSONP=function(r,i){if("type"in r){var s,o,u=r.jsonpCallback,a=(t.isFunction(u)?u():u)||"jsonp"+ ++e,f=n.createElement("script"),l=window[a],c=function(e){t(f).triggerHandler("error",e||"abort")},h={abort:c};return i&&i.promise(h),t(f).on("load error",function(e,n){clearTimeout(o),t(f).off().remove(),"error"!=e.type&&s?v(s[0],h,r,i):y(null,n||"error",h,r,i),window[a]=l,s&&t.isFunction(l)&&l(s[0]),l=s=void 0}),g(h,r)===!1?(c("abort"),h):(window[a]=function(){s=arguments},f.src=r.url.replace(/\?(.+)=\?/,"?$1="+a),n.head.appendChild(f),r.timeout>0&&(o=setTimeout(function(){c("timeout")},r.timeout)),h)}return t.ajax(r)},t.ajaxSettings={type:"GET",beforeSend:b,success:b,error:b,complete:b,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:u,xml:"application/xml, text/xml",html:f,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var a,o=t.extend({},e||{}),s=t.Deferred&&t.Deferred();for(i in t.ajaxSettings)void 0===o[i]&&(o[i]=t.ajaxSettings[i]);d(o),o.crossDomain||(a=n.createElement("a"),a.href=o.url,a.href=a.href,o.crossDomain=l.protocol+"//"+l.host!=a.protocol+"//"+a.host),o.url||(o.url=window.location.toString()),j(o);var u=o.dataType,f=/\?.+=\?/.test(o.url);if(f&&(u="jsonp"),o.cache!==!1&&(e&&e.cache===!0||"script"!=u&&"jsonp"!=u)||(o.url=E(o.url,"_="+Date.now())),"jsonp"==u)return f||(o.url=E(o.url,o.jsonp?o.jsonp+"=?":o.jsonp===!1?"":"callback=?")),t.ajaxJSONP(o,s);var C,h=o.accepts[u],p={},m=function(e,t){p[e.toLowerCase()]=[e,t]},x=/^([\w-]+:)\/\//.test(o.url)?RegExp.$1:window.location.protocol,S=o.xhr(),T=S.setRequestHeader;if(s&&s.promise(S),o.crossDomain||m("X-Requested-With","XMLHttpRequest"),m("Accept",h||"*/*"),(h=o.mimeType||h)&&(h.indexOf(",")>-1&&(h=h.split(",",2)[0]),S.overrideMimeType&&S.overrideMimeType(h)),(o.contentType||o.contentType!==!1&&o.data&&"GET"!=o.type.toUpperCase())&&m("Content-Type",o.contentType||"application/x-www-form-urlencoded"),o.headers)for(r in o.headers)m(r,o.headers[r]);if(S.setRequestHeader=m,S.onreadystatechange=function(){if(4==S.readyState){S.onreadystatechange=b,clearTimeout(C);var e,n=!1;if(S.status>=200&&S.status<300||304==S.status||0==S.status&&"file:"==x){u=u||w(o.mimeType||S.getResponseHeader("content-type")),e=S.responseText;try{"script"==u?(1,eval)(e):"xml"==u?e=S.responseXML:"json"==u&&(e=c.test(e)?null:t.parseJSON(e))}catch(i){n=i}n?y(n,"parsererror",S,o,s):v(e,S,o,s)}else y(S.statusText||null,S.status?"error":"abort",S,o,s)}},g(S,o)===!1)return S.abort(),y(null,"abort",S,o,s),S;if(o.xhrFields)for(r in o.xhrFields)S[r]=o.xhrFields[r];var N="async"in o?o.async:!0;S.open(o.type,o.url,N,o.username,o.password);for(r in p)T.apply(S,p[r]);return o.timeout>0&&(C=setTimeout(function(){S.onreadystatechange=b,S.abort(),y(null,"timeout",S,o,s)},o.timeout)),S.send(o.data?o.data:null),S},t.get=function(){return t.ajax(S.apply(null,arguments))},t.post=function(){var e=S.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=S.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length)return this;var i,s=this,u=e.split(/\s/),a=S(e,n,r),f=a.success;return u.length>1&&(a.url=u[0],i=u[1]),a.success=function(e){s.html(i?t("<div>").html(e.replace(o,"")).find(i):e),f&&f.apply(s,arguments)},t.ajax(a),this};var T=encodeURIComponent;t.param=function(e,n){var r=[];return r.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(T(e)+"="+T(n))},C(r,e,n),r.join("&").replace(/%20/g,"+")}}(Zepto),function(e){e.fn.serializeArray=function(){var n,r,i=[],s=function(e){return e.forEach?e.forEach(s):void i.push({name:n,value:e})};return this[0]&&e.each(this[0].elements,function(i,o){r=o.type,n=o.name,n&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=r&&"reset"!=r&&"button"!=r&&"file"!=r&&("radio"!=r&&"checkbox"!=r||o.checked)&&s(e(o).val())}),i},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(n){e.push(encodeURIComponent(n.name)+"="+encodeURIComponent(n.value))}),e.join("&")},e.fn.submit=function(n){if(0 in arguments)this.bind("submit",n);else if(this.length){var r=e.Event("submit");this.eq(0).trigger(r),r.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(e){"__proto__"in{}||e.extend(e.zepto,{Z:function(t,n){return t=t||[],e.extend(t,e.fn),t.selector=n||"",t.__Z=!0,t},isZ:function(t){return"array"===e.type(t)&&"__Z"in t}});try{getComputedStyle(void 0)}catch(t){var n=getComputedStyle;window.getComputedStyle=function(e){try{return n(e)}catch(t){return null}}}}(Zepto),define("zepto",function(){}),define("controllers/companyIdentifyCtrl",["ctrl-init","zepto"],function(e){"use strict";e.controller("companyIdentifyCtrl",["$scope","$rootScope","$location","Tools","IdentifyService",function(e,t,n,r,i){t.menuFocus=0,e.identifyService=new i,e.$watch("identifyService.user.mobile",function(t,n){if(t===n)return!1;e.identifyService.opts.mobile=t}),e.$on("errorMess",function(t,n){typeof n!="object"?e.identifyService.hideBox(n):e.identifyService.hideBox(n.msg),e.$apply()}),e.identifyService.timing=function(){e.$broadcast("notice-runsendcode")}}])}),define("controllers/contractDetailCtrl",["ctrl-init"],function(e){"use strict";e.controller("contractDetailCtrl",["$scope","$rootScope","ContractDetailService","$location","$timeout","$document","$interval",function(e,t,n,r,i,s,o){t.menuFocus=2,e.pageConf={pageSize:1,total:0,currentPage:0,itemList:[],onChange:function(t){e.cds.pageTurn(t)}},e.detailPage=!0,e.isShow=!1,e.closeIshow=function(){e.isShow=!e.isShow},e.cds=new n(e.pageConf);var u=null;if(r.url().indexOf("contractDetail")>-1){var a=0;u=o(function(){a=document.getElementById("list").offsetTop-70},1e3,10);var f=0;t.$on("goTop",function(e,t){f=t}),window.onscroll=function(){document.documentElement.scrollTop!=0&&(f=document.documentElement.scrollTop),document.body.scrollTop!=0&&(f=document.body.scrollTop),a>f?e.isFix=!1:e.isFix=!0,e.$apply()}}e.$watch("userInfo.isEmpower",function(){t.userInfo.isEmpower==1&&e.cds.setIsEmpower(t.userInfo.isEmpower)}),s.bind("click",function(t){var n=t||window.event;n.target.className.indexOf("myClassName")<=-1&&(e.cds.isPushDown=!1,e.cds.isDownload=!1,e.$apply())}),e.$on("$destroy",function(){o.cancel(u)})}])}),define("controllers/contractTepCtr",["ctrl-init"],function(e){"use strict";e.controller("contractTepCtr",["$scope","$rootScope","contractTepSiervice",function(e,t,n){t.menuFocus=3,e.pageConf={pageSize:12,currentPage:1,onChange:function(t){e.cg.queryMore(t)}},e.cg=new n(e.pageConf)}])}),define("controllers/fillinContractCtrl",["ctrl-init","zepto"],function(e,t){"use strict";e.controller("fillinContractCtrl",["$scope","ContractService","$timeout","$rootScope",function(e,t,n,r){function u(e,t,n){if(!(o<n-t-e.scrollTop()))return window.cancelAnimationFrame(s),!1;o+=1,e.scrollTop(o+e.scrollTop()),s=requestAnimFrame(function(){u(e,t,n)})}e.showTemplatesList=!1,r.menuFocus=0,e.instance=new t,e.instance.initFillinContract(),e.instance.loadUserGroup(),e.instance.loadContactsByGroup(null,0),e.isForever=function(){e.instance.bean.forever=!e.instance.bean.forever},n(function(){e.$broadcast("rebuild-it")},0),e.$on("$destroy",function(){e.instance=null}),e.signTimeFn=function(t,n){e.instance.contractBean.finishDate=n,e.$apply()},r.$on("contract_uuid",function(t,n){n!=null&&n!="undefined"&&(e.instance.contractBean.uuid=n.uuid,e.instance.contractFileName=n.name)}),e.$watch("instance.contacts",function(t,n){var r=e.instance.userList,i=e.instance.selectedArr;t.length>0&&r.length>0&&angular.forEach(t,function(e,t,n){angular.forEach(r,function(t,n,r){e.contact_id==t.contact_id&&(e.selected=!0)})});var s=0;t.length>0&&i.length>0?(angular.forEach(t,function(e,t,n){e.selected&&s++}),s==t.length?e.instance.isAll=!0:e.instance.isAll=!1):e.instance.isAll=!1}),e.$watch("instance.isShow",function(){var e=$(".pd-all-lrtb"),t=JSON.parse(sessionStorage.getItem("contractInfo"));if(t!=null&&t!="undefined")return!1});var i=null,s=null,o=1;e.$watch("instance.contractBean.finishDate",function(t,n){t!=""&&(e.instance.bean.forever=!1)})}])}),define("controllers/signingCtrl",["ctrl-init"],function(e){"use strict";e.controller("signingCtrl",["$scope","SigningService","$timeout","$rootScope",function(e,t,n,r){e.signing=new t(2),e.signing.initSendParams(),e.signing.init(),r.menuFocus=0,n(function(){e.$broadcast("rebuild-it")},0),e.$on("$destroy",function(){e.signing.destroy(),e.signing=null})}])}),define("controllers/doSigningCtrl",["ctrl-init"],function(e){"use strict";e.controller("doSigningCtrl",["$scope","SigningService","$timeout",function(e,t,n){e.signing=new t(3),e.signing.initSignParams(),e.signing.init(),n(function(){e.$broadcast("rebuild-it")},0),e.$on("$destroy",function(){e.signing.destroy(),e.signing=null})}])}),define("controllers/doSigntestCtrl",["ctrl-init"],function(e){"use strict";e.controller("doSigntestCtrl",["$scope","$state","doSigntestService",function(e,t,n){e.dsg=new n(e),e.dsg.init()}])}),define("controllers/baseInfoCtrl",["ctrl-init"],function(e){"use strict";e.controller("baseInfoCtrl",["$scope","BaseInfoService","$rootScope","Tools",function(e,t,n,r){n.menuFocus=4,n.navFocus=1;var i=JSON.parse(sessionStorage.getItem("contractInfo"));i!=null&&i!="undefined"&&(sessionStorage.removeItem("contractInfo"),sessionStorage.removeItem("contractUserList")),e.bi=new t,e.bi.timing=function(){e.$broadcast("notice-runsendcode")},e.bi.voiceTiming=function(){e.$broadcast("notice-runsendvoidecode")},e.$on("is-click",function(t,n){e.bi.isClick=n}),e.$watch("bi.info.bindVal",function(t,n){e.bi.settings.type==1?e.bi.settings.mobile=e.bi.voicePara.mobile=t:e.bi.settings.email=t}),e.$on("errorMess",function(t,n){e.bi.showMessage=n.isShow,e.bi.info.errorMess=n.msg,r.delayed(function(){e.bi.showMessage=!1}),e.$apply()}),e.$watch("userInfo.status",function(t,n){e.userSratus=t})}])}),define("controllers/forgetPasswordCtrl",["ctrl-init","zepto"],function(e,t){"use strict";e.controller("forgetPasswordCtrl",["$scope","$state","$stateParams","FgPasswordService",function(e,t,n,r){var i=e.fgps=new r;e.$on("is-click",function(e,t){i.isClick=t});var s=n.account;s&&i.initStepTwo(s)}])}),define("controllers/surveyReportCtrl",["ctrl-init"],function(e){"use strict";e.controller("surveyReportCtrl",["$scope","$rootScope","SuveryReportService","$interval",function(e,t,n,r){e.srs=new n,e.$on("$destroy",function(){r.cancel(e.srs.timer)})}])}),define("controllers/testifyCtrl",["ctrl-init"],function(e){"use strict";e.controller("testifyCtrl",["$scope","$rootScope","TestifyService","$interval",function(e,t,n,r){e.ts=new n,e.$on("$destroy",function(){r.cancel(e.ts.timer)})}])}),define("controllers/contactPersonCtrl",["ctrl-init"],function(e){"use strict";e.controller("contactPersonCtrl",["$scope","$rootScope","$state","ContactPersonService",function(e,t,n,r){t.menuFocus=4,t.navFocus=4;var i=JSON.parse(sessionStorage.getItem("contractInfo"));i!=null&&i!="undefined"&&(sessionStorage.removeItem("contractInfo"),sessionStorage.removeItem("contractUserList")),e.pageConf={pageSize:8,currentPage:1,onChange:function(t){e.cp.queryMore(t)}},e.cp=new r(e.pageConf)}])}),define("controllers/applyArbitrationCtrl",["ctrl-init","zepto"],function(e,t){"use strict";e.controller("applyArbitrationCtrl",["$scope","$rootScope","ApplyArbitrationService",function(e,t,n){e.aas=new n,e.uploadOk=function(){e.aas.uploadOk(),e.$apply()}}])}),define("controllers/informationCtrl",["ctrl-init"],function(e){"use strict";e.controller("informationCtrl",["$scope","$rootScope","InformationService",function(e,t,n){e.pageConf={pageSize:10,total:0,currentPage:1,itemList:[],onChange:function(t){e.info.queryMore(t)}},t.menuFocus=100,e.info=new n(e.pageConf),e.info._init()}])}),define("controllers/uploadContractCtrl",["ctrl-init"],function(e){"use strict";e.controller("uploadContractCtrl",["$scope","$rootScope","ContractService","$stateParams",function(e,t,n,r){e.showTemplatesList=!1,e.ucs=new n,e.ucs.initUploadContract(),e.ucs.setDraftPageConf(),e.checkclause=!1,e.choiceTemps=function(){e.showTemplatesList=!e.showTemplatesList},e.selectClause=function(){e.checkclause=!e.checkclause,e.ucs.bean.clause=e.checkclause},e.tags=["上传文件","选择模板","草稿箱"],r.flag&&r.flag==2&&(e.ucs.currentType=2,e.ucs.loadDraftList()),t.$on("updatePageConf",function(t,n){e.ucs.currentType==2&&e.page.init(n)}),e.selectCtype=function(t){e.ucs.currentType=t,t==2&&e.ucs.loadDraftList()},e.$on("$destroy",function(){e.ucs=null})}])}),define("controllers/addContactPersonCtrl",["ctrl-init"],function(e){"use strict";e.controller("addContactPersonCtrl",["$scope","$rootScope","AddContactPersonService",function(e,t,n){e.acp=new n,t.menuFocus=4,t.navFocus=4}])}),define("controllers/amendContactPersonCtrl",["ctrl-init"],function(e){"use strict";e.controller("amendContactPersonCtrl",["$scope","$rootScope","AmendContactPersonService",function(e,t,n){e.amcp=new n,t.menuFocus=4,t.navFocus=4}])}),define("controllers/amendGroupCtrl",["ctrl-init"],function(e){"use strict";e.controller("amendGroupCtrl",["$scope","$rootScope","AmendGroupService",function(e,t,n){e.amg=new n,t.menuFocus_1=3,t.menuFocus=100}])}),define("controllers/contactGroupCtrl",["ctrl-init"],function(e){"use strict";e.controller("contactGroupCtrl",["$scope","$rootScope","ContactGroupService",function(e,t,n){t.menuFocus=4,t.navFocus=4,e.pageConf={pageSize:12,currentPage:1,onChange:function(t){e.cg.queryMore(t)}},e.cg=new n(e.pageConf)}])}),define("controllers/addGroupCtrl",["ctrl-init"],function(e){"use strict";e.controller("addGroupCtrl",["$scope","$rootScope","AddGroupService",function(e,t,n){e.ag=new n,t.menuFocus=4,t.navFocus=4}])}),define("controllers/authorizationCtrl",["ctrl-init"],function(e){"use strict";e.controller("authorizationCtrl",["$scope","AuthorizationService","$rootScope",function(e,t,n){n.menuFocus=4,n.navFocus=1;var r=e.au=new t;e.$on("to-parent",function(e,t){t=="noParams"&&r.getPlatform()}),e.$on("is-click",function(e,t){r.isClick=t,r.isInfo=!1,r.isVoice=!1}),e.$on("errorMess",function(t,n){e.au.isErrorMsg={isShowErrorMsg:!0,errorMsg:n.msg},e.$apply()})}])}),define("controllers/myPackageCtrl",["ctrl-init"],function(e){"use strict";e.controller("myPackageCtrl",["$scope","$rootScope","MyPackageService",function(e,t,n){t.menuFocus=4,t.navFocus=2;var r=JSON.parse(sessionStorage.getItem("contractInfo"));r!=null&&r!="undefined"&&(sessionStorage.removeItem("contractInfo"),sessionStorage.removeItem("contractUserList")),e.pageConf={pageSize:10,total:0,totalPageCount:0,currentPage:1,onChange:function(t){e.mp.isAll=!0,e.mp.selectAllOrder(),e.mp.queryMore(t)}},e.mp=new n(e.pageConf)}])}),define("controllers/packageListCtrl",["ctrl-init"],function(e){"use strict";e.controller("packageListCtrl",["$scope","$rootScope","PackageListService",function(e,t,n){e.pl=new n,t.menuFocus=4,t.navFocus=2}])}),define("controllers/gotoPayCtrl",["ctrl-init"],function(e){"use strict";e.controller("gotoPayCtrl",["$scope","$rootScope","GotoPayService","$interval",function(e,t,n,r){e.gp=new n,e.weixinSrc="",e.$on("$destroy",function(){r.cancel(e.gp.timer)}),t.menuFocus_1=1,t.menuFocus=100}])}),define("controllers/applyInvoiceCtrl",["ctrl-init"],function(e){"use strict";e.controller("applyInvoiceCtrl",["$scope","$rootScope","BaseService","$timeout","ApplyInvoiceService",function(e,t,n,r,i){t.menuFocus=4,t.navFocus=2,e.ai=new i,e.$on("$destroy",function(){e.ai=null}),e.proivces={};var s=new n;s.url="webs/js/data/city.json",s.callback=function(t){e.proivces=t},s.get()}])}),define("controllers/mySignatureCtrl",["ctrl-init"],function(e){"use strict";e.controller("mySignatureCtrl",["$scope","MySignatureService","$rootScope",function(e,t,n){n.menuFocus=4,n.navFocus=3;var r=JSON.parse(sessionStorage.getItem("contractInfo"));r!=null&&r!="undefined"&&(sessionStorage.removeItem("contractInfo"),sessionStorage.removeItem("contractUserList")),e.ms=new t,e.$watch("userInfo.type",function(){n.userInfo.type==1&&e.ms.defInit()})}])}),define("controllers/addSignatureCtrl",["ctrl-init"],function(e){"use strict";e.controller("addSignatureCtrl",["$scope","$rootScope","AddSignatureService",function(e,t,n){t.menuFocus=4,t.navFocus=3,e.as=new n,e.$on("errorMess",function(t,n){e.as.hideBox(n),e.$apply()})}])}),define("controllers/authorizationRepresentativeCtrl",["ctrl-init"],function(e){"use strict";e.controller("authorizationRepresentativeCtrl",["$scope","$rootScope","AuthorizationRepresentativeService",function(e,t,n){e.ar=new n,t.menuFocus=4,t.navFocus=5;var r=JSON.parse(sessionStorage.getItem("contractInfo"));r!=null&&r!="undefined"&&(sessionStorage.removeItem("contractInfo"),sessionStorage.removeItem("contractUserList"))}])}),define("controllers/addAuRepCtrl",["ctrl-init"],function(e){"use strict";e.controller("addAuRepCtrl",["$scope","$rootScope","$stateParams","AddAuRepService",function(e,t,n,r){t.menuFocus_1=4,t.menuFocus=100,e.aar=new r,e.$on("showUl",function(t,n){e.aar.showUl=n}),e.$on("liHtml",function(t,n){e.aar.boxHtml=n,e.aar.getImg(n)}),e.$on("errorMess",function(t,n){e.aar.hideBox(n),e.$apply()})}])}),define("controllers/caInfoCtrl",["ctrl-init"],function(e){"use strict";e.controller("caInfoCtrl",["$scope","$rootScope","CaInfoService",function(e,t,n){e.ci=new n,t.menuFocus_1=0,t.menuFocus=100}])}),define("controllers/customerCheckCtrl",["ctrl-init"],function(e){"use strict";e.controller("customerCheckCtrl",["$scope","$rootScope","CustomerCheckService",function(e,t,n){t.menuFocus=4,t.navFocus=6,e.pageConf={pageSize:8,total:0,currentPage:1,itemList:[],onChange:function(t){e.ccs.queryMore(t)}},e.ccs=new n(e.pageConf),e.beginTimeFn=function(t,n){e.ccs.customer.beginTime=n,e.$apply()},e.endTimeFn=function(t,n){e.ccs.customer.endTime=n,e.ccs.customer.forever=!1,e.$apply()},e.$on("errorMess",function(t,n){typeof n!="object"?e.ccs.errorInfo={errorMsg:n,isShowErrorMsg:!0}:e.ccs.errorInfo={errorMsg:n.msg,isShowErrorMsg:!0},e.$apply()})}])}),define("controllers/quesCtrl",["ctrl-init"],function(e){"use strict";e.controller("quesCtrl",["$scope","$rootScope","quesService",function(e,t,n){t.menuFocus=4,t.navFocus=7;var r=JSON.parse(sessionStorage.getItem("contractInfo"));r!=null&&r!="undefined"&&(sessionStorage.removeItem("contractInfo"),sessionStorage.removeItem("contractUserList")),e.qes=new n}])}),define("ctrls",["controllers/menuCtrl","controllers/demoCtrl","controllers/centerCtrl","controllers/personIdentifyCtrl","controllers/companyIdentifyCtrl","controllers/contractDetailCtrl","controllers/contractTepCtr","controllers/fillinContractCtrl","controllers/signingCtrl","controllers/doSigningCtrl","controllers/doSigntestCtrl","controllers/baseInfoCtrl","controllers/forgetPasswordCtrl","controllers/surveyReportCtrl","controllers/testifyCtrl","controllers/contactPersonCtrl","controllers/applyArbitrationCtrl","controllers/informationCtrl","controllers/uploadContractCtrl","controllers/addContactPersonCtrl","controllers/amendContactPersonCtrl","controllers/amendGroupCtrl","controllers/contactGroupCtrl","controllers/addGroupCtrl","controllers/authorizationCtrl","controllers/myPackageCtrl","controllers/packageListCtrl","controllers/gotoPayCtrl","controllers/applyInvoiceCtrl","controllers/mySignatureCtrl","controllers/addSignatureCtrl","controllers/authorizationRepresentativeCtrl","controllers/addAuRepCtrl","controllers/caInfoCtrl","controllers/customerCheckCtrl","controllers/quesCtrl"],function(){}),define("serv-init",["angular"],function(e){return e.module("app.services",[])}),define("services/baseService",["serv-init","zepto"],function(e,t){"use strict";e.factory("BaseService",["$http","$httpParamSerializerJQLike","$state",function(e,t,n){function r(){this.url="",this.loadingEable=!0,this.CSRFToken="",this.params={},this.callback=undefined,this.onprogress=undefined,this.ajaxajaxLocked=!1,this.xmlHttp=new XMLHttpRequest,this.error=function(e){alert("由于您长时间未操作，请刷新页面重试。"),window.location.href=basepath+"overdue.jsp"},this._baseInit=function(){this.CSRFToken=document.getElementsByName("CSRFToken")[0].value},this.submit=function(){this._baseInit();var e=this,t=new FormData;this.params.CSRFToken=this.CSRFToken,angular.forEach(this.params,function(e,n){null!=e&&"null"!=e&&typeof e!="undefined"&&(angular.isArray(e)?angular.forEach(e,function(e){t.append(n,e)}):t.append(n,e))}),this.xmlHttp.upload.onprogress=function(t){e.progress&&e.progress.call(this,t.loaded,t.total)},this.loadingEable&&$("#fdd-load").show(),this.xmlHttp.onload=function(){var t=e.xmlHttp.readyState,n=e.xmlHttp.status;if(n==200){var r=JSON.parse(e.xmlHttp.response);if(r.isSuccess==0&&r.position=="sessionOut")return!1;e.callback&&(e.loadingEable&&$("#fdd-load").hide(),e.callback.call(this,r))}},this.xmlHttp.onerror=function(){e.ajaxLocked&&(e.ajaxLocked=!1)},this.xmlHttp.onabort=function(){e.ajaxLocked&&(e.ajaxLocked=!1)},this.xmlHttp.open("POST",this.url,!0),this.xmlHttp.withCredentials=!1,this.xmlHttp.transformRequest=angular.identity,this.xmlHttp.send(t)},this._checkToken=function(){this.params.CSRFToken=this.CSRFToken;try{if(this.params.CSRFToken.length<=1)throw"CSRToken is empty!";if(this.url.length<=1)throw"commit url is empty!"}catch(e){return alert("请刷新页面重试！"),!1}return!0},this.commit=function(){return this._baseInit(),this._checkToken()?this.ajaxLocked?!1:(this.ajaxLocked=!0,this.loadingEable&&$("#fdd-load").show(),this.callback instanceof Function?e.post(this.url,t(this.params)).success(function(e){this.ajaxLocked=!1;if(e.isSuccess==0&&e.position=="sessionOut"){var t=$("#csrfTokenForm");return t&&t[0]&&t[0].CSRFToken,!1}this.loadingEable&&$("#fdd-load").hide(),this.callback.call(this,e)}.bind(this)).error(function(e){this.ajaxLocked=!1,$("#fdd-load").hide()}.bind(this)):e.post(this.url,t(this.params))):!1},this.get=function(){return this._baseInit(),this._checkToken()?this.callback instanceof Function?e.get(this.url,t(this.params)).success(function(e){e.isSuccess==0&&e.position=="sessionOut"&&(alert("登录超时，请重新登录！"),window.location.href=basepath+"/login.html"),this.callback.call(this,e)}.bind(this)).error(function(e){this.error.call(this,e),this.ajaxLocked&&(this.ajaxLocked=!1)}.bind(this)):e.get(this.url,t(this.params)):!1}}return r}])}),define("services/pikaday",["serv-init"],function(e){e.factory("Pikaday",[function(){"use strict";var e=typeof moment=="function",t=!!window.addEventListener,n=window.document,r=window.setTimeout,i=function(e,n,r,i){t?e.addEventListener(n,r,!!i):e.attachEvent("on"+n,r)},s=function(e,n,r,i){t?e.removeEventListener(n,r,!!i):e.detachEvent("on"+n,r)},o=function(e,t,r){var i;n.createEvent?(i=n.createEvent("HTMLEvents"),i.initEvent(t,!0,!1),i=y(i,r),e.dispatchEvent(i)):n.createEventObject&&(i=n.createEventObject(),i=y(i,r),e.fireEvent("on"+t,i))},u=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},a=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")!==-1},f=function(e,t){a(e,t)||(e.className=e.className===""?t:e.className+" "+t)},l=function(e,t){e.className=u((" "+e.className+" ").replace(" "+t+" "," "))},c=function(e){return/Array/.test(Object.prototype.toString.call(e))},h=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},p=function(e){var t=e.getDay();return t===0||t===6},d=function(e){return e%4===0&&e%100!==0||e%400===0},v=function(e,t){return[31,d(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},m=function(e){h(e)&&e.setHours(0,0,0,0)},g=function(e,t){return e.getTime()===t.getTime()},y=function(e,t,n){var r,i;for(r in t){i=e[r]!==undefined;if(i&&typeof t[r]=="object"&&t[r]!==null&&t[r].nodeName===undefined)h(t[r])?n&&(e[r]=new Date(t[r].getTime())):c(t[r])?n&&(e[r]=t[r].slice(0)):e[r]=y({},t[r],n);else if(n||!i)e[r]=t[r]}return e},b=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},w={field:null,bound:undefined,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:undefined,maxMonth:undefined,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:undefined,i18n:{previousMonth:"上一月",nextMonth:"下一月",months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],weekdays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],weekdaysShort:["周天","周一","周二","周三","周四","周五","周六"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null,isFocus:!0},E=function(e,t,n){t+=e.firstDay;while(t>=7)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},S=function(e,t,n,r,i,s,o){if(o)return'<td class="is-empty"></td>';var u=[];return s&&u.push("is-disabled"),i&&u.push("is-today"),r&&u.push("is-selected"),'<td data-day="'+e+'" class="'+u.join(" ")+'">'+'<button class="pika-button pika-day" type="button" '+'data-pika-year="'+n+'" data-pika-month="'+t+'" data-pika-day="'+e+'">'+e+"</button>"+"</td>"},x=function(e,t,n){var r=new Date(n,0,1),i=Math.ceil(((new Date(n,t,e)-r)/864e5+r.getDay()+1)/7);return'<td class="pika-week">'+i+"</td>"},T=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},N=function(e){return"<tbody>"+e.join("")+"</tbody>"},C=function(e){var t,n=[];e.showWeekNumber&&n.push("<th></th>");for(t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+E(e,t)+'">'+E(e,t,!0)+"</abbr></th>");return"<thead>"+(e.isRTL?n.reverse():n).join("")+"</thead>"},k=function(e,t,n,r,i){var s,o,u,a=e._o,f=n===a.minYear,l=n===a.maxYear,h='<div class="pika-title">',p,d,v=!0,m=!0;for(u=[],s=0;s<12;s++)u.push('<option value="'+(n===i?s-t:12+s-t)+'"'+(s===r?" selected":"")+(f&&s<a.minMonth||l&&s>a.maxMonth?"disabled":"")+">"+a.i18n.months[s]+"</option>");p='<div class="pika-label">'+a.i18n.months[r]+'<select class="pika-select pika-select-month">'+u.join("")+"</select></div>",c(a.yearRange)?(s=a.yearRange[0],o=a.yearRange[1]+1):(s=n-a.yearRange,o=1+n+a.yearRange);for(u=[];s<o&&s<=a.maxYear;s++)s>=a.minYear&&u.push('<option value="'+s+'"'+(s===n?" selected":"")+">"+s+"</option>");return d='<div class="pika-label">'+n+a.yearSuffix+'<select class="pika-select pika-select-year">'+u.join("")+"</select></div>",a.showMonthAfterYear?h+=d+p:h+=p+d,f&&(r===0||a.minMonth>=r)&&(v=!1),l&&(r===11||a.maxMonth<=r)&&(m=!1),t===0&&(h+='<button class="pika-prev'+(v?"":" is-disabled")+'" type="button">'+a.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(h+='<button class="pika-next'+(m?"":" is-disabled")+'" type="button">'+a.i18n.nextMonth+"</button>"),h+="</div>"},L=function(e,t){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+C(e)+N(t)+"</table>"},A=function(s){var o=this,u=o.config(s);o._onMouseDown=function(e){if(!o._v)return;e=e||window.event;var t=e.target||e.srcElement;if(!t)return;if(!a(t.parentNode,"is-disabled")){if(a(t,"pika-button")&&!a(t,"is-empty")){o.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),u.bound&&r(function(){o.hide(),u.field&&u.field.blur()},100);return}a(t,"pika-prev")?o.prevMonth():a(t,"pika-next")&&o.nextMonth()}if(!a(t,"pika-select")){if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}else o._c=!0;a(t,"pk-clean")&&r(function(){o.hide(),u.field&&(u.field.value="",u.field.children&&u.field.children.length!=0&&(u.field.children[0].value=""),u.field.blur(),typeof o._o.onSelect=="function"&&o._o.onSelect.call(this,""),o.calendars[0].month=parseInt((new Date).getMonth(),10),o.calendars[0].year=parseInt((new Date).getFullYear(),10),o.adjustCalendars(),o._d=null)},100)},o._onChange=function(e){e=e||window.event;var t=e.target||e.srcElement;if(!t)return;a(t,"pika-select-month")?o.gotoMonth(t.value):a(t,"pika-select-year")&&o.gotoYear(t.value)},o._onInputChange=function(t){var n;if(t.firedBy===o)return;e?(n=moment(u.field.value,u.format),n=n&&n.isValid()?n.toDate():null):n=new Date(Date.parse(u.field.value)),o.setDate(h(n)?n:null),o._v||o.show()},o._onInputFocus=function(){o.isFocus&&o.show()},o._onInputClick=function(){o.el.nextSibling&&o.el.nextSibling.className&&o.el.nextSibling.className.indexOf("is-hidden")<=-1&&(f(o.el.nextSibling,"is-hidden"),o._v=!1),o.el.previousSibling&&o.el.previousSibling.className&&o.el.previousSibling.className.indexOf("is-hidden")<=-1&&(f(o.el.previousSibling,"is-hidden"),o._v=!1),o.show()},o._onInputBlur=function(){var e=n.activeElement;do if(a(e,"pika-single"))return;while(e=e.parentNode);o._c||(o._b=r(function(){o.hide()},50)),o._c=!1},o._onClick=function(e){e=e||window.event;var n=e.target||e.srcElement,r=n;if(!n)return;!t&&a(n,"pika-select")&&(n.onchange||(n.setAttribute("onchange","return;"),i(n,"change",o._onChange)));do if(a(r,"pika-single")||r===u.trigger)return;while(r=r.parentNode);o._v&&n!==u.trigger&&r!==u.trigger&&o.hide()},o.el=n.createElement("div"),o.el.className="pika-single"+(u.isRTL?" is-rtl":"")+(u.theme?" "+u.theme:""),i(o.el,"mousedown",o._onMouseDown,!0),i(o.el,"change",o._onChange),u.field&&(u.container?u.container.appendChild(o.el):u.bound?n.body.appendChild(o.el):u.field.parentNode.insertBefore(o.el,u.field.nextSibling),i(u.field,"change",o._onInputChange),u.defaultDate||(e&&u.field.value?u.defaultDate=moment(u.field.value,u.format).toDate():u.defaultDate=new Date(Date.parse(u.field.value)),u.setDefaultDate=!0));var l=u.defaultDate;h(l)?u.setDefaultDate?o.setDate(l,!0):o.gotoDate(l):o.gotoDate(new Date),u.bound?(this.hide(),o.el.className+=" is-bound",i(u.trigger,"click",o._onInputClick),i(u.trigger,"focus",o._onInputFocus),i(u.trigger,"blur",o._onInputBlur)):this.show()};return A.prototype={config:function(e){this._o||(this._o=y({},w,!0));var t=y(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme=typeof t.theme=="string"&&t.theme?t.theme:null,t.bound=!!(t.bound!==undefined?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn=typeof t.disableDayFn=="function"?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;t.numberOfMonths=n>4?4:n,h(t.minDate)||(t.minDate=!1),h(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&(m(t.maxDate),t.maxYear=t.maxDate.getFullYear(),t.maxMonth=t.maxDate.getMonth());if(c(t.yearRange)){var r=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||r,t.yearRange[1]=parseInt(t.yearRange[1],10)||r}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||w.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(t){return h(this._d)?e?moment(this._d).format(t||this._o.format):this._d.toDateString():""},format:function(e){var t={"M+":this._d.getMonth()+1,"d+":this._d.getDate(),"h+":this._d.getHours()%12==0?12:this._d.getHours()%12,"H+":this._d.getHours(),"m+":this._d.getMinutes(),"s+":this._d.getSeconds(),"q+":Math.floor((this._d.getMonth()+3)/3),S:this._d.getMilliseconds()},n={0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this._d.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"/u661f/u671f":"/u5468":"")+n[this._d.getDay()+""]));for(var r in t)(new RegExp("("+r+")")).test(e)&&(e=e.replace(RegExp.$1,RegExp.$1.length==1?t[r]:("00"+t[r]).substr((""+t[r]).length)));return e},getMoment:function(){return e?moment(this._d):null},setMoment:function(t,n){e&&moment.isMoment(t)&&this.setDate(t.toDate(),n)},getDate:function(){return h(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",o(this._o.field,"change",{firedBy:this})),this.draw();typeof e=="string"&&(e=new Date(Date.parse(e)));if(!h(e))return;var n=this._o.minDate,r=this._o.maxDate;h(n)&&e<n?e=n:h(r)&&e>r&&(e=r),this._d=new Date(e.getTime()),m(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.format(this._o.format),o(this._o.field,"change",{firedBy:this})),!t&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())},gotoDate:function(e){var t=!0;if(!h(e))return;if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),t=i<n.getTime()||r.getTime()<i}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()},adjustCalendars:function(){this.calendars[0]=b(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=b({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){m(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()},setMaxDate:function(e){this._o.maxDate=e},draw:function(e){if(!this._v&&!e)return;var t=this._o,n=t.minYear,i=t.maxYear,s=t.minMonth,o=t.maxMonth,u="";this._y<=n&&(this._y=n,!isNaN(s)&&this._m<s&&(this._m=s)),this._y>=i&&(this._y=i,!isNaN(o)&&this._m>o&&(this._m=o));for(var a=0;a<t.numberOfMonths;a++)u+='<div class="pika-lendar">'+k(this,a,this.calendars[a].year,this.calendars[a].month,this.calendars[0].year)+this.render(this.calendars[a].year,this.calendars[a].month)+"</div>";this.el.innerHTML=u,t.bound&&t.field.type!=="hidden"&&r(function(){t.trigger.focus()},1);if(typeof this._o.onDraw=="function"){var f=this;r(function(){f._o.onDraw.call(f)},0)}},adjustPosition:function(){if(this._o.container)return;var e=this._o.trigger,t=e,r=this.el.offsetWidth,i=this.el.offsetHeight,s=window.innerWidth||n.documentElement.clientWidth,o=window.innerHeight||n.documentElement.clientHeight,u=window.pageYOffset||n.body.scrollTop||n.documentElement.scrollTop,a,f,l;if(typeof e.getBoundingClientRect=="function")l=e.getBoundingClientRect(),a=l.left+window.pageXOffset,f=l.bottom+window.pageYOffset;else{a=t.offsetLeft,f=t.offsetTop+t.offsetHeight;while(t=t.offsetParent)a+=t.offsetLeft,f+=t.offsetTop}if(this._o.reposition&&a+r>s||this._o.position.indexOf("right")>-1&&a-r+e.offsetWidth>0)a=a-r+e.offsetWidth;if(this._o.reposition&&f+i>o+u||this._o.position.indexOf("top")>-1&&f-i-e.offsetHeight>0)f=f-i-e.offsetHeight;this.el.style.cssText=["position: absolute","left: "+a+"px","top: "+f+"px"].join(";")},render:function(e,t){var n=this._o,r=new Date,i=v(e,t),s=(new Date(e,t,1)).getDay(),o=[],u=[];m(r),n.firstDay>0&&(s-=n.firstDay,s<0&&(s+=7));var a=i+s,f=a;while(f>7)f-=7;a+=7-f;for(var l=0,c=0;l<a;l++){var d=new Date(e,t,1+(l-s)),y=h(this._d)?g(d,this._d):!1,b=g(d,r),w=l<s||l>=i+s,E=n.minDate&&d<n.minDate||n.maxDate&&d>n.maxDate||n.disableWeekends&&p(d)||n.disableDayFn&&n.disableDayFn(d);u.push(S(1+(l-s),t,e,y,b,E,w)),++c===7&&(n.showWeekNumber&&u.unshift(x(l-s,t,e)),o.push(T(u,n.isRTL)),u=[],c=0)}return o.push('<tr><td style="text-align:center" colspan="7"> <a href="javascript:;" class="pk-clean">清空</a></td></tr>'),L(n,o)},isVisible:function(){return this._v},show:function(){this._v?this.hide():(l(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(i(n,"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){var e=this._v;e!==!1&&(this._o.bound&&s(n,"click",this._onClick),this.el.style.cssText="",f(this.el,"is-hidden"),this._v=!1,e!==undefined&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){this.hide(),s(this.el,"mousedown",this._onMouseDown,!0),s(this.el,"change",this._onChange),this._o.field&&(s(this._o.field,"change",this._onInputChange),this._o.bound&&(s(this._o.trigger,"click",this._onInputClick),s(this._o.trigger,"focus",this._onInputFocus),s(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},A}])}),define("services/tools",["serv-init","zepto"],function(e,t){"use strict";e.service("Tools",["$timeout",function(e){function t(){this.timer=null}return Array.prototype.in_array=function(e){for(var t=0;t<this.length;t++)if(this[t].contact_id==e.contact_id)return!0;return!1},t.prototype.isEmpty=function(e){return e==""},t.prototype.isMobile=function(e){return/^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(e)},t.prototype.isTelephone=function(e){return/^((0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/.test(e)},t.prototype.isTelephoneOrMobile=function(e){return/^((0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/.test(e)||/^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(e)},t.prototype.isEmail=function(e){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)},t.prototype.checkPhone=function(e){var t=/^0\d{2,3}-?\d{7,8}$/;return t.test(e)?!0:!1},t.prototype.checkStrong=function(e){function t(e){return e>=48&&e<=57?1:e>=65&&e<=90?2:e>=97&&e<=122?4:8}function n(e){var t=0;for(var n=0;n<4;n++)e&1&&t++,e>>>=1;return t}if(e.length<8)return 0;var r=0;for(var i=0;i<e.length;i++)r|=t(e.charCodeAt(i));return n(r)},t.prototype.isMobileOrEmail=function(e){return/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(e)||/^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(e)},t.prototype.isCombination=function(e){return/^(([a-z]+[0-9]+)|([0-9]+[a-z]+))[a-z0-9]*$/i.test(e)},t.prototype.isNumber=function(e){return/^[0-9]*$/.test(e)},t.prototype.isMoney=function(e){return/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/.test(e)},t.prototype.isStrip=function(e){return/['"#$%&;\^*]/.test(e)},t.prototype.isCnEn=function(e){return/^([\u4E00-\uFA29]*[a-z]*[A-Z]*)+$/.test(e)},t.prototype.isInteger=function(e){return/^[-+]?\d*$/.test(e)},t.prototype.isIdCard=function(e){var t={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};e=e.toUpperCase();if(!/(^\d{15}$)|(^\d{17}([0-9]|X)$)/.test(e))return!1;var n=e.substr(0,2);if(t[n]==undefined)return!1;var r=e.length,i;if(r==15){i=new RegExp(/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/);var s=e.match(i),o=new Date("19"+s[2]+"/"+s[3]+"/"+s[4]),u;u=o.getYear()==Number(s[2])&&o.getMonth()+1==Number(s[3])&&o.getDate()==Number(s[4]);if(!u)return!1;var a=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),f=new Array("1","0","X","9","8","7","6","5","4","3","2"),l=0,c;e=e.substr(0,6)+"19"+e.substr(6,e.length-6);for(c=0;c<17;c++)l+=e.substr(c,1)*a[c];return e+=f[l%11],!0}if(r==18){i=new RegExp(/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/);var s=e.match(i),o=new Date(s[2]+"/"+s[3]+"/"+s[4]),u;u=o.getFullYear()==Number(s[2])&&o.getMonth()+1==Number(s[3])&&o.getDate()==Number(s[4]);if(!u)return!1;var h,a=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),f=new Array("1","0","X","9","8","7","6","5","4","3","2"),l=0,c;for(c=0;c<17;c++)l+=e.substr(c,1)*a[c];return h=f[l%11],h!=e.substr(17,1)?!1:!0}},t.prototype.delayed=function(t){this.timer&&(e.cancel(this.timer),this.timer=null),this.timer=e(function(e){t.call(this,e)},2e3)},t.prototype.trim=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},t.prototype.getQuery=function(e){var t=location.search.match(new RegExp("[?&]"+e+"=([^&]*)(&?)","i"));return t?decodeURIComponent(t[1]):""},t.prototype.setCookie=function(e,t,n){var r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3),document.cookie=e+"="+escape(t)+";expires="+r.toUTCString()},t.prototype.getCookie=function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(t!=-1){t=t+e.length+1;var n=document.cookie.indexOf(";",t);return n==-1&&(n=document.cookie.length),unescape(document.cookie.substring(t,n))}}return""},t.prototype.checkTime=function(e,t){return e&&t?new Date(e.replace(/\-/g,"/"))>=new Date(t.replace(/\-/g,"/"))?!1:!0:!0},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},new t}])}),define("services/centerService",["serv-init"],function(e){e.service("CenterService",["BaseService","$rootScope","$state","Tools","$window","$timeout","$sce",function(e,t,n,r,i,s,o){"use strict";function c(e){this.toBeSignCount=0,this.waitingOthersSignCount=0,this.finishedCount=0,this.draftFileCount=0,this.status=u,this.orderType=f,this.specifyTimeType=l,this.list=[],this.pageConf=e,this.currentTab=1,this.pageSize=this.pageConf.pageSize||10,this.pageNo=1,this.params.keyword="",this.signNum=0,this.templateNum=0,this.foo=undefined,this.errorInfo={errorMsg:"",isShowErrorMsg:!1},this.confirm={showed:!1,buttons:[],context:""},this.params.pageSize=this.pageSize,this.params.currentPageNo=1,this.params.apiId="",this.thirdList=[],this.thirdDataSelected={platform:"法大大平台",apiId:"",hasAuth:1},this.countArr=[],this.activeParam={startTime:null,finisTime:null,remainTime:null,isSuccess:null},this.needBatchSign=0,this.isAll=!1,this.seledArr=[],this.errorArr=[],this.isBatch=!1,this.isBacthing=!1,this.isShow=!1,this.bacthedNum=0,this.signedNum=0,this.errorNum=0,this.noKeyNum=0,this.isFirst=!0,this.buttonName="继续尝试签署异常部分",this.palceholder="",this.showTiy=0,this.showHad=!0,this.pdfshow=!1,this.contractArgu={},this.sort=parseInt(t.$stateParams.sort),this.draftKeyword="",this.page=1,this.firstshow=!1}var u=[{key:"",value:"全部文件"},{key:0,value:"待我签",count:0},{key:1,value:"待他人签",count:0},{key:2,value:"已完成",count:0},{key:3,value:"已过期",count:0},{key:4,value:"已撤销",count:0},{key:5,value:"已拒签",count:0},{key:6,value:"草稿箱",count:0}],a=[{key:2,value:"已完成",count:0}],f=[{signtatus:0,name:"发起时间"},{signtatus:1,name:"签署时间"},{signtatus:2,name:"签完时间"}],l=[{timestatus:1,name:"一周内"},{timestatus:2,name:"一月内"},{timestatus:3,name:"半年内"}];return c.prototype=new e,c.prototype.showError=function(e){this.errorInfo={errorMsg:e,isShowErrorMsg:!0}},c.prototype._count=function(){var t=new e;t.url="user/countContract.action",t.callback=function(e){e.isSuccess&&(this.status[1].count=this.toBeSignCount=e.data.toBeSignCount,this.status[2].count=this.waitingOthersSignCount=e.data.waitingOthersSignCount,this.draftFileCount=e.data.draftFileCount,this.finishedCount=e.data.finishedCount,this.showTiy=e.data.totalCount)}.bind(this),t.commit()},c.prototype.select=function(e){this.params.keyword="",this.params.startTime="",this.params.endTime="",this.pageConf.currentPage=1,e&&e!="undefinded"?(this.thirdDataSelected=this.thirdList[e],this.thirdDataSelected.id=e,window.sessionStorage.setItem("thirdDataSelected",JSON.stringify(this.thirdDataSelected)),this.params.apiId=this.thirdDataSelected.apiId,this.thirdDataSelected.apiId!=""?(this.status=a,this.queryBy(2,0,this.thirdDataSelected.apiId)):(this.status=u,this.queryBy("",0,""))):(this.params.apiId="",this.status=u,this.queryBy("",0,""))},c.prototype.loadContractList=function(e){window.sessionStorage.getItem("_params")&&(this.params=JSON.parse(JSON.parse(window.sessionStorage.getItem("_params"))),this.isActive=this.params.specifyTimeType-1,e=this.params.status,this.params.pageSize<100?this.currIndex=0:this.currIndex=parseInt(this.params.pageSize/100),e===""?this.currentTab=0:this.currentTab=parseInt(e)+1),this.pageConf.currentPage=this.params.currentPageNo;var t=window.sessionStorage.getItem("thirdDataSelected");t&&t!="undefined"?(t.apiId!=""&&(this.currentTab=0,this.status=a),t=JSON.parse(t),this.thirdSelected=t.id,this.params.apiId=t.apiId,this._load(),window.sessionStorage.removeItem("thirdDataSelected"),window.sessionStorage.removeItem("_params")):(this._count(),this.params.apiId="",this.status=u,window.sessionStorage.getItem("_params")?(window.sessionStorage.removeItem("_params"),this._load()):this.sort||this.sort===0?this.queryBy(this.sort,this.sort+1,""):this.queryBy("","",""))},c.prototype.queryBy=function(e,t){this.params.status=e,this.params.orderType="",this.params.specifyTimeType=undefined,this.params.keyword="",this.currentTab=t,this.params.currentPageNo=1,this.params.startTime="",this.params.endTime="",this.params.specifyTimeType="",this.isActive=-1,this.pageConf.currentPage=1,this._load()},c.prototype.seachConcatby=function(){n.go("user.contractList",{})},c.prototype.toLoad=function(e,t){this.params.pageSize=this.pageSize=e,this.currIndex=t,this.params.currentPageNo=1,this.pageConf.currentPage=1,this._load()},c.prototype.signMore=function(){if(this.currentTab!=1)return this.showError("请在查询条件里筛选“待我签”才能批量签"),!1;if(this.seledArr.length==0)return this.showError("请选择要签署的合同"),!1;this.isBatch=!0},c.prototype.downLoadMore=function(){if(this.seledArr.length==0)return this.showError("请选择要下载的合同"),!1;var e=[],t=[],n=[];angular.forEach(this.seledArr,function(r,i,s){var o=r.split(",");e.push(o[0]),t.push(o[1]),n.push(o[2])}),this.showError("正在打包合同文件，打包完成后，自动进行文件下载，请耐心等待"),window.location.href="user/batchDownLoadContract.action?ids="+e.join(",")+"&contractTypes="+t.join(",")+"&empowerTypes="+n.join(",")},c.prototype.removeOpt=function(e,t){angular.forEach(e,function(e,n,r){e==t&&r.splice(n,1)}.bind(this))},c.prototype.selectAll=function(){this.isAll=!this.isAll,angular.forEach(this.list,function(e,t,n){if(this.isAll){this.list[t].isChecked=!0;var r=this.montage(this.list[t].id,this.list[t].contractType,this.list[t].empowerType,this.thirdDataSelected.apiId);$.inArray(this.list[t].id,this.seledArr)>-1&&this.removeOpt(this.seledArr,r),this.seledArr.push(r)}else this.isBatch=!1,this.list[t].isChecked=!1,this.seledArr=[]}.bind(this))},c.prototype.doChecked=function(e,t){this.list[t].isChecked=!this.list[t].isChecked;var n=this.montage(e.id,e.contractType,e.empowerType,this.thirdDataSelected.apiId);$.inArray(n,this.seledArr)>-1?this.removeOpt(this.seledArr,n):this.seledArr.push(n),this.seledArr.length==0&&(this.isBatch=!1),this.seledArr.length==this.list.length?this.isAll=!0:this.isAll=!1},c.prototype.montage=function(e,t,n,r){var i=e+","+t+","+n+","+r;return i},c.prototype.signing=function(t){var n=this;n.bacthedNum=0,n.signedNum=0,n.errorNum=0,n.noKeyNum=0,n.errorArr=[],n.isFirst=!0,n.isBacthing=!0,n.isBatch=!1,angular.forEach(t,function(t,r,i){var s=t.split(","),o=new e;o.loadingEable=!1,o.params.option=7,o.params.id=s[0],o.params.contractType=s[1],o.params.empowerType=s[2],o.url="user/saveOperateContract.action",o.callback=function(e){n.bacthedNum+=1,e.isSuccess?n.signedNum+=1:e.position=="notFoundSignKeyWord"?n.noKeyNum+=1:(n.errorArr.push(t),n.errorNum+=1),r==i.length-1&&(n.isFirst=!1,n.errorNum==0&&(n.buttonName="确定"))},o.commit()})},c.prototype.doBatchSign=function(){this.signing(this.seledArr)},c.prototype.againBatchSign=function(){this.seledArr=this.errorArr,this.errorNum==0?this.closeBox():this.signing(this.seledArr)},c.prototype.closeBox=function(){this.isBacthing=!1,this.isFirst=!0,this.seledArr=[],this.errorArr=[],this.bacthedNum=0,this.errorNum=0,this._load(),this._count()},c.prototype.reset=function(){this.pageConf.currentPage=1,this.params.specifyTimeType=""},c.prototype.queryByStime=function(e){if(this.params.startTime||this.params.startTime=="")this.params.startTime=null;if(this.params.endTime||this.params.endTime=="")this.params.endTime=null;this.params.currentPageNo=1,this.params.specifyTimeType=e.timestatus,this._load()},c.prototype._load=function(){if(!r.checkTime(this.params.startTime,this.params.endTime))return this.showError("开始时间不能大于结束时间！"),!1;var e=this;this.url="user/list.action",this.callback=function(t){t.isSuccess?(this.list=t.data.list,this.pageConf.total=t.data.total,this.pageConf.totalPageCount=t.data.totalPageCount,this.pageConf.currentPage=t.data.currentPageNo,this.isAll=!1,this.seledArr=[],this.errorArr=[],angular.forEach(this.list,function(e,t,n){n[t].isChecked=!1}),localStorage.getItem("tasteState")!=null&&(e.showHad=!1)):e.showError(t.message)},this.commit()},c.prototype.showConfirm=function(e,t,n,r){var i=this;this.confirm={showed:!0,buttons:[],context:e},t==1?this.confirm.buttons=[{name:"知情并继续签署",foucs:!0,fn:function(){angular.isFunction(r)&&r.call(this)}},{name:"取消签署",foucs:!1,fn:function(){i.confirm.showed=!1}}]:t==2?this.confirm.buttons=[{name:"确定",foucs:!0,fn:function(){angular.isFunction(r)&&r.call(this),i.confirm.showed=!1}},{name:"取消",foucs:!1,fn:function(){i.confirm.showed=!1}}]:t==5&&(this.confirm.buttons=[{name:"删除",foucs:!0,fn:function(){angular.isFunction(r)&&r.call(this),i.confirm.showed=!1}},{name:"取消",foucs:!1,fn:function(){i.confirm.showed=!1}}]),n&&(this.confirm.title=n)},c.prototype.query=function(){this.pageConf.currentPage=this.params.currentPageNo=1,this._load()},c.prototype.queryMore=function(e){this.pageConf.currentPage=this.params.currentPageNo=e,this._load()},c.prototype.view=function(e,t){window.sessionStorage.setItem("_params",JSON.stringify(JSON.stringify(this.params)));var r=this.thirdDataSelected.apiId;n.go("user.contractDetail",{id:e.id,type:e.contractType,eType:e.empowerType,apiid:r}),t.stopPropagation(),t.preventDefault()},c.prototype.download=function(e,t){t.stopPropagation(),t.preventDefault();var n=angular.isUndefined(this.params.apiId)?"":this.params.apiId;r.getCookie("contract_download")||(r.setCookie("contract_download",!0,7),this.showError("下载完成后，请使用Adobe reader打开。")),window.location.href="user/onlineOrDownLoadContract.action?id="+e.id+"&empowerType="+e.empowerType+"&contractType="+e.contractType+"&option=1&apiId="+n},c.prototype.loadPackageInfo=function(){var t=this,n=new e;n.url="user/countAccountProduct.action",n.callback=function(e){e.isSuccess?(t.signNum=e.data.signNum,t.templateNum=e.data.templateNum):t.showError("读取套餐信息失败，请刷新重试！")},n.commit()},c.prototype.notify=function(t,n){var r=this;if(t.isNotify==0)r.showError("已经提醒过对方尽快签署文件，请耐心等待！");else{var i=new e;i.url="user/saveOperateContract.action",i.params.option=6,i.params.id=t.id,i.params.contractType=t.contractType,i.params.empowerType=t.empowerType,i.callback=function(e){e.isSuccess&&(t.isNotify=0,t.pcOperate=0),r.showError(e.message)},i.commit()}n.stopPropagation(),n.preventDefault()},c.prototype.gotoSign=function(e,r){r.stopPropagation(),r.preventDefault(),window.sessionStorage.setItem("_params",JSON.stringify(JSON.stringify(this.params)));if(e.isVerify==1){if(t.userInfo.status!=2)return this.errorInfo={errorMsg:"Sorry！发起方要求实名认证用户才能签署，请先认证。",isShowErrorMsg:!0},!1;n.go("user.doSigning",{id:e.id,type:e.contractType,eType:e.empowerType})}else{var i="签署方中有未经法大大实名认证的用户，可能产生签约主体不明的风险，如需避免此风险，请各签署方进行实名认证。";this.showConfirm(i,1,"风险提示 ",function(){n.go("user.doSigning",{id:e.id,type:e.contractType,eType:e.empowerType})})}},c.prototype.getThirdData=function(){var t=this,n=new e;n.url="user/getAuthApiUserAccount.action",n.callback=function(e){e.isSuccess&&(angular.forEach(e.data.list,function(e,n,r){e.hasAuth==1&&t.thirdList.push(e)}),t.thirdList.length!=0&&t.thirdList.push({platform:"法大大平台",apiId:"",hasAuth:1}))},n.commit()},c.prototype.getFirstmsg=function(){var e=localStorage.getItem("firstMsg");e?this.firstshow=!1:this.firstshow=!0},c.prototype.getactivityMsg=function(){var t=new e;t.url="user/activity/exprienceFreeNewUserGift.action",t.callback=function(e){if(!e.isSuccess)return!1;var t=e.data,n=localStorage.getItem("newregist");n?this.isShow=!1:e.isSuccess==1&&t.remainDay>0?this.isShow=!0:this.isShow=!1,this.activeParam.isSuccess=e.isSuccess,this.activeParam.startTime=t.startDate.split("-"),this.activeParam.finisTime=t.finishDate.split("-"),this.activeParam.remainTime=t.remainDay,this.activeParam.startTimeY=this.activeParam.startTime[0]+"年",this.activeParam.startTimeM=this.activeParam.startTime[1]+"月",this.activeParam.startTimeD=this.activeParam.startTime[2]+"日",this.activeParam.finisTimeY=this.activeParam.finisTime[0]+"年",this.activeParam.finisTimeM=this.activeParam.finisTime[1]+"月",this.activeParam.finisTimeD=this.activeParam.finisTime[2]+"日"}.bind(this),t.commit()},c.prototype.doSignTest=function(){var e=localStorage.getItem("tasteState");n.go("user.doSigningtest")},c.prototype.loadContractDetail=function(n){var r=this,i=new e;i.url="user/viewContract.action",i.params.id=n.id,i.params.contractType=n.contractType,i.params.apiId=r.thirdDataSelected.apiId,i.params.empowerType=n.empowerType,i.callback=function(e){if(e.isSuccess){var i=0;localStorage.setItem("firstMsg",i),r.firstshow=!1,r.contractArgu=e.data.contract,r.contractImgs=e.data.imgs,r.contractArgu.id=n.id,r.contractArgu.apiId=r.thirdDataSelected.apiId,r.contractArgu.empowerType=n.empowerType,r.contractArgu.contractType=n.contractType,s(function(){t.$broadcast("rebuild-it")},3e3),r.pvw=!0}else r.showError(e.message)},i.commit()},c.prototype.scrollTop=function(e){e==0?this.page=1:(this.page=Math.ceil(e/707),t.$apply())},c.prototype.loadDrafts=function(t){var n=this;n.currentTab=7,n.pageConf.currentPage=t;var r=new e;r.url="user/list.action",r.params.type=15,r.params.currentPageNo=t,r.params.keyword=n.draftKeyword,r.params.pageSize=this.pageConf.pageSize,r.callback=function(e){e.isSuccess?(n.drafts=e.data.list,n.pageConf.total=e.data.total,n.pageConf.totalPageCount=e.data.totalPageCount):n.showError(e.message)},r.commit()},c.prototype.delDraft=function(t){var n=this;n.showConfirm("删除后无法恢复，确定吗？",5,"确定删除？",function(){var r=new e;r.url="user/deleteDraftContract.action",r.params.ids=t.id,r.callback=function(e){e.isSuccess?n.loadDrafts(1):n.showError(e.message)},r.commit()})},c.prototype.doOperate=function(t,n){var r=this,i="",u="";n==0?(i=o.trustAsHtml('<textarea placeholder="请填写拒签理由，字数不得超过50字" rows="3" content="80" maxlength="50" class="wid-100" id="rejectWords"></textarea>'),u="填写拒签理由"):(i="文件一旦撤销，剩余未签的签署方将无法签署该文件，是否确定撤销？",u="撤销该文件？"),r.showConfirm(i,2,u,function(){var i=new e;i.url="user/saveOperateContract.action",n==0?(i.params.message=$("#rejectWords").val(),i.params.option=5):i.params.option=4,i.params.id=t.id,i.params.contractType=t.contractType,i.params.empowerType=t.empowerType,i.callback=function(e){r.showError(e.message),e.isSuccess&&s(function(){r.pvw=!1,r._load()},2e3)},i.commit()})},c.prototype.doClose=function(){this.repealBox=!1,this.rejectBox=!1,this.rejectWords=""},c}])}),define("services/smsCodeService",["serv-init"],function(e){"use strict";e.factory("SmsCodeService",["BaseService",function(e){function t(){this.url="",this.callback=function(e){console.log("doing",e)},this.params.xxx="000"}return t.prototype=new e,t.prototype.say=function(){console.log("who said that")},t}])}),function(e){e.fn.scriptcam=function(t){var n=e.extend({},e.fn.scriptcam.defaults,t);return this.each(function(){n.id=this.id,data=n,data.path=decodeURIComponent(data.path),e("#"+n.id).html(n.noFlashFound),e.scriptcam.SC_promptWillShow=data.promptWillShow,e.scriptcam.SC_fileReady=data.fileReady,e.scriptcam.SC_fileConversionStarted=data.fileConversionStarted,e.scriptcam.SC_onMotion=data.onMotion,e.scriptcam.SC_onError=data.onError,e.scriptcam.SC_onHandLeft=data.onHandLeft,e.scriptcam.SC_onHandRight=data.onHandRight,e.scriptcam.SC_onWebcamReady=data.onWebcamReady,e.scriptcam.SC_connected=data.connected,e.scriptcam.SC_onPictureAsBase64=data.onPictureAsBase64,e.scriptcam.SC_disconnected=data.disconnected,e.scriptcam.SC_setVolume=data.setVolume,e.scriptcam.SC_timeLeft=data.timeLeft,e.scriptcam.SC_userLeft=data.userLeft,e.scriptcam.SC_userJoined=data.userJoined,e.scriptcam.SC_addChatText=function(t){t=t.replace(":{",'<img src="'+data.path+'angry.gif" width="16" height="16" class="smiley"/>'),t=t.replace(":-{",'<img src="'+data.path+'angry.gif" width="16" height="16" class="smiley"/>'),t=t.replace(":)",'<img src="'+data.path+'smile.gif" width="16" height="16" class="smiley"/>'),t=t.replace(":-)",'<img src="'+data.path+'smile.gif" width="16" height="16" class="smiley"/>'),t=t.replace(":D",'<img src="'+data.path+'biggrin.gif" width="16" height="16" class="smiley"/>'),t=t.replace(":-D",'<img src="'+data.path+'biggrin.gif" width="16" height="16" class="smiley"/>'),t=t.replace(":O",'<img src="'+data.path+'ohmy.gif" width="16" height="16" class="smiley"/>'),t=t.replace(":-O",'<img src="'+data.path+'ohmy.gif" width="16" height="16" class="smiley"/>'),t=t.replace(":(",'<img src="'+data.path+'sad.gif" width="16" height="16" class="smiley"/>'),t=t.replace(":-(",'<img src="'+data.path+'sad.gif" width="16" height="16" class="smiley"/>'),t=t.replace(":p",'<img src="'+data.path+'tongue.gif" width="16" height="16" class="smiley"/>'),t=t.replace(":-p",'<img src="'+data.path+'tongue.gif" width="16" height="16" class="smiley"/>'),t=t.replace(";)",'<img src="'+data.path+'wink.gif" width="16" height="16" class="smiley"/>'),t=t.replace(";-)",'<img src="'+data.path+'wink.gif" width="16" height="16" class="smiley"/>'),e("#"+data.chatWindow).append(t+"<br/>"),e("#"+data.chatWindow).animate({scrollTop:e("#"+data.chatWindow).prop("scrollHeight")-e("#"+data.chatWindow).height()},100)};if(n.canvasHeight&&n.canvasHeight)var t=n.canvasWidth,r=n.canvasHeight;else{var t=n.width*n.zoom,r=n.height*n.zoom;n.chatRoom&&(t=n.width*n.zoom+n.width*n.zoomChat+5,n.posX=n.width*n.zoom+5,r=n.height*Math.max(n.zoom,n.zoomChat))}t<215&&(t=215),r<138&&(r=138);if(n.rotate!=0||n.skewX!=0||n.skewY!=0||n.flip!=0||n.zoom!=1||n.zoomChat!=1)var i={menu:"false",wmode:"window",allowScriptAccess:"always",allowFullScreen:"true"};else var i={menu:"false",wmode:"direct",allowScriptAccess:"always",allowFullScreen:"true"};for(var s in n)n[s]=encodeURIComponent(n[s]);swfobject.embedSWF(decodeURIComponent(data.path)+"scriptcam.swf",n.id,t,r,"11.6",!1,n,i)})},e.scriptcam={},e.scriptcam.getFrameAsBase64=function(){return e("#"+data.id).get(0).SC_getFrameAsBase64()},e.scriptcam.version=function(){return e("#"+data.id).get(0).SC_version()},e.scriptcam.hardwareacceleration=function(){return e("#"+data.id).get(0).SC_hardwareacceleration()},e.scriptcam.getMotionParameters=function(){e("#"+data.id).get(0).SC_getMotionParameters()},e.scriptcam.getBarCode=function(){return e("#"+data.id).get(0).SC_getBarCode()},e.scriptcam.startRecording=function(){e("#"+data.id).get(0).SC_startRecording()},e.scriptcam.pauseRecording=function(){e("#"+data.id).get(0).SC_pauseRecording()},e.scriptcam.resumeRecording=function(){e("#"+data.id).get(0).SC_resumeRecording()},e.scriptcam.closeCamera=function(){e("#"+data.id).get(0).SC_closeCamera()},e.scriptcam.changeVolume=function(t){e("#"+data.id).get(0).SC_changeVolume(t)},e.scriptcam.sendMessage=function(t){e("#"+data.id).get(0).SC_sendMessage(t)},e.scriptcam.playMP3=function(t){e("#"+data.id).get(0).SC_playMP3(t)},e.scriptcam.changeCamera=function(t){e("#"+data.id).get(0).SC_changeCamera(t)},e.scriptcam.changeMicrophone=function(t){e("#"+data.id).get(0).SC_changeMicrophone(t)},e.fn.scriptcam.defaults={width:320,height:240,chatWindow:"chatWindow",path:"",zoom:1,zoomChat:1,rotate:0,skewX:0,skewY:0,flip:0,noFlashFound:'<p>You need <a href="http://www.adobe.com/go/getflashplayer">Adobe Flash Player 11.7</a> to use this software.<br/>Please click on the link to download the installer.</p>'}}($),define("scriptcam",["zepto"],function(){});var swfobject=function(){function C(){if(b)return;try{var e=a.getElementsByTagName("body")[0].appendChild(U("span"));e.parentNode.removeChild(e)}catch(t){return}b=!0;var n=c.length;for(var r=0;r<n;r++)c[r]()}function k(e){b?e():c[c.length]=e}function L(t){if(typeof u.addEventListener!=e)u.addEventListener("load",t,!1);else if(typeof a.addEventListener!=e)a.addEventListener("load",t,!1);else if(typeof u.attachEvent!=e)z(u,"onload",t);else if(typeof u.onload=="function"){var n=u.onload;u.onload=function(){n(),t()}}else u.onload=t}function A(){l?O():M()}function O(){var n=a.getElementsByTagName("body")[0],r=U(t);r.setAttribute("type",i);var s=n.appendChild(r);if(s){var o=0;(function(){if(typeof s.GetVariable!=e){var t=s.GetVariable("$version");t&&(t=t.split(" ")[1].split(","),T.pv=[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)])}else if(o<10){o++,setTimeout(arguments.callee,10);return}n.removeChild(r),s=null,M()})()}else M()}function M(){var t=h.length;if(t>0)for(var n=0;n<t;n++){var r=h[n].id,i=h[n].callbackFn,s={success:!1,id:r};if(T.pv[0]>0){var o=R(r);if(o)if(W(h[n].swfVersion)&&!(T.wk&&T.wk<312))V(r,!0),i&&(s.success=!0,s.ref=_(r),i(s));else if(h[n].expressInstall&&D()){var u={};u.data=h[n].expressInstall,u.width=o.getAttribute("width")||"0",u.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(u.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(u.align=o.getAttribute("align"));var a={},f=o.getElementsByTagName("param"),l=f.length;for(var c=0;c<l;c++)f[c].getAttribute("name").toLowerCase()!="movie"&&(a[f[c].getAttribute("name")]=f[c].getAttribute("value"));P(u,a,r,i)}else H(o),i&&i(s)}else{V(r,!0);if(i){var p=_(r);p&&typeof p.SetVariable!=e&&(s.success=!0,s.ref=p),i(s)}}}}function _(n){var r=null,i=R(n);if(i&&i.nodeName=="OBJECT")if(typeof i.SetVariable!=e)r=i;else{var s=i.getElementsByTagName(t)[0];s&&(r=s)}return r}function D(){return!w&&W("6.0.65")&&(T.win||T.mac)&&!(T.wk&&T.wk<312)}function P(t,n,r,i){w=!0,g=i||null,y={success:!1,id:r};var o=R(r);if(o){o.nodeName=="OBJECT"?(v=B(o),m=null):(v=o,m=r),t.id=s;if(typeof t.width==e||!/%$/.test(t.width)&&parseInt(t.width,10)<310)t.width="310";if(typeof t.height==e||!/%$/.test(t.height)&&parseInt(t.height,10)<137)t.height="137";a.title=a.title.slice(0,47)+" - Flash Player Installation";var f=T.ie&&T.win?"ActiveX":"PlugIn",l="MMredirectURL="+u.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+a.title;typeof n.flashvars!=e?n.flashvars+="&"+l:n.flashvars=l;if(T.ie&&T.win&&o.readyState!=4){var c=U("div");r+="SWFObjectNew",c.setAttribute("id",r),o.parentNode.insertBefore(c,o),o.style.display="none",function(){o.readyState==4?o.parentNode.removeChild(o):setTimeout(arguments.callee,10)}()}j(t,n,r)}}function H(e){if(T.ie&&T.win&&e.readyState!=4){var t=U("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(B(e),t),e.style.display="none",function(){e.readyState==4?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(B(e),e)}function B(e){var n=U("div");if(T.win&&T.ie)n.innerHTML=e.innerHTML;else{var r=e.getElementsByTagName(t)[0];if(r){var i=r.childNodes;if(i){var s=i.length;for(var o=0;o<s;o++)(i[o].nodeType!=1||i[o].nodeName!="PARAM")&&i[o].nodeType!=8&&n.appendChild(i[o].cloneNode(!0))}}}return n}function j(n,r,s){var o,u=R(s);if(T.wk&&T.wk<312)return o;if(u){typeof n.id==e&&(n.id=s);if(T.ie&&T.win){var a="";for(var f in n)n[f]!=Object.prototype[f]&&(f.toLowerCase()=="data"?r.movie=n[f]:f.toLowerCase()=="styleclass"?a+=' class="'+n[f]+'"':f.toLowerCase()!="classid"&&(a+=" "+f+'="'+n[f]+'"'));var l="";for(var c in r)r[c]!=Object.prototype[c]&&(l+='<param name="'+c+'" value="'+r[c]+'" />');u.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+a+">"+l+"</object>",p[p.length]=n.id,o=R(n.id)}else{var h=U(t);h.setAttribute("type",i);for(var d in n)n[d]!=Object.prototype[d]&&(d.toLowerCase()=="styleclass"?h.setAttribute("class",n[d]):d.toLowerCase()!="classid"&&h.setAttribute(d,n[d]));for(var v in r)r[v]!=Object.prototype[v]&&v.toLowerCase()!="movie"&&F(h,v,r[v]);u.parentNode.replaceChild(h,u),o=h}}return o}function F(e,t,n){var r=U("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function I(e){var t=R(e);t&&t.nodeName=="OBJECT"&&(T.ie&&T.win?(t.style.display="none",function(){t.readyState==4?q(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function q(e){var t=R(e);if(t){for(var n in t)typeof t[n]=="function"&&(t[n]=null);t.parentNode.removeChild(t)}}function R(e){var t=null;try{t=a.getElementById(e)}catch(n){}return t}function U(e){return a.createElement(e)}function z(e,t,n){e.attachEvent(t,n),d[d.length]=[e,t,n]}function W(e){var t=T.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function X(n,r,i,s){if(T.ie&&T.mac)return;var o=a.getElementsByTagName("head")[0];if(!o)return;var u=i&&typeof i=="string"?i:"screen";s&&(E=null,S=null);if(!E||S!=u){var f=U("style");f.setAttribute("type","text/css"),f.setAttribute("media",u),E=o.appendChild(f),T.ie&&T.win&&typeof a.styleSheets!=e&&a.styleSheets.length>0&&(E=a.styleSheets[a.styleSheets.length-1]),S=u}T.ie&&T.win?E&&typeof E.addRule==t&&E.addRule(n,r):E&&typeof a.createTextNode!=e&&E.appendChild(a.createTextNode(n+" {"+r+"}"))}function V(e,t){if(!x)return;var n=t?"visible":"hidden";b&&R(e)?R(e).style.visibility=n:X("#"+e,"visibility:"+n)}function $(t){var n=/[\\\"<>\.;]/,r=n.exec(t)!=null;return r&&typeof encodeURIComponent!=e?encodeURIComponent(t):t}var e="undefined",t="object",n="Shockwave Flash",r="ShockwaveFlash.ShockwaveFlash",i="application/x-shockwave-flash",s="SWFObjectExprInst",o="onreadystatechange",u=window,a=document,f=navigator,l=!1,c=[A],h=[],p=[],d=[],v,m,g,y,b=!1,w=!1,E,S,x=!0,T=function(){var s=typeof a.getElementById!=e&&typeof a.getElementsByTagName!=e&&typeof a.createElement!=e,o=f.userAgent.toLowerCase(),c=f.platform.toLowerCase(),h=c?/win/.test(c):/win/.test(o),p=c?/mac/.test(c):/mac/.test(o),d=/webkit/.test(o)?parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,v=!1,m=[0,0,0],g=null;if(typeof f.plugins!=e&&typeof f.plugins[n]==t)g=f.plugins[n].description,g&&(typeof f.mimeTypes==e||!f.mimeTypes[i]||!!f.mimeTypes[i].enabledPlugin)&&(l=!0,v=!1,g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),m[0]=parseInt(g.replace(/^(.*)\..*$/,"$1"),10),m[1]=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10),m[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof u.ActiveXObject!=e)try{var y=new ActiveXObject(r);y&&(g=y.GetVariable("$version"),g&&(v=!0,g=g.split(" ")[1].split(","),m=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)]))}catch(b){}return{w3:s,pv:m,wk:d,ie:v,win:h,mac:p}}(),N=function(){if(!T.w3)return;(typeof a.readyState!=e&&a.readyState=="complete"||typeof a.readyState==e&&(a.getElementsByTagName("body")[0]||a.body))&&C(),b||(typeof a.addEventListener!=e&&a.addEventListener("DOMContentLoaded",C,!1),T.ie&&T.win&&(a.attachEvent(o,function(){a.readyState=="complete"&&(a.detachEvent(o,arguments.callee),C())}),u==top&&function(){if(b)return;try{a.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,0);return}C()}()),T.wk&&function(){if(b)return;if(!/loaded|complete/.test(a.readyState)){setTimeout(arguments.callee,0);return}C()}(),L(C))}(),J=function(){T.ie&&T.win&&window.attachEvent("onunload",function(){var e=d.length;for(var t=0;t<e;t++)d[t][0].detachEvent(d[t][1],d[t][2]);var n=p.length;for(var r=0;r<n;r++)I(p[r]);for(var i in T)T[i]=null;T=null;for(var s in swfobject)swfobject[s]=null;swfobject=null})}();return{registerObject:function(e,t,n,r){if(T.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=r,h[h.length]=i,V(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){if(T.w3)return _(e)},embedSWF:function(n,r,i,s,o,u,a,f,l,c){var h={success:!1,id:r};T.w3&&!(T.wk&&T.wk<312)&&n&&r&&i&&s&&o?(V(r,!1),k(function(){i+="",s+="";var p={};if(l&&typeof l===t)for(var d in l)p[d]=l[d];p.data=n,p.width=i,p.height=s;var v={};if(f&&typeof f===t)for(var m in f)v[m]=f[m];if(a&&typeof a===t)for(var g in a)typeof v.flashvars!=e?v.flashvars+="&"+g+"="+a[g]:v.flashvars=g+"="+a[g];if(W(o)){var y=j(p,v,r);p.id==r&&V(r,!0),h.success=!0,h.ref=y}else{if(u&&D()){p.data=u,P(p,v,r,c);return}V(r,!0)}c&&c(h)})):c&&c(h)},switchOffAutoHideShow:function(){x=!1},ua:T,getFlashPlayerVersion:function(){return{major:T.pv[0],minor:T.pv[1],release:T.pv[2]}},hasFlashPlayerVersion:W,createSWF:function(e,t,n){return T.w3?j(e,t,n):undefined},showExpressInstall:function(e,t,n,r){T.w3&&D()&&P(e,t,n,r)},removeSWF:function(e){T.w3&&I(e)},createCSS:function(e,t,n,r){T.w3&&X(e,t,n,r)},addDomLoadEvent:k,addLoadEvent:L,getQueryParamValue:function(e){var t=a.location.search||a.location.hash;if(t){/\?/.test(t)&&(t=t.split("?")[1]);if(e==null)return $(t);var n=t.split("&");for(var r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return $(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(w){var e=R(s);e&&v&&(e.parentNode.replaceChild(v,e),m&&(V(m,!0),T.ie&&T.win&&(v.style.display="block")),g&&g(y)),w=!1}}}}();define("swfobject",function(){}),define("services/identifyService",["serv-init","zepto","scriptcam","swfobject"],function(e,t,n,r){e.factory("IdentifyService",["BaseService","Tools","$rootScope","$location",function(e,t,n,r){"use strict";function i(){this.role=n.$stateParams.type,this.checkedMap=[{isChecked:!1},{isChecked:!1},{isChecked:!1},{isChecked:!1}],this.currType=0,this.selectedMap=[{isChecked:!1},{isChecked:!0},{isChecked:!1}],this.currSelected=1,this.errorInfo={isShowErrorMsg:!1,errorMsg:""},this.expImgs={licenseImg:"webs/images/shili-01.jpg",organizationImg:"webs/images/shili-02.jpg",creditImg:"webs/images/shili-03.jpg",authorizationImg:"webs/images/fdd_auth.png",holdPhoneImg:"webs/images/pic1.png",idCardImg:"webs/images/pic2.png"},this.seledOpt={showName:"",isAgent:!1,nameField:"",nameField_p:"",isThree:!1,agentReminder:""},this.sh={isCredit:!1,isCreditPhoto:!1,isLicense:!1,isLicensePhoto:!1,isOrganization:!1,isOrganizationPhoto:!1,isCompanyName:!1,isLegalName:!1,isAgentName:!1,isIdCard:!1,isCode:!1,isPass:!1,isCard:!1,isFaceDiscern:!0,isShowBigImg:!1,selectedImg:null,isShowHeadImg:!1,isShowCardImg:!1,isHoldPhone:!1,isShowBox:!1,isTakePic:!1},this.thirdFile={cardFile:null,holdPhoneFile:null,headImg:null,cardImg:null},this.opts={type:1,kind:0,mobile:null,option:5,auto:null},this.submitted=!1,this.timer=null,this.isRead=!1,this.userFiles={operation:1,upType:0,headFile:null,idCardFile:null},this.errorMess=["请上传正确格式及大小的营业执照副本图片","请上传正确格式及大小的组织机构代码证图片","请上传正确格式及大小的申请表图片","请上传正确格式及大小的证件执照副本图片","请上传正确格式及大小的身份证图片","请上传正确格式及大小的手持证件照"],this.isReadonly=!1,this.def_organization="",this.def_isThreeCert=0,r.url().indexOf("checkIdentify")>-1&&this.loadReason(),r.url().indexOf("companyIdentify_3")>-1&&(this.randomNum=n.$stateParams.randomNum,n.$stateParams.type==0||n.$stateParams.type==2?this.seledOpt.agentReminder="请确保是代理人本人信息":this.seledOpt.agentReminder="请确保是法人代表 / 负责人本人信息"),r.url().indexOf("companyIdentify_2")>-1&&this.getInfoCompany()}return i.prototype=new e,i.prototype.getInfoCompany=function(){this.url="user/getInfoCompany.action",this.callback=function(e){e.isSuccess&&(e.data.company.organizationFile!=""?this.expImgs.organizationImg=this.expImgs.creditImg="user/picCompany/"+e.data.company.organizationFile:e.data.company.organizationFile=null,e.data.company.licenseFile!=""?this.expImgs.licenseImg="user/picCompany/"+e.data.company.licenseFile:e.data.company.licenseFile=null,e.data.company.authorizationFile!=""?this.expImgs.authorizationImg="user/picCompany/"+e.data.company.authorizationFile:e.data.company.authorizationFile=null,this.def_organization=e.data.company.organization,this.def_isThreeCert=e.data.company.isThreeCert,this.user=e.data.company,this.user.isThreeCert==1?this.seledOpt.isThree=!0:this.seledOpt.isThree=!1,n.$stateParams.type==1||n.$stateParams.type==3?this.user.hasAgent==1&&(this.user.legalName="",this.user.idCard="",this.user.mobile=""):this.user.hasAgent==0&&(this.user.legalName="",this.user.agentName="",this.user.idCard="",this.user.mobile=""),n.$watch("userInfo.status",function(e,t){e==2&&(this.isReadonly=!0)}.bind(this)),this.fieldShow())}.bind(this),this.commit()},i.prototype.hasTimer=function(){this.timer&&($timeout.cancel(this.timer),timer=null)},i.prototype.TabChang=function(e,t){function n(){angular.forEach(e,function(e,n,r){t==n?r[n].isChecked=!0:r[n].isChecked=!1}.bind(this))}$("#menu").find("a.hover").index()==0&&t!=0?(this.sh.isShowBox=!0,this.boxAttr={message:'<p style="text-align: center;">您正在使用人脸识别的方式，确定要切换到其他方式吗？</p>',width:520,height:150,isClose:!1,buttons:[{caption:"确定",colorClass:"link-orange",callback:function(){this.sh.isShowBox=!1,n()}.bind(this)},{caption:"取消",colorClass:"link-gray",callback:function(){this.sh.isShowBox=!1}.bind(this)}]}):n()},i.prototype.showImg=function(e){this.sh.isShowBigImg=!0,this.sh.selectedImg="background-image:url("+e+");"},i.prototype.hideBox=function(e){this.errorInfo={isShowErrorMsg:!0,errorMsg:e}},i.prototype.doSelected=function(e){this.currType=e,this.TabChang(this.checkedMap,e)},i.prototype.goNext=function(){if(this.checkedMap[0].isChecked==0&&this.checkedMap[1].isChecked==0&&this.checkedMap[2].isChecked==0&&this.checkedMap[3].isChecked==0)return this.hideBox("请选择角色"),!1;n.$state.go("user.companyIdentify_2",{type:this.currType})},i.prototype.fieldShow=function(){n.$stateParams.type==0||n.$stateParams.type==2?(this.seledOpt.showName="代理人",this.seledOpt.isAgent=!0,this.user.hasAgent=1):(this.seledOpt.showName="法人代表/负责人",this.seledOpt.isAgent=!1,this.user.hasAgent=0),n.$stateParams.type==0||n.$stateParams.type==1?(this.seledOpt.nameField="企业",this.seledOpt.nameField_p="营业"):(this.seledOpt.nameField="组织",this.seledOpt.nameField_p=""),this.opts.mobile=this.user.mobile;if(r.url().indexOf("companyIdentify_2")>-1)if(n.$stateParams.type==0||n.$stateParams.type==2){this.sh.isShowBox=!0;var e='<p class="span1">▪新版营业执照副本彩色复印件（加盖企业公章）</p><p class="span1">【非三证合一的企业，需要提供营业执照副本彩色复印件和组织机构代码证副本彩色复印件（皆须加盖企业公章）】</p><p class="span1">▪代理人的身份证正反面复印件（加盖企业公章）</p>';this.boxAttr={title:"请先准备好以下纸质材料",message:e,width:520,height:280,buttons:[{caption:"知道了",colorClass:"link-orange",callback:function(){this.sh.isShowBox=!1}.bind(this)}]}}},i.prototype.getCode=function(e){this.url="user/saveGenSms.action",this.params.kind=e.kind,this.params.mobile=e.mobile,this.params.option=e.option,this.callback=function(e){if(!e.isSuccess)return this.hideBox(e.message),n.$apply(),!1;this.hideBox(e.message),this.timing()}.bind(this),this.commit()},i.prototype.changeTab=function(){this.seledOpt.isThree=!this.seledOpt.isThree,this.def_isThreeCert==1&&(this.user.organization=this.def_organization),n.userInfo.status==2&&(this.seledOpt.isThree?this.isReadonly=!0:this.isReadonly=!1)},i.prototype.submitForm=function(){try{if(this.user.companyName==undefined||this.user.companyName==""||this.user.companyName.length<2||this.user.companyName.length>50)throw"请填写正确的企业名称";if(this.seledOpt.isThree){this.user.isThreeCert=1;if(this.expImgs.creditImg.indexOf("blob:")<=-1&&this.expImgs.creditImg.indexOf("user/picCompany")<=-1)throw"请上传正确格式及大小的证件执照副本图片"}else{this.user.isThreeCert=0;if(this.user.license==undefined||this.user.license==""||this.user.license.length<5||this.user.license.length>30)throw"请填写正确的营业执照注册号";if(this.expImgs.licenseImg.indexOf("blob:")<=-1&&this.expImgs.licenseImg.indexOf("user/picCompany")<=-1)throw"请上传正确格式及大小的营业执照副本图片";if(this.user.organization==undefined||this.user.organization==""||this.user.organization.length!=9)throw"请填写正确的组织机构代码";if(this.expImgs.organizationImg.indexOf("blob:")<=-1&&this.expImgs.organizationImg.indexOf("user/picCompany")<=-1)throw"请上传正确格式及大小的组织机构代码证图片"}if(this.seledOpt.isAgent){if(this.expImgs.authorizationImg.indexOf("blob:")<=-1&&this.expImgs.authorizationImg.indexOf("user/picCompany")<=-1)throw"请上传正确格式及大小的申请表图片";if(this.user.agentName==undefined||this.user.agentName==""||this.user.agentName.length<2||this.user.agentName.length>50)throw"请填写正确的代理人姓名"}if(this.user.legalName==undefined||this.user.legalName==""||this.user.legalName.length<2||this.user.legalName.length>50)throw"请填写正确的法人代表/负责人姓名";if(this.user.idCard==undefined||this.user.idCard==""||!t.isIdCard(this.user.idCard))throw"请填写正确的身份证号";if(this.user.mobile==undefined||this.user.mobile==""||!t.isMobile(this.user.mobile))throw"请填写正确的手机号";if(this.user.code==undefined||this.user.code==""||!t.isNumber(this.user.code)||this.user.code.length!=6)throw"请填写正确的短信验证码"}catch(e){return this.hideBox(e),!1}this.seledOpt.isThree?this.expImgs.creditImg&&this.expImgs.creditImg.indexOf("blob:")<=-1&&(this.user.organizationFile=null):this.expImgs.organizationImg&&this.expImgs.organizationImg.indexOf("blob:")<=-1&&(this.user.organizationFile=null),this.expImgs.licenseImg&&this.expImgs.licenseImg.indexOf("blob:")<=-1&&(this.user.licenseFile=null),this.expImgs.authorizationImg&&this.expImgs.authorizationImg.indexOf("blob:")<=-1&&(this.user.authorizationFile=null),this.url="user/identifyInfoCompany.action",this.user.operation=0,this.params=this.user,this.loadingEable=!0,this.callback=function(e){if(!e.isSuccess)return this.hideBox(e.message),n.$apply(),!1;n.userInfo.status=0,n.$state.go("user.companyIdentify_3",{type:n.$stateParams.type,randomNum:e.data.gestureNo})}.bind(this),this.submit()},i.prototype.doHover=function(e){this.currSelected=e,this.TabChang(this.selectedMap,e),this.userFiles.upType=e},i.prototype.doFaceDiscern=function(){this.url=this.url="user/identifyInfoCompany.action",this.params={},this.params.operation=1,this.callback=function(e){this.sh.isFaceDiscern=!1,e.isSuccess?this.sh.isPass=!0:this.sh.isPass=!1}.bind(this),this.commit()},i.prototype.takeHead=function(){this.userFiles.headFile=this.thirdFile.headImg="data:image/png;base64,"+$.scriptcam.getFrameAsBase64(),this.sh.isShowHeadImg=!0,$("#headBtn").html("重新拍摄个人头像")},i.prototype.takeIDCard=function(){this.userFiles.idCardFile=this.thirdFile.cardImg="data:image/png;base64,"+$.scriptcam.getFrameAsBase64(),this.sh.isShowCardImg=!0,$("#idCardBtn").html("重新拍摄个人头像")},i.prototype.submitImg=function(){if(this.currSelected==0){if(!this.sh.isPass)return this.hideBox("请先进行人脸识别"),!1;if(!(this.expImgs.idCardImg.indexOf("blob:")>-1))return this.hideBox("请上传正确格式及大小的身份证图片"),!1;this.userFiles.headFile=this.userFiles.idCardFile}else if(this.currSelected==1){if(this.thirdFile.headImg==null)return this.hideBox("请拍摄个人头像"),!1;if(this.thirdFile.cardImg==null)return this.hideBox("请拍摄身份证明"),!1}else if(this.currSelected==2){if(!(this.expImgs.holdPhoneImg.indexOf("blob:")>-1))return this.hideBox("请上传正确格式及大小的手持证件照"),!1;this.userFiles.headFile=this.userFiles.idCardFile}if(this.isRead)return this.hideBox("为了确保认证信息的真实性，请仔细阅读认证协议"),!1;this.url="user/identifyInfoCompany.action",this.loadingEable=!0,this.params.upType=this.currSelected,this.currSelected==1?(this.params.headFileStr=this.userFiles.headFile,this.params.idCardFileStr=this.userFiles.idCardFile):(this.params.headFile=this.userFiles.headFile,this.params.idCardFile=this.userFiles.idCardFile),this.params.operation=2,this.callback=function(e){if(!e.isSuccess)return this.hideBox(e.message),n.$apply(),!1;n.userInfo.status=1,n.$state.go("user.checkIdentify",{type:n.$stateParams.type})}.bind(this),this.submit()},i.prototype.loadReason=function(){this.url="user/infoAccount.action",this.callback=function(e){this.status=e.data.status,e.data.status==3&&e.data.auditFailReason&&(this.reasonArr=e.data.auditFailReason.split(";"))},this.commit()},i}])});var PDFObject=function(e){if(!e||!e.url)return!1;var t="1.2",n=e.id||!1,r=e.width||"100%",i=e.height||"100%",s=e.pdfOpenParams,o,u,a=function(){var e=null;if(window.ActiveXObject){e=new ActiveXObject("AcroPDF.PDF"),e||(e=new ActiveXObject("PDF.PdfCtrl"));if(e!==null)return!0}return!1},f=function(){var e,t=navigator.plugins,n=t.length,r=/Adobe Reader|Adobe PDF|Acrobat/gi;for(e=0;e<n;e++)if(r.test(t[e].name))return!0;return!1},l=function(){var e=navigator.mimeTypes["application/pdf"];return e&&e.enabledPlugin},c=function(){var e=null;return f()||a()?e="Adobe":l()&&(e="generic"),e},h=function(){var e=document.getElementsByTagName("html");if(!e)return!1;var t=e[0].style,n=document.body.style;t.height="100%",t.overflow="hidden",n.margin="0",n.padding="0",n.height="100%",n.overflow="hidden"},p=function(e){var t="",n;if(!e)return t;for(n in e)e.hasOwnProperty(n)&&(t+=n+"=",n==="search"?t+=encodeURI(e[n]):t+=e[n],t+="&");return t.slice(0,t.length-1)},d=function(e){var a=null;switch(e){case"url":a=o;break;case"id":a=n;break;case"width":a=r;break;case"height":a=i;break;case"pdfOpenParams":a=s;break;case"pluginTypeFound":a=u;break;case"pdfobjectversion":a=t}return a},v=function(e){if(!u)return!1;var t=null;if(e){t=e.nodeType&&e.nodeType===1?e:document.getElementById(e);if(!t)return!1}else t=document.body,h(),r="100%",i="100%";return t.innerHTML='<object	data="'+o+'" type="application/pdf" width="'+r+'" height="'+i+'"></object>',t.getElementsByTagName("object")[0]};return o=encodeURI(e.url)+"#"+p(s),u=c(),this.get=function(e){return d(e)},this.embed=function(e){return v(e)},this};define("pdfobject",function(){}),define("services/contractDetailService",["serv-init","zepto","pdfobject"],function(e,t,n){"use strict";e.factory("ContractDetailService",["BaseService","$rootScope","Tools","$sce","$location","$timeout","$state",function(e,t,n,r,i,s,o){function u(e){this.contractId=t.$stateParams.id,this.contractType=t.$stateParams.type,this.apiId=t.$stateParams.apiid,this.eType=t.$stateParams.eType,this.pageConf=e,this.pageConf.currentPage=1,this.current=1,this.errorInfo={errorMsg:"",isShowErrorMsg:!1},this.sh={isShowBox:!1,isDropDown:!1},this.respondents=[],this.caseReminds=[],this.attachList=[],this.checkedStatus=["待审核","审核通过","审核不通过"],this.loadContractDetail(),this.isPrint=!1,this.pageWidth={width:"100%"},this.alonePage=80,this.confirm={showed:!1,buttons:[],context:""},i.url().indexOf("contractPrint")>-1&&(this.pdf=(new PDFObject({url:basepath+"user/onlineOrDownLoadContract.action?id="+this.contractId+"&empowerType="+this.eType+"&contractType="+this.contractType+"&option=0"})).embed("printPdf"),this.pdf?this.isPrint=!0:this.isPrint=!1),this.isEmpower=0}return u.prototype=new e,u.prototype.setIsEmpower=function(e){this.isEmpower=e},u.prototype.showError=function(e){this.errorInfo={isShowErrorMsg:!0,errorMsg:e}},u.prototype.showConfirm=function(e,t,n,r){var i=this;this.confirm={showed:!0,buttons:[],context:e},t==1&&(this.confirm.buttons=[{name:"知情并继续签署",foucs:!0,fn:function(){angular.isFunction(r)&&r.call(this)}},{name:"取消签署",foucs:!1,fn:function(){i.confirm.showed=!1}}]),n&&(this.confirm.title=n)},u.prototype.gotoSign=function(e,n,r){var i=this;n.stopPropagation(),n.preventDefault();var s="签署方中有未经法大大实名认证的用户，可能产生签约主体不明的风险，如需避免此风险，请各签署方进行实名认证。 ";if(e.isVerify==0)this.showConfirm(s,1,"风险提示 ",function(){o.go("user.doSigning",{id:i.contractId,type:i.contractType,eType:i.eType,isEmpower:r})});else{if(t.userInfo.status!=2)return this.errorInfo={errorMsg:"Sorry！发起方要求实名认证用户才能签署，请先认证。",isShowErrorMsg:!0},!1;o.go("user.doSigning",{id:i.contractId,type:i.contractType,eType:i.eType,isEmpower:r})}},u.prototype.loadContractDetail=function(){this.url="user/viewContract.action",this.params.id=this.contractId,this.params.contractType=this.contractType,this.params.apiId=this.apiId?this.apiId:"",this.params.empowerType=this.eType,this.callback=function(e){e.isSuccess&&(this.attachCount=e.data.attachCount,this.attachCountSize=0,e.data.attachCount!=0&&angular.forEach(e.data.attachList.rows,function(e,t,n){var r=e.attachName.split(".");this.attachCountSize+=parseInt(e.attachSize),this.attachList.push({attachName:e.attachName,id:e.id,name:r[r.length-1],attachSize:e.attachSize})}.bind(this)),this.notifyAble=e.data.notifyAble,this.contract=e.data.contract,this.contract.createTime=e.data.contract.createTime.split(".")[0],this.imgs=e.data.imgs,this.pageConf.total=e.data.imgs.length,this.pageWidth={width:e.data.imgs.length*this.alonePage+"px"},this.targets=e.data.targets,angular.forEach(e.data.targets,function(e,t){e.status==2&&(this.rejectReason=e.refuseSignReason)}.bind(this)),e.data.caseInfo&&(this.caseInfo=e.data.caseInfo,angular.forEach(e.data.respondents,function(e,t,n){e.litigantClass==1?this.applicat=e:this.respondents.push(e)}.bind(this)),e.data.caseReminds&&(this.caseReminds=e.data.caseReminds)),e.data.ceoInfo&&(this.ceoInfo=e.data.ceoInfo),e.data.eoInfo&&(this.eoInfo=e.data.eoInfo))},this.commit()},u.prototype.seeFj=function(){this.attachCount==0?this.isDownload=!1:this.isDownload=!this.isDownload,s(function(){t.$broadcast("rebuild-scroll")},0)},u.prototype.isReminder=function(e){this.sh.isShowBox=!0,this.repealBox={message:"此份文件是未实名签署文件，不能申请相关法律服务。",width:480,height:160,isButtons:!0,buttons:[{caption:"知道了",colorClass:"over link-orange",callback:function(){this.sh.isShowBox=!1}.bind(this)}]}},u.prototype.toSurvey=function(){this.contract.isVerify==0?this.isReminder():t.$state.go("user.surveyReport",{id:this.contractId,type:this.contractType,eType:this.eType})},u.prototype.toTestify=function(){this.contract.isVerify==0?(this.isPushDown=!1,this.isReminder()):t.$state.go("user.testify_1",{id:this.contractId,type:this.contractType,eType:this.eType})},u.prototype.toFiletyfy=function(){t.$state.go("user.testify_4",{id:this.contractId,type:this.contractType,eType:this.eType})},u.prototype.toApply=function(){this.contract.isVerify==0?(this.isPushDown=!1,this.isReminder()):this.caseInfo?this.caseInfo.status==1?t.$state.go("user.applyArbitration_2",{arbitrateId:this.caseInfo.id}):this.caseInfo.status==2&&t.$state.go("user.applyArbitration_3",{id:this.contractId,type:this.contractType,eType:this.eType}):t.$state.go("user.applyArbitration_1",{id:this.contractId,type:this.contractType,eType:this.eType})},u.prototype.pageTurn=function(e){this.current=e},u.prototype.doRemind=function(){this.url="user/saveOperateContract.action",this.params.option=6,this.params.id=this.contractId,this.params.contractType=this.contractType,this.params.empowerType=this.eType,this.callback=function(e){e.isSuccess&&(this.notifyAble=0),this.showError(e.message)},this.commit()},u.prototype.repeal=function(){this.url="user/saveOperateContract.action",this.params.option=4,this.params.id=this.contractId,this.params.contractType=this.contractType,this.params.empowerType=this.eType,this.callback=function(e){e.isSuccess?(this.contract.contractStatus=4,this.contract.contractStatusDesc="已撤销",this.sh.isShowBox=!1,this.showError("已撤销")):this.showError(e.message)},this.commit()},u.prototype.doRepeal=function(){this.sh.isShowBox=!0,this.repealBox={title:"撤销该文件？",message:'<p class="span1">文件一旦撤销，剩余未签的签署方将无法签署该文件，是否确定撤销？</p>',width:520,height:170,isButtons:!0,buttons:[{caption:"确定",colorClass:"over link-orange",callback:function(){this.repeal()}.bind(this)},{caption:"取消",colorClass:"link-gray",callback:function(){this.sh.isShowBox=!1}.bind(this)}]}},u.prototype.reject=function(e){this.url="user/saveOperateContract.action",this.params.option=5,this.params.id=this.contractId,this.params.contractType=this.contractType,this.params.empowerType=this.eType,this.params.message=this.rejectReason=e,this.callback=function(e){e.isSuccess?(this.contract.contractStatus=5,this.sh.isShowBox=!1,this.showError("已拒签"),angular.forEach(this.targets,function(e,t,n){e.id==this.contractId&&(e.status=2)}.bind(this))):this.showError(e.message)},this.commit()},u.prototype.download=function(){n.getCookie("contract_download")||(n.setCookie("contract_download",!0,7),this.showError("下载完成后，请使用Adobe reader打开。")),this.apiId?window.location.href="user/onlineOrDownLoadContract.action?id="+this.contractId+"&empowerType="+this.eType+"&contractType="+this.contractType+"&option=1&apiId="+this.apiId:window.location.href="user/onlineOrDownLoadContract.action?id="+this.contractId+"&empowerType="+this.eType+"&contractType="+this.contractType+"&option=1"},u.prototype.doReject=function(){this.sh.isShowBox=!0,this.repealBox={title:"填写拒签理由",message:r.trustAsHtml('<textarea class="border pg-10" placeholder="请填写拒签理由，字数不得超过50字" maxLength="50" style="width: 100%; height: 80px;" id="rejectReason"></textarea>'),isButtons:!0,width:520,height:220,location:"text-right",buttons:[{caption:"确定",colorClass:"over link-orange",callback:function(){this.reject($("#rejectReason").val())}.bind(this)},{caption:"取消",colorClass:"link-gray",callback:function(){$("#rejectReason").val(""),this.sh.isShowBox=!1}.bind(this)}]}},u.prototype.goPrint=function(){var e=i.absUrl().split("#")[0]+"#/user/contractPrint/"+this.contractId+"/"+this.contractType+"/"+this.eType;window.open(e,"_blank")},u}])}),define("services/contractTepSiervice",["serv-init"],function(e){e.factory("contractTepSiervice",["BaseService","FileUploader","$state","$rootScope","Tools","$stateParams","$timeout",function(e,t,n,r,i,s,o){"use strict";function u(){}return u.prototype=new e,u}])}),define("services/signingService",["serv-init","zepto"],function(e,t){e.service("SigningService",["BaseService","$rootScope","$stateParams","$interval","$timeout","$state",function(e,t,n,r,i,s){"use strict";function l(e,t,n,r){this.id=u++,this.type="sign",this.url="data:image/png;base64,"+n,this.target=null,this.index=t,this.page=r||0,this.event=e,this.x=0,this.y=0,this.tx=0,this.ty=0,this.width=a,this.height=f,this.init()}function c(e,t){this.src="user/picContract/"+e+"_"+t}function h(e){this.showSignaturePanel=!1,this.tabindex=1,this.isVerify=0,this.stepBtnTxt="下一步",this.randomUUID=null,this.option=e,this.topic="",this.accountType=1,this.width=800,this.height=1131.2,this.fileList=[],this.userSign=[],this.defaultSign=null,this.setting={isShowErrorMsg:!1,errorMsg:""},this.currentPage=0,this.count=0,this.btnTxt="发送",this.uuid="",this.id="",this.isLocked=!1,this.imageUuid="",this.userSignature="",this.step=1,this.qcode="",this.pqcode={url:g,able:!1,kind:"",run:!1},this.userMobile="",this.distance=30,this.smsLocked=!1,this.smsTimer=null,this.inputMobile="",this.sms="",this.page=1,this.isEmpower=0,this.nocache=Math.random(),this.confirm={showed:!1,buttons:[],context:""},this.signList=[],this.isMore=!1,this.contractType=0,this.empowerType=0,this.signKind="S"}function p(e,t,r){i(function(){r?s.go("user.contractList"):typeof e!="undefined"&&e!=null&&e.data?s.go("user.contractDetail",{id:e.data.id,type:e.data.contractType,eType:0}):s.go("user.contractDetail",{id:n.id,type:n.type,eType:n.eType})},t)}function y(e,t){this.msg=e,this.type=t}var o=0,u=0,a=134,f=70;l.prototype.init=function(){this.target=$(".docItem"),this.event&&this.setLeftTop(this.event.x,this.event.y)},l.prototype.loadSignImg=function(){var e=this,t=new Image;t.src=this.url,t.onload=function(){a=t.width,f=t.height,$("#defSign").find("img").css("width",t.width+"px").css("height",t.height+"px"),$("#defSign").css("width",t.width+"px").css("height",t.height+"px")}},l.prototype.setLeftTop=function(e,t){this.x=e,this.y=t;if(this.target&&this.target.offset()){var n=this.target.offset();this.x=this.x-n.left-Math.round(this.width/2),this.y=this.y-n.top-Math.round(this.height/2)}},l.prototype.setPage=function(e){this.page=e},l.prototype.getX=function(){return this.x+Math.round(this.width/2)},l.prototype.getY=function(){var e=o==0?15:28;return this.y-1131.2*this.page+Math.round(this.height/2)-e},l.prototype.getPage=function(){return this.page},h.prototype.showError=function(e){this.setting={isShowErrorMsg:!0,errorMsg:e}},h.prototype.showConfirm=function(e,t,n,r){var o=this;this.confirm={showed:!0,buttons:[],context:e},t==1?this.confirm.buttons=[{name:"知道了",foucs:!0,fn:function(){o.confirm.showed=!1}}]:t==2?this.confirm.buttons=[{name:"确定",foucs:!0,fn:function(){s.go("user.center")}},{name:"存草稿",foucs:!0,fn:function(){i(function(){o.confirm.showed=!1},500),i(function(){o.saveDraft()},1500)}},{name:"取消",foucs:!1,fn:function(){o.confirm.showed=!1}}]:t==3?this.confirm.buttons=[{name:"设置签名",foucs:!0,fn:function(){s.go("user.mySignature")}}]:t==4?this.confirm.buttons=[{name:"确定",foucs:!0,fn:function(){angular.isFunction(r)&&r.call(this)}}]:t==5&&(this.confirm.buttons=[{name:"确定",foucs:!0,fn:function(){s.go("user.center")}},{name:"取消",foucs:!1,fn:function(){o.confirm.showed=!1}}]),n&&(this.confirm.title=n)},h.prototype.changeTab=function(e){this.tabindex=e,this.tabindex==2?this.getEidQcode():this.tabindex==3?this.getPhoneQcode():(d&&(r.cancel(d),d=null),v&&(r.cancel(v),v=null))},h.prototype.init=function(){},h.prototype.circleImg=function(e){var n=this;for(var r=0;r<e;r++)this.fileList.push(new c(this.imageUuid,r));t.$broadcast("draggable:maxy",n.height*e),i(function(){t.$broadcast("rebuild-it")},1e3)},h.prototype.getUserSignature=function(){var t=this,n=new e;n.url="user/list.action",n.params.type="16",n.callback=function(e){if(e.isSuccess){t.signList=e.data.list;for(var n=0;n<t.signList.length;n++)t.signList[n].imagebase64==t.userSignature?t.signList[n].className="hover":t.signList[n].className="",t.signList.src="data:image/jpg;base64,"+t.signList[n].imagebase64,t.signList[n].defListImg={"background-image":"url("+t.signList.src+")","background-repeat":"no-repeat","background-position":"center center","background-size":"contain"}}}.bind(this),n.commit()},h.prototype.changeUserSignature=function(e){for(var t=0;t<this.signList.length;t++)this.signList[t].imagebase64==e?this.signList[t].className="hover":this.signList[t].className="";a=134,f=70,this.isMore=!1,this.userSignature=e,this.defaultSign=new l(null,-1,e),this.defaultSign.loadSignImg()},h.prototype.initSignParams=function(){this.signKind="R";var r=this,i=new e;i.url="user/gotoSignContract.action",i.params.id=this.id=n.id,i.params.contractType=this.contractType=n.type,i.params.empowerType=this.empowerType=n.eType,n.isEmpower==1&&(this.isEmpower=n.isEmpower),i.callback=function(e){e.isSuccess&&(r.showSignaturePanel=!0,r.randomUUID=e.data.randomUUID,r.imageUuid=e.data.uuid,r.count=e.data.count,r.topic=e.data.topic,r.isVerify=e.data.isVerify,r.circleImg(r.count),r.uuid=e.data.uuid,r.userSignature=e.data.defaultSign,r.defaultSign=new l(null,-1,r.userSignature),o=r.needEmpower=e.data.needEmpower,r.option==3&&e.data.isArbitrate==1&&r.showConfirm("该合同首页已经添加仲裁条款，请仔细阅读。",1),r.needEmpower==1&&t.userInfo.type==1&&(r.getUserSignature(),r.isMore=!1))},i.commit()},h.prototype.initSendParams=function(){this.signKind="S",this.uuid=n.uuid,this.loadTempDetail()},h.prototype.setAccountType=function(e){this.accountType=parseInt(e)},h.prototype.getPrefix=function(){return this.accountType==1?"person":"company"},h.prototype.calcPage=function(e){var t=Math.ceil(e/this.height);this.currentPage=t==0?0:t-1},h.prototype.onDropComplete=function(e,n){var r=$("#defSign").width(),i=$("#defSign").height(),s=$(".ngsb-container").offset().top;this.calcPage(n.y-s-35);if(e instanceof l)return e.setLeftTop(n.x,n.y),e.setPage(this.currentPage),this.pqcode.run&&this.chkPhoneQcode(),!1;t.newphone?this.userMobile=t.newphone.substring(0,3)+"****"+t.newphone.substring(7):this.userMobile=t.userInfo.mobile,this.userSign.push(new l(n,this.userSign.length,this.userSignature,this.currentPage)),angular.forEach(this.userSign,function(e,t,n){e.url=this.defaultSign.url,e.height=i,e.width=r}.bind(this)),$(".mySign").find("img").width(r).height(i),this.userSign.length==1&&(this.step=2,this.isMore=!1,this.stepBtnTxt="签署"),this.pqcode.run&&this.getPhoneQcode()},h.prototype.turnBack=function(){var e=0;n.from=="file"?s.go("user.fillin",{uuid:n.uuid}):n.from=="draft"?s.go("user.contractList",{sort:6}):n.from=="list"&&s.go("user.center")},h.prototype.remove=function(e,t){t.preventDefault();var n=this;return angular.forEach(this.userSign,function(t,r){e===t&&n.userSign.splice(r,1)}),this.tabindex==3&&this.getPhoneQcode(),this.userSign.length==0&&(this.step=1,this.stepBtnTxt="下一步",this.tabindex=1),!1},h.prototype.start=function(t){var n=new e;if(!this.userMobile||this.userMobile==null||this.userMobile==""||angular.isUndefined(this.userMobile)){if(this.inputMobile==""||!this.inputMobile)return this.showError("请输入用于接收验证码的手机号码。"),!1;n.params.mobile=this.inputMobile}else n.params.mobile="";if(this.smsLocked)return!1;this.smsLocked=!0;var i=this;n.url="user/saveGenSms.action",n.params.option=3,n.params.kind=t,!this.userMobile||this.userMobile==null||this.userMobile==""||angular.isUndefined(this.userMobile)?n.params.mobile=this.inputMobile:n.params.mobile="",n.params.bindValue=this.uuid,i.btnTxt="重新发送",n.callback=function(e){e.isSuccess?i.smsTimer=r(function(){i.distance--,i.distance<1&&(i.smsLocked=!1,r.cancel(i.smsTimer),i.distance=30,i.smsTimer=null)},1e3):i.smsLocked=!1,i.showError(e.message)},n.commit()},h.prototype.doNext=function(){try{if(this.option==2){if(!this.uuid||this.uuid.length!=32)throw new y("文件不存在！",1)}else if(this.option==3){if(this.id=="")throw new y("文件不存在！",1);if(this.contractType!=0)throw new y("文件类型不允许签署！",1)}if(this.userSignature=="")throw new y("你还未实名或未设置签名！",2);if(this.userSign.length==0)throw new y("请在文件中添加签名！",1);if(this.sms==""&&this.step==2)throw new y("请输入验证码！",1);if(this.sms.length!=6&&this.step==2)throw new y("请输入正确验证码！",1)}catch(e){return e.type==1?this.showError(e.msg):this.showConfirm(e.msg,3),!1}return this.isMore=!1,t.newphone?this.userMobile=t.newphone.substring(0,3)+"****"+t.newphone.substring(7):this.userMobile=t.userInfo.mobile,this.step<=2&&(this.stepBtnTxt="签署",this.step++),this.step==3&&this.send(),!1},h.prototype.goback=function(){this.step=1,this.stepBtnTxt="下一步",this.isMore=!1},h.prototype.buildParams=function(){var e=[],t=[],n=[];for(var r=0;r<this.userSign.length;r++)e.push(this.userSign[r].getX()),t.push(this.userSign[r].getY()),n.push(this.userSign[r].getPage());return e=e.join(","),t=t.join(","),n=n.join(","),{xs:e,ys:t,ps:n}},h.prototype.saveDraft=function(){if(this.option==2&&(!this.uuid||this.uuid.length!=32))return this.showError("文件不存在！"),!1;if(this.isLocked)return this.showError("正在保存草稿！"),!1;this.isLocked=!0;var t=this.buildParams(),n=this,r=new e;r.url="user/draftContract.action",r.params.uuid=this.uuid,r.params.imageBase64=this.userSignature;if(t.xs!=""&&t.ys!="",t.ps!="")r.params.xs=t.xs,r.params.ys=t.ys,r.params.pagenums=t.ps;r.callback=function(e){m=e,e.isSuccess?(n.showError("草稿保存成功，等待跳转..."),sessionStorage.removeItem("contractInfo"),i(function(){s.go("user.contractList",{sort:6})},2e3)):n.showError(e.message),n.isLocked=!1},r.commit()},h.prototype.end=function(){this.isLocked=!1,this.showError(m.message)},h.prototype.send=function(){if(this.isLocked)return this.showError("文件正在签署中，请耐心等待..."),!1;this.showError("文件正在签署中，请耐心等待..."),this.isLocked=!0;var t=this.buildParams(),n=this,r=new e;r.url="user/saveOperateContract.action",r.params.option=this.option,r.params.uuid=this.uuid,r.params.empowerType=this.isEmpower,this.tabindex==2?r.params.isEIDSign=1:r.params.isEIDSign=0,this.option!=2&&this.option==3&&(r.params.id=this.id,r.params.contractType=this.contractType),r.params.imageBase64=this.userSignature,r.params.xs=t.xs,r.params.ys=t.ys,r.params.pagenums=t.ps,r.params.sms=this.sms,r.callback=function(e){m=e,e.isSuccess?(sessionStorage.removeItem("contractInfo"),n.isVerify==0?(n.showError("您已完成文件的签署，等待跳转..."),p(e,2e3)):(n.showError("您已完成文件的签署"),p(e,2e3))):n.showError(e.message),n.isLocked=!1},r.commit()},h.prototype.loadTempDetail=function(){var n=this,r=new e;r.url="user/tempViewContract.action",r.params.uuid=this.uuid,r.callback=function(e){e.isSuccess?(n.showSignaturePanel=!0,n.isEmpower=e.data.tempSignFile.isEempowerSign,n.imageUuid=e.data.tempSignFile.uuid,n.randomUUID=e.data.randomUUID,n.count=e.data.tempSignFile.count,n.topic=e.data.tempSignFile.topic,n.isVerify=e.data.tempSignFile.isVerify,n.circleImg(n.count),n.userSignature=e.data.defaultSign,n.defaultSign=new l(null,-1,n.userSignature),o=n.needEmpower=e.data.needEmpower,n.needEmpower==1&&t.userInfo.type==1&&(n.getUserSignature(),n.isMore=!1)):n.showError(e.message)},r.commit()},h.prototype.getPhoneQcode=function(){var t=this;this.chkPhoneQcode(),v&&(r.cancel(v),this.pqcode.run=!1,v=null);if(this.pqcode.able&&this.userSign.length==1){var n=new e;n.url="checkQrCode.action",n.loadingEable=!1,n.params.createKind=this.pqcode.kind,n.params.uuid=this.signKind=="S"?this.uuid:this.id+"_"+this.contractType+"_"+this.empowerType,n.callback=function(e){e.isSuccess&&(t.showError("您已完成文件的签署，等待跳转..."),p(e,2e3,"list"))},v=r(function(){n.commit(),t.pqcode.run=!0},3e3)}},h.prototype.chkPhoneQcode=function(){if(this.userSign.length==1){var e=this.userSign[0],t=e.x+85,n=e.y+30;this.signKind=="S"?(this.pqcode.kind="MobileShieldSendSign",this.pqcode.url="getQrCode?createKind="+this.pqcode.kind+"&x="+t+"&y="+n+"&pagenum="+e.page+"&uuid="+this.uuid):(this.pqcode.kind="MobileShieldRecSign",this.pqcode.url="getQrCode?createKind="+this.pqcode.kind+"&x="+t+"&y="+n+"&pagenum="+e.page+"&id="+this.id+"&contractType="+this.contractType+"&empowerType="+this.empowerType),this.pqcode.able=!0}else this.pqcode.url=g,this.pqcode.able=!1},h.prototype.getEidQcode=function(){var t=this;d?(r.cancel(d),d=null):t.qcode="getQrCode?createKind=Sign&uuid="+t.randomUUID+"&fileName="+t.uuid+"&r="+Math.random();var n=new e;n.url="checkQrCode.action",n.params.createKind="Sign",n.loadingEable=!1,n.params.uuid=t.randomUUID,n.params.fileName=t.uuid,n.callback=function(e){e.isSuccess&&t.send()},d=r(function(){n.commit()},3e3)},h.prototype.destroy=function(){r.cancel(d),r.cancel(v),d=null,v=null,m=null},h.prototype.scrollTop=function(e){e==0?this.page=1:(this.page=Math.ceil(e/1131.2),t.$apply())};var d=null,v=null,m=null,g="webs/images/phoneqcode.png";return h}])}),define("services/doSigntestService",["serv-init"],function(e){e.service("doSigntestService",["BaseService","$rootScope","$state",function(e,t,n){"use strict";function r(){this.srcUrl="webs/images/fddtyz.png"}var i="";return i+='<div class="jiaochen">',i+='<img src="webs/images/jiaochen01.png">',i+="</div>",r.prototype=new e,r.prototype.init=function(){$(".widwarp").append(i),$(".jiaochen").css({top:"250px",right:"40px"})},r.prototype.srcMove=function(){var e=$(".draglist");$(".toprightbox").hide(),$(".bottomleftbox").hide(),e.find("img").addClass("roundfain"),$(".styrebox").addClass("boxfain"),$(".movetuzhang").find("img").addClass("tuzhangfain"),$(".jiaochen").hide(),setTimeout(function(){$(".etcs").css({display:"block","z-index":"220",position:"fixed"}),$(".jiaochen").show().css({top:"210px",right:"-20px"}),$(".movetuzhang").find("img").css("opacity","100"),$(".styrebox").hide(),$(".bottomrightboxs").css("display","block")},800)},r.prototype.sendCode=function(){var e=$(".nextbtns");this.codes="888888",$(".etcs").css({"z-index":"1"}),e.css({"z-index":"999"}),$(".draglist img").hide(),$(".jiaochen").css({top:"30px",right:"-35px"}),$(".movetuzhang").css("z-index","1"),$(".bottomrightboxs").hide(),$(".topnextcount").show()},r.prototype.nextsuccess=function(){var e="1";localStorage.setItem("tasteState",e),n.go("user.center")},r}])}),define("services/testifyService",["serv-init","zepto"],function(e,t){"use strict";e.factory("TestifyService",["BaseService","Tools","$rootScope","$location",function(e,t,n,r){function i(){this.contract={id:n.$stateParams.id,contractType:n.$stateParams.type,eType:n.$stateParams.eType},this.user={name:"",mobile:"",address:""},this.sh={isName:!1,isMobile:!1,isAddress:!1},this.timer=null,this._init()}return i.prototype=new e,i.prototype._init=function(){r.path().indexOf("testify_2")>-1&&(this.url="user/genOrderTrans.action",this.params.option=1,this.params.id=n.$stateParams.testifyId,this.params.serialNo=n.$stateParams.code,this.callback=function(e){e.isSuccess&&(this.wxCode="user/wxUrlTrans.action?wxUrl="+e.data.code,this.tInfo=e.data.trans)},this.commit())},i.prototype.toolsForm=function(){if(this.user.name=="")return this.sh.isName=!0,t.delayed(function(){this.sh.isName=!1}.bind(this)),!1;if(this.user.mobile=="")return this.sh.isMobile=!0,t.delayed(function(){this.sh.isMobile=!1}.bind(this)),!1;if(!t.isMobile(this.user.mobile)&&!t.isTelephone(this.user.mobile))return this.sh.isMobile=!0,t.delayed(function(){this.sh.isMobile=!1}.bind(this)),!1;if(this.user.address=="")return this.sh.isAddress=!0,t.delayed(function(){this.sh.isAddress=!1}.bind(this)),!1},i.prototype.doSubmit=function(e){this.toolsForm(),this.url="user/evidenceOrderTrans.action",this.params.contractId=this.contract.id,this.params.contractType=this.contract.contractType,this.params.empowerType=this.contract.eType,this.params.evidenceName=this.user.name,this.params.evidenceMobile=this.user.mobile,this.params.evidenceAddress=this.user.address,this.callback=function(e){if(!e.isSuccess)return;n.$state.go("user.testify_2",{testifyId:e.data.id,code:e.data.serialNo})},this.commit()},i.prototype.doBuy=function(){window.location.href=basepath+"user/gotoPayTrans.action?serialNo="+this.tInfo.serialNo+"&payType=1"},i.prototype.wxFun=function(){this.loadingEable=!1,this.url="user/checkTrans.action",this.params={},this.params.serialNo=this.tInfo.serialNo,this.callback=function(e){e.isSuccess&&n.$state.go("user.testify_3")},this.commit()},i}])}),define("services/suveryReportService",["serv-init","zepto"],function(e,t){"use strict";e.factory("SuveryReportService",["BaseService","Tools","$rootScope","$location","$interval",function(e,t,n,r,i){function s(){this.payType=0,this.timer=null,this._init()}return s.prototype=new e,s.prototype.hideBox=function(e){this.errorInfo={isShowErrorMsg:!0,errorMsg:e}},s.prototype._init=function(){r.path().indexOf("user/surveyReportDetail")>-1?(this.url="user/contractEvidenceOrderTrans.action",this.params.contractId=n.$stateParams.id,this.callback=function(e){e.isSuccess?this.applyInfo=e.data.ceo:this.hideBox(e.message)},this.commit()):(this.url="user/genOrderTrans.action",this.params.contractId=n.$stateParams.id,this.params.option=0,this.callback=function(e){if(!e.isSuccess)return this.hideBox(e.message),!1;this.wxCode="user/wxUrlTrans.action?wxUrl="+e.data.code,this.info=e.data.trans},this.commit())},s.prototype.doBuy=function(){window.location.href=basepath+"user/gotoPayTrans.action?serialNo="+this.info.serialNo+"&payType=1"},s.prototype.wxFun=function(){this.loadingEable=!1,this.url="user/checkTrans.action",this.params={},this.params.serialNo=this.info.serialNo,this.callback=function(e){e.isSuccess&&n.$state.go("user.surveyReportDetail",{id:n.$stateParams.id})},this.commit()},s}])}),define("services/informationService",["serv-init","zepto"],function(e,t){"use strict";e.factory("InformationService",["BaseService","Tools","$rootScope",function(e,t,n){function r(e){var t=this;this.isNone=!1,this.pageConf=e,this.params.pageSize=e.pageSize,this.currentPageNo=1,this.delArr=[],this.errorInfo={isShowErrorMsg:!1,errorMsg:""},this.isAll=!1}return r.prototype=new e,r.prototype.queryMore=function(e){this.delArr=[],this.pageConf.itemList=[],this.isAll=!1,this.url="user/list.action",this.params.type=9,this.pageConf.currentPage=this.params.currentPageNo=e,this.callback=function(e){if(e.isSuccess){if(e.data.total==0)return this.isNone=!0,!1;this.isNone=!1,this.pageConf.total=e.data.total,this.totalPageCount=e.data.totalPageCount,angular.forEach(e.data.list,function(e,t,n){n[t].isChecked=!1}),this.pageConf.itemList=angular.extend(this.pageConf.itemList,e.data.list)}else this.isNone=!0},this.commit()},r.prototype._init=function(){this.queryMore(this.currentPageNo)},r.prototype.removeOpt=function(e,t){angular.forEach(e,function(e,n,r){e==t&&r.splice(n,1)}.bind(this))},r.prototype.selAll=function(){this.isAll=!this.isAll,angular.forEach(this.pageConf.itemList,function(e,t,n){this.isAll?(this.pageConf.itemList[t].isChecked=!0,$.inArray(this.pageConf.itemList[t].id,this.delArr)>-1&&this.removeOpt(this.delArr,this.pageConf.itemList[t].id),this.delArr.push(this.pageConf.itemList[t].id)):(this.pageConf.itemList[t].isChecked=!1,this.delArr=[])}.bind(this))},r.prototype.doChecked=function(e,t){this.pageConf.itemList[t].isChecked=!this.pageConf.itemList[t].isChecked,$.inArray(e,this.delArr)>-1?this.removeOpt(this.delArr,e):this.delArr.push(e),this.delArr.length==this.pageConf.itemList.length?this.isAll=!0:this.isAll=!1},r.prototype.hideBox=function(e){this.errorInfo={isShowErrorMsg:!0,errorMsg:e}},r.prototype.del=function(){if(this.delArr.length==0)return this.hideBox("请选择至少一项要删除的通知"),!1;this.url="user/readLetter.action",this.params.option=0,this.params.ids=this.delArr.join(","),this.callback=function(e){if(!e.isSuccess)return this.hideBox(e.message),!1;this.hideBox(e.message),this.queryMore(this.currentPageNo)},this.commit()},r}])}),define("services/applyArbitrationService",["serv-init","zepto"],function(e,t){"use strict";e.factory("ApplyArbitrationService",["BaseService","Tools","$rootScope","$location","FileUploader",function(e,t,n,r,i){function o(){this.info={operate:1,contractId:n.$stateParams.id,contractType:n.$stateParams.type,empowerType:n.$stateParams.eType,requestTarget:"",requestItem:"",factReason:"",mobile:"",email:"",address:"",litigantTypes:"",litigantNames:"",mobiles:"",emails:"",addresss:"",idCodes:"",representatives:"",posts:""},this.errorTar={isShowErrorMsg:!1,errorMsg:""},this.infoList=[],this.highLight=[],this.tempFiles=[null,null],this.selMap=[{isFinished:!1,name:""},{isFinished:!1,name:""}],this.sh={hasCompany:!1,hasPerson:!1,isPerson:!1,hasRespondent:!1},this.applyCompanyNum=0,this.applyPersonNum=0,this.personFiles=[],this.companyFiles=[],this.locked=!1,this._init()}var s=null;return o.prototype=new e,o.prototype._init=function(){var e=this;if(r.path().indexOf("applyArbitration_2")>-1){var t="user/saveOperateArbitrate.action";this.uploader=new i({url:t,formData:[{operate:2}]}),this.uploader.filters.push({name:"customFilter",fn:function(e,t){return e=angular.extend(e,t),this.queue}}),this.uploader.onAfterAddingFile=function(t){e.doUploader(t)},this.url="user/getCaseInfoArbitrate.action",this.params.id=n.$stateParams.arbitrateId,this.callback=function(n){n.isSuccess?(this.contractName=n.data.caseInfo.contractTopic,angular.forEach(n.data.respondents,function(n,r,s){s[r].litigantClass==1&&s[r].litigantType==1&&(this.sh.isPerson=!0),s[r].litigantClass==1&&s[r].litigantType==2&&(this.sh.isPerson=!1),s[r].litigantClass==2&&s[r].litigantType==1&&(this.applyPersonNum++,this.sh.hasPerson=!0,this.personUploader||(this.personUploader=new i({url:t,formData:[{operate:2}]}),this.personUploader.filters.push({name:"personFilter",fn:function(e,t){return e=angular.extend(e,t),this.queue}}),this.personUploader.onAfterAddingFile=function(t){e.doPersonUploader(t)})),s[r].litigantClass==2&&s[r].litigantType==2&&(this.applyCompanyNum++,this.sh.hasCompany=!0,this.companyUploader||(this.companyUploader=new i({url:t,formData:[{operate:2}]}),this.companyUploader.filters.push({name:"companyFilter",fn:function(e,t){return e=angular.extend(e,t),this.queue}}),this.companyUploader.onAfterAddingFile=function(t){e.doCompanyUploader(t)}))}.bind(this))):this.showError(n.message)},this.commit()}},o.prototype.showError=function(e){this.errorTar={isShowErrorMsg:!0,errorMsg:e}},o.prototype.seledType=function(e){if(!this.respondentPerson||!this.respondentCompany)this.url="user/queryMainContract.action",this.params.id=this.info.contractId,this.params.contractType=this.info.contractType,this.params.empowerType=this.info.empowerType,this.params.type=e,this.callback=function(t){t.isSuccess?(t.data.contractMains.length>0?this.sh.hasRespondent=!0:this.sh.hasRespondent=!1,e==1?this.respondentPerson=t.data.contractMains:this.respondentCompany=t.data.contractMains):this.showError(t.message)},this.commit();e==1?(this.respondentPerson&&this.respondentPerson.length>0?this.sh.hasRespondent=!0:this.sh.hasRespondent=!1,this.isPerson=!0,$("input[name=applicantName]").attr("maxLength","16"),this.highLight=["txt-pink",""],this.applicant={name:"",phone:"",email:"",idCard:"",address:""}):(this.respondentCompany&&this.respondentCompany.length>0?this.sh.hasRespondent=!0:this.sh.hasRespondent=!1,this.isPerson=!1,$("input[name=applicantName]").attr("maxLength","30"),this.highLight=["","txt-pink"],this.applicant={name:"",phone:"",email:"",legent:"",job:"",idCard:"",address:""}),this.isShowBox=!0},o.prototype.checkedRespondent=function(e){this.current=e,this.isPerson?this.applicant={name:this.respondentPerson[e].name?this.respondentPerson[e].name:"",phone:this.respondentPerson[e].mobile?this.respondentPerson[e].mobile:"",email:this.respondentPerson[e].email?this.respondentPerson[e].email:"",idCard:this.respondentPerson[e].idCode?this.respondentPerson[e].idCode:"",address:this.respondentPerson[e].address?this.respondentPerson[e].address:""}:this.applicant={name:this.respondentCompany[e].name?this.respondentCompany[e].name:"",phone:this.respondentCompany[e].mobile?this.respondentCompany[e].mobile:"",email:this.respondentCompany[e].email?this.respondentCompany[e].email:"",legent:this.respondentCompany[e].representative?this.respondentCompany[e].representative:"",job:this.respondentCompany[e].post?this.respondentCompany[e].post:"",idCard:this.respondentCompany[e].idCode?this.respondentCompany[e].idCode:"",address:this.respondentCompany[e].address?this.respondentCompany[e].address:""}},o.prototype.addPerson=function(){var e={};this.isPerson?e.type=1:e.type=2;try{if(t.isEmpty(this.applicant.name))throw e.type==1?"请填写姓名":"请填写企业名称";if(t.isEmpty(this.applicant.phone)||!t.isMobile(this.applicant.phone))throw"请填写正确的手机号";angular.forEach(this.infoList,function(e){if(e.phone==this.applicant.phone)throw"被申请人手机号不能重复"}.bind(this));if(t.isEmpty(this.applicant.email)||!t.isEmail(this.applicant.email))throw"请填写正确的邮箱";if(e.type==1){if(t.isEmpty(this.applicant.idCard)||!t.isIdCard(this.applicant.idCard))throw"请填写正确的身份证号"}else{if(t.isEmpty(this.applicant.legent))throw"请填写法定代表人";if(t.isEmpty(this.applicant.job))throw"请填写正职务";if(t.isEmpty(this.applicant.idCard)||!t.isNumber(this.applicant.idCard))throw"请填写正确的营业执照"}if(t.isEmpty(this.applicant.address))throw"请填写联系地址"}catch(n){return this.showError(n),!1}this.current=null,this.isShowBox=!1,e=angular.extend(e,this.applicant),this.infoList.push(e)},o.prototype.del=function(e){this.infoList.splice(e,1)},o.prototype.doSubmit=function(){try{if(t.isEmpty(this.info.requestTarget)||!t.isMoney(this.info.requestTarget))throw"请填写正确的申请的标的金额";if(t.isEmpty(this.info.requestItem))throw"请填写请求事项";if(t.isEmpty(this.info.factReason))throw"请填写事实与理由";if(t.isEmpty(this.info.mobile)||!t.isMobile(this.info.mobile))throw"请填写正确的申请人手机号";if(t.isEmpty(this.info.email)||!t.isEmail(this.info.email))throw"请填写正确的申请人邮箱";if(t.isEmpty(this.info.address))throw"请填写申请人联系地址";if(this.infoList.length==0)throw"请添加被申请人信息"}catch(e){return this.showError(e),!1}var r=[],i=[],s=[],o=[],u=[],a=[],f=[],l=[];angular.forEach(this.infoList,function(e,t,n){r.push(n[t].type=="undefined"?"":n[t].type),i.push(n[t].name=="undefined"?"":n[t].name),s.push(n[t].phone=="undefined"?"":n[t].phone),o.push(n[t].email=="undefined"?"":n[t].email),u.push(n[t].address=="undefined"?"":n[t].address),a.push(n[t].idCard=="undefined"?"":n[t].idCard),f.push(n[t].legent=="undefined"?"":n[t].legent),l.push(n[t].job=="undefined"?"":n[t].job)}.bind(this)),this.info.litigantTypes=r.join(";")+";",this.info.litigantNames=i.join(";")+";",this.info.mobiles=s.join(";")+";",this.info.emails=o.join(";")+";",this.info.addresss=u.join(";")+";",this.info.idCodes=a.join(";")+";",this.info.representatives=f.join(";")+";",this.info.posts=l.join(";")+";",this.url="user/saveOperateArbitrate.action",this.params=this.info,this.callback=function(e){e.isSuccess?n.$state.go("user.applyArbitration_2",{arbitrateId:e.data.id}):this.showError(e.message)}.bind(this),this.commit()},o.prototype.getFileType=function(e){var t=e.split(".");return t[t.length-1]},o.prototype.validFile=function(e,t){return e.fileType.indexOf(this.getFileType(e._file.name))<=-1?(this.showError("上传文件格式不正确"),t.removeFromQueue(e),!1):e.fileSize!=""&&e.fileSize*1024*1024<e._file.size?(this.showError("上传文件过大"),t.removeFromQueue(e),!1):!0},o.prototype.doUploader=function(e){this.validFile(e,this.uploader)&&(this.tempFiles[e._file.index]&&this.uploader.removeFromQueue(this.tempFiles[e._file.index]),this.tempFiles[e._file.index]=e,this.selMap[e._file.index].name=e._file.name,this.selMap[e._file.index].isFinished=!0)},o.prototype.doApplicatUploader=function(e,t,n,r,i){this.validFile(e,t)&&(n.length<r?(e.isShow=!0,n.push(e)):(t.removeFromQueue(e),this.showError("只能上传"+r+"个"+i)))},o.prototype.doCompanyUploader=function(e){this.doApplicatUploader(e,this.companyUploader,this.companyFiles,this.applyCompanyNum,"企业营业执照复印件照片")},o.prototype.doPersonUploader=function(e){this.doApplicatUploader(e,this.personUploader,this.personFiles,this.applyPersonNum,"个人身份证复印件照片")},o.prototype.delFile=function(e){this.uploader.removeFromQueue(this.tempFiles[e]),this.tempFiles[e]=null,this.selMap[e].name="",this.selMap[e].isFinished=!1},o.prototype.delCompany=function(e,t){this.companyUploader.removeFromQueue(e),this.companyFiles.splice(t,1)},o.prototype.delPerson=function(e,t){this.personUploader.removeFromQueue(e),this.personFiles.splice(t,1)},o.prototype.toUploadFile=function(){try{if(!this.selMap[0].isFinished)throw"请上传申请书";if(!this.selMap[1].isFinished)throw this.sh.isPerson?"请上传申请方个人身份证复印件照片":"请上传申请方企业营业执照复印件照片";if(this.companyFiles.length!=this.applyCompanyNum)throw"请上传"+this.applyPersonNum+"个被申请方企业营业执照复印件照片";if(this.personFiles.length!=this.applyPersonNum)throw"请上传"+this.applyPersonNum+"个被申请方个人身份证复印件照片"}catch(e){return this.showError(e),!1}this.url="user/saveOperateArbitrate.action",this.params.operate=2,this.params.applyFile=[],this.params.file=[],angular.forEach(this.uploader.queue,function(e,t,n){n[t]._file.type.indexOf("image")>-1?this.params.file.push(n[t]._file):this.params.applyFile.push(n[t]._file)}.bind(this)),this.applyCompanyNum!=0&&angular.forEach(this.companyUploader.queue,function(e){this.params.file.push(e._file)}.bind(this)),this.applyPersonNum!=0&&angular.forEach(this.personUploader.queue,function(e){this.params.file.push(e._file)}.bind(this));if(this.locked)return this.showError("正在上传中..."),!1;this.locked=!0,this.callback=function(e){s=e,this.locked=!1,n.$broadcast("end-progress"),e.isSuccess||this.showError(e.message)}.bind(this),this.submit()},o.prototype.uploadOk=function(e){this.locked=!1;if(!s)return!1;s.isSuccess?n.$state.go("user.applyArbitration_3",{id:this.info.contractId,type:this.info.contractType,eType:this.info.empowerType}):this.showError(s.message)},o}])}),define("ShaMd5",["require","exports","module"],function(e,t,n){"use strict";function o(){return w("abc")=="900150983cd24fb0d6963f7d28e17f72"}function u(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;var n=1732584193,r=-271733879,i=-1732584194,s=271733878;for(var o=0;o<e.length;o+=16){var u=n,a=r,p=i,v=s;n=f(n,r,i,s,e[o+0],7,-680876936),s=f(s,n,r,i,e[o+1],12,-389564586),i=f(i,s,n,r,e[o+2],17,606105819),r=f(r,i,s,n,e[o+3],22,-1044525330),n=f(n,r,i,s,e[o+4],7,-176418897),s=f(s,n,r,i,e[o+5],12,1200080426),i=f(i,s,n,r,e[o+6],17,-1473231341),r=f(r,i,s,n,e[o+7],22,-45705983),n=f(n,r,i,s,e[o+8],7,1770035416),s=f(s,n,r,i,e[o+9],12,-1958414417),i=f(i,s,n,r,e[o+10],17,-42063),r=f(r,i,s,n,e[o+11],22,-1990404162),n=f(n,r,i,s,e[o+12],7,1804603682),s=f(s,n,r,i,e[o+13],12,-40341101),i=f(i,s,n,r,e[o+14],17,-1502002290),r=f(r,i,s,n,e[o+15],22,1236535329),n=l(n,r,i,s,e[o+1],5,-165796510),s=l(s,n,r,i,e[o+6],9,-1069501632),i=l(i,s,n,r,e[o+11],14,643717713),r=l(r,i,s,n,e[o+0],20,-373897302),n=l(n,r,i,s,e[o+5],5,-701558691),s=l(s,n,r,i,e[o+10],9,38016083),i=l(i,s,n,r,e[o+15],14,-660478335),r=l(r,i,s,n,e[o+4],20,-405537848),n=l(n,r,i,s,e[o+9],5,568446438),s=l(s,n,r,i,e[o+14],9,-1019803690),i=l(i,s,n,r,e[o+3],14,-187363961),r=l(r,i,s,n,e[o+8],20,1163531501),n=l(n,r,i,s,e[o+13],5,-1444681467),s=l(s,n,r,i,e[o+2],9,-51403784),i=l(i,s,n,r,e[o+7],14,1735328473),r=l(r,i,s,n,e[o+12],20,-1926607734),n=c(n,r,i,s,e[o+5],4,-378558),s=c(s,n,r,i,e[o+8],11,-2022574463),i=c(i,s,n,r,e[o+11],16,1839030562),r=c(r,i,s,n,e[o+14],23,-35309556),n=c(n,r,i,s,e[o+1],4,-1530992060),s=c(s,n,r,i,e[o+4],11,1272893353),i=c(i,s,n,r,e[o+7],16,-155497632),r=c(r,i,s,n,e[o+10],23,-1094730640),n=c(n,r,i,s,e[o+13],4,681279174),s=c(s,n,r,i,e[o+0],11,-358537222),i=c(i,s,n,r,e[o+3],16,-722521979),r=c(r,i,s,n,e[o+6],23,76029189),n=c(n,r,i,s,e[o+9],4,-640364487),s=c(s,n,r,i,e[o+12],11,-421815835),i=c(i,s,n,r,e[o+15],16,530742520),r=c(r,i,s,n,e[o+2],23,-995338651),n=h(n,r,i,s,e[o+0],6,-198630844),s=h(s,n,r,i,e[o+7],10,1126891415),i=h(i,s,n,r,e[o+14],15,-1416354905),r=h(r,i,s,n,e[o+5],21,-57434055),n=h(n,r,i,s,e[o+12],6,1700485571),s=h(s,n,r,i,e[o+3],10,-1894986606),i=h(i,s,n,r,e[o+10],15,-1051523),r=h(r,i,s,n,e[o+1],21,-2054922799),n=h(n,r,i,s,e[o+8],6,1873313359),s=h(s,n,r,i,e[o+15],10,-30611744),i=h(i,s,n,r,e[o+6],15,-1560198380),r=h(r,i,s,n,e[o+13],21,1309151649),n=h(n,r,i,s,e[o+4],6,-145523070),s=h(s,n,r,i,e[o+11],10,-1120210379),i=h(i,s,n,r,e[o+2],15,718787259),r=h(r,i,s,n,e[o+9],21,-343485551),n=d(n,u),r=d(r,a),i=d(i,p),s=d(s,v)}return Array(n,r,i,s)}function a(e,t,n,r,i,s){return d(v(d(d(t,e),d(r,s)),i),n)}function f(e,t,n,r,i,s,o){return a(t&n|~t&r,e,t,i,s,o)}function l(e,t,n,r,i,s,o){return a(t&r|n&~r,e,t,i,s,o)}function c(e,t,n,r,i,s,o){return a(t^n^r,e,t,i,s,o)}function h(e,t,n,r,i,s,o){return a(n^(t|~r),e,t,i,s,o)}function p(e,t){var n=m(e);n.length>16&&(n=u(n,e.length*s));var r=Array(16),i=Array(16);for(var o=0;o<16;o++)r[o]=n[o]^909522486,i[o]=n[o]^1549556828;var a=u(r.concat(m(t)),512+t.length*s);return u(i.concat(a),640)}function d(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function v(e,t){return e<<t|e>>>32-t}function m(e){var t=Array(),n=(1<<s)-1;for(var r=0;r<e.length*s;r+=s)t[r>>5]|=(e.charCodeAt(r/s)&n)<<r%32;return t}function g(e){var t="",n=(1<<s)-1;for(var r=0;r<e.length*32;r+=s)t+=String.fromCharCode(e[r>>5]>>>r%32&n);return t}function y(e){var t=r?"0123456789ABCDEF":"0123456789abcdef",n="";for(var i=0;i<e.length*4;i++)n+=t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15);return n}function b(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="";for(var r=0;r<e.length*4;r+=3){var s=(e[r>>2]>>8*(r%4)&255)<<16|(e[r+1>>2]>>8*((r+1)%4)&255)<<8|e[r+2>>2]>>8*((r+2)%4)&255;for(var o=0;o<4;o++)r*8+o*6>e.length*32?n+=i:n+=t.charAt(s>>6*(3-o)&63)}return n}function w(e){return""==e||null==e?"":y(u(m(e),e.length*s))}function E(e){return""==e||null==e?"":b(u(m(e),e.length*s))}function S(e){return""==e||null==e?"":g(u(m(e),e.length*s))}function x(e,t){return y(p(e,t))}function T(e,t){return b(p(e,t))}function N(e,t){return g(p(e,t))}var r=0,i="",s=8;t.hex_md5=w,t.h64_md5=E,t.str_md5=S,t.hex_hmac_md5=x,t.b64_hmac_md5=T,t.str_hmac_md5=N}),define("services/fgPasswordService",["serv-init","ShaMd5"],function(e,t){"use strict";e.factory("FgPasswordService",["BaseService","$timeout","Tools","$state","$rootScope",function(e,n,r,i,s){function o(){this.stepBean={account:null,bindValue:null},this.stepBean_2={},this.isClick=!1,this.errorInfo={show:!1,message:""},this.inputType="password"}return o.prototype=new e,o.prototype.doNext_1=function(e){this.params={},this.params=angular.extend(this.params,e),this.params.kind=="0"?(this.url="saveGenSms.action",this.params.option="6",this.params.mobile=this.params.account):(this.url="saveGenMail.action",this.params.option="6",this.params.email=this.params.account),this.callback=function(t){t.isSuccess?this.params.kind==0?i.go("forget.forgetPassword_2",{account:e.account}):i.go("forget.forgetPassword_2_email",{account:e.account}):(s.$broadcast("changeImg"),this.errorInfo={show:!0,message:t.message},r.delayed(function(){this.errorInfo={}}.bind(this)))},this.commit()},o.prototype.doNext_2_phone=function(e){this.params={},e.type==1?(this.url="saveGenSms.action",this.params.mobile=e.mobile,this.params.kind=e.kind):(this.url="saveGenMail.action",this.params.email=e.email),this.params.option="7",this.callback=function(t){t.isSuccess&&(e.type==1&&e.kind==1?(s.$broadcast("notice-runsendvoidecode"),this.isClick=!1):(s.$broadcast("notice-runsendcode"),this.isClick=!1)),this.errorInfo={show:!0,message:t.message},r.delayed(function(){this.errorInfo={}}.bind(this))},this.commit()},o.prototype.doNext_2=function(e,t){return t?(e.type==1?(this.url="checkSms.action",this.params.mobile=e.mobile,this.params.bindValue=e.mobile,this.params.sms=t,this.params.option="7"):(this.url="checkMail.action",this.params.email=e.email,this.params.bindValue=e.email,this.params.code=t,this.params.option="7"),this.callback=function(t){t.isSuccess&&i.go("forget.forgetPassword_3",{account:e.account}),this.errorInfo={show:!0,message:t.message},r.delayed(function(){this.errorInfo={}}.bind(this))},this.commit()):(this.errorInfo={show:!0,message:"请填写验证码"},r.delayed(function(){this.errorInfo={}}.bind(this)),!1)},o.prototype.doNext_3=function(e,n){return n==undefined||n==""||n==null?(this.errorInfo={show:!0,message:"请填写密码"},r.delayed(function(){this.errorInfo={}}.bind(this)),!1):n.length<8||n.length>16?(this.errorInfo={show:!0,message:"请设置8-16位的密码"},r.delayed(function(){this.errorInfo={}}.bind(this)),!1):r.isCombination(n)?(this.url="resetPwdRegister.action",this.params.account=e,this.params.password=t.hex_md5(n),this.callback=function(e){e.isSuccess&&i.go("forget.forgetPassword_4"),this.errorInfo={show:!0,message:e.message},r.delayed(function(){this.errorInfo={}}.bind(this))},this.commit()):(this.errorInfo={show:!0,message:"请重新设置，密码由数字、字母组合"},r.delayed(function(){this.errorInfo={}}.bind(this)),!1)},o.prototype.doNext_4=function(){window.location.href=basepath+"login.html"},o.prototype.stepOne=function(e){try{this.errorInfo.show=!1;if(!e||!e.account)throw"请输入账号和校验码";if(!r.isMobileOrEmail(e.account))throw"请输入正确的账号（手机号或邮箱）";if(e.bindValue==""||e.bindValue==undefined||e.bindValue.length==null)throw"请输入校验码"}catch(t){return this.errorInfo={show:!0,message:t},r.delayed(function(){this.errorInfo={}}.bind(this)),!1}this.errorInfo={},this.stepBean.kind=r.isMobile(e.account)?0:1,this.stepBean=angular.extend(this.stepBean,e),this.doNext_1(this.stepBean)},o.prototype.initStepTwo=function(e){this.stepBean.account=e,r.isMobile(e)?(this.stepBean.kind="0",this.stepBean.type=1,this.stepBean.mobile=e):r.isEmail(e)&&(this.stepBean.type=2,this.stepBean.email=e),this.stepBean.auto="1",this.stepBean_2=angular.extend(this.stepBean_2,this.stepBean),this.stepBean_2.kind="1",this.stepBean_2.auto="0"},o.prototype.changeType=function(){this.inputType=this.inputType=="password"?"text":"password"},o}])}),define("services/contactPersonService",["serv-init"],function(e){e.service("ContactPersonService",["$rootScope","BaseService","$state","$timeout",function(e,t,n,r){"use strict";function i(e){this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},this.list=[],this.listCopy=[],this.groups=[],this.groupId="",this.pageConf=e,this.pageSize=this.pageConf.pageSize,this.currentPageNo=1,this.noData={show_1:!0,show_2:!1},this.isShowBox=!1,this.groupSelectedIndex=0,this.loadContactGroup(),this.loadPersonList()}return i.prototype=new t,i.prototype.loadContactGroup=function(){var n=this,i=new t;this.groups=[{groupName:"所有",id:""}],i.url="user/list.action",i.params.type="12",i.params.pageSize=1e3,i.params.currentPageNo=1,i.callback=function(t){t.isSuccess?n.groups=n.groups.concat(t.data.list):n.showInfo(t.message),r(function(){e.$broadcast("rebuild-it")},100)},i.commit()},i.prototype.selectGroup=function(e,t){e&&(this.groupId=e.id),this.groupSelectedIndex=t,this.loadPersonList()},i.prototype.loadPersonList=function(){this.params.status=this.groupId,this.params.pageSize=this.pageSize,this.params.type="6",this.params.currentPageNo=this.currentPageNo,this.url="user/list.action",this.callback=function(e){e.isSuccess?(this.list=e.data.list,angular.forEach(this.list,function(e){var t=e.group_name.split(",");t&&t.length>1?e.group_name_str=t[0]+"，"+t[1]+"...":e.group_name_str=e.group_name}),this.pageConf.total=e.data.total):this.showInfo(e.message)},this.commit()},i.prototype.showInfo=function(e){this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e}},i.prototype.deleted=function(e){this.opt={title:"确定删除此联系人？",message:"删除后无法恢复，但您可以再次添加。",isClose:!0,closeBox:function(){this.isShowBox=!1}.bind(this),isButtons:!0,width:520,height:150,buttons:[{caption:"删除",colorClass:"link-orange",callback:function(){this.isShowBox=!1,this.url="user/operationContact.action",this.params={},this.params.contactId=e,this.params.operation="3",this.callback=function(e){e.isSuccess&&this.loadPersonList(),this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()}.bind(this)},{caption:"取消",colorClass:"link-gray",callback:function(){this.isShowBox=!1}.bind(this)}]},this.isShowBox=!0},i.prototype.queryMore=function(e){this.pageConf.currentPage=this.currentPageNo=e||1,this.loadPersonList()},i.prototype.amend=function(e){sessionStorage.setItem("amendContact",JSON.stringify({contactName:e.contact_Name,email:e.email,groupName:e.group_name,id:e.group_id,contactId:e.contact_id})),n.go("user.amendcontactPerson")},i}])}),define("services/contractService",["serv-init"],function(e){e.factory("ContractService",["BaseService","FileUploader","$state","$rootScope","Tools","$stateParams","$timeout",function(e,t,n,r,i,s,o){"use strict";function f(){this.isAll=!1,this.contactBoxShow=!1,this.groups=[{groupName:"所有",id:""}],this.contacts=[],this.keyword="",this.currentType=0,this.drafts=[],this.selectedDraft=null,this.bean={clause:!1,isArbitrate:0,file:null,option:0},this.uploader=null,this.commitAble=!1,this.contactKeyWord="",this.hasUpload=!1,this.groupId="",this.step=0,this.user={email:"",contact_Name:""},this.filename="",this.currentGroupIndex=-1,this.setting={isShowErrorMsg:!1,errorMsg:""},this.locked=!1,this.confirm={showed:!1,buttons:[],context:""},this.userSignature=null,this.isShow=!1,this.signUserType=-1,this.userList=[],this.selectedArr=[]}var u=function(e,t){var n=[];for(var r=0;r<e.length;r++)for(var i=0;i<t.length;i++)e[r]==t[i]&&e[r].selected&&n.push(e[r]);return n},a=null;return f.prototype=new e,f.prototype.showError=function(e){this.setting={isShowErrorMsg:!0,errorMsg:e}},f.prototype.selectSignUserType=function(e){if(e==0){if(r.userInfo.apsCount==0)return this.showError("对不起，您没有购买套餐或套餐已失效"),!1}else if(r.userInfo.empowerApsCount==0)return this.showError("对不起，授权给您的机构没有购买套餐或套餐已失效，请联系机构购买后再试"),!1;this.signUserType=e},f.prototype.showConfirm=function(e,t,i,s){var o=this;this.confirm={showed:!0,buttons:[],context:e};if(t==1)this.confirm.buttons=[{name:"立即认证",foucs:!0,fn:function(){r.userInfo&&(r.userInfo.type==1?n.go("user.personIdentify"):n.go("user.companyIdentify_1"))}},{name:"再等等",foucs:!1,fn:function(){o.confirm.showed=!1}}];else if(t==2)this.confirm.buttons=[{name:"知道了",foucs:!0,fn:function(){o.confirm.showed=!1}}];else if(t==3){var u="";r.userInfo.status==2?u="取消发起":u="立即认证",this.confirm.buttons=[{name:"知情并继续发起",foucs:!0,fn:function(){angular.isFunction(s)&&s.call(this),o.confirm.showed=!1}},{name:u,foucs:!1,fn:function(){r.userInfo.status==2?o.bean.needCa=!o.bean.needCa:r.userInfo.type==1?n.go("user.personIdentify"):r.userInfo.status==0?n.go("user.companyIdentify_1"):n.go("user.checkIdentify"),o.confirm.showed=!1}}]}else t==4?this.confirm.buttons=[{name:"立即添加",foucs:!0,fn:function(){angular.isFunction(s)&&s.call(this),o.confirm.showed=!1}},{name:"取消",foucs:!1,fn:function(){o.confirm.showed=!1}}]:t==5&&(this.confirm.buttons=[{name:"删除",foucs:!0,fn:function(){angular.isFunction(s)&&s.call(this),o.confirm.showed=!1}},{name:"取消",foucs:!1,fn:function(){o.confirm.showed=!1}}]);i&&(this.confirm.title=i)},f.prototype.checkUserSignature=function(){var t=this,n=new e;n.url="user/saveOperateSignature.action",n.params.option=0,n.callback=function(e){e.isSuccess&&(t.userSignature=e.data.defaultSign)},n.commit()},f.prototype.isNeedVer=function(e){e!=undefined&&(e!=2?(this.bean.needCa=!1,this.reminder()):this.bean.needCa=!0)},f.prototype.initFillinContract=function(){this.signType=[{type:3,name:"无序签",desc:"(签署顺序不受限制)"},{type:1,name:"顺序签",desc:"(A->B->C->D)"},{type:2,name:"每人单独签",desc:"(A->B,A->C,A->D)"}],this.contractBean=JSON.parse(sessionStorage.getItem("contractInfo")),this.contractFileName=sessionStorage.getItem("contractFileName");if(this.contractBean!=null&&this.contractBean!="undefined"){this.contractBean.attach=[],this.signUserType=this.contractBean.empowerType,this.bean.clause=this.contractBean.isArbitrate==1?!0:!1,this.contractBean.isVerify==0?this.bean.needCa=!1:this.bean.needCa=!0,this.selectedArr=JSON.parse(sessionStorage.getItem("selectedUserList")),this.userList=JSON.parse(sessionStorage.getItem("contractUserList"));var e=0;for(var n in this.signType){if(this.signType[n].type==this.contractBean.sendKind)break;e++}this.currentIndex=e,this.userList.length>0&&(this.isShow=!0)}else this.userList=[],this.selectedArr=[],this.contractBean={option:1,contactAccounts:"",contactNames:"",signTypes:"-1",isVerify:1,topic:"",sendKind:3,message:"",type:0,finishDate:"",uuid:s.uuid,attach:[]},this.userBean={email:"",contact_Name:""},this.currentIndex=0,this.contractBean.isVerify=this.bean.needCa==1?1:0,this.isNeedVer(r.userInfo.status),r.$watch("userInfo.status",function(e,t,n){this.isNeedVer(e)}.bind(this));this.bean.forever=!0;var i=this;this.uploader=new t({}),this.uploader.filters.push({name:"queueLimit",msg:"最多可添加5个附件",fn:function(){return this.queue.length<5}}),this.uploader.filters.push({name:"sizeFilter",msg:"文件内容不能为空",fn:function(e,t){return e.size!=0}}),this.uploader.filters.push({name:"customFilter",msg:"请上传小于5M的文件",fn:function(e,t){return e.size/1048576<=5}}),this.uploader.filters.push({name:"fileFilter",msg:"文件类型不支持",fn:function(e,t){var n=e.type.slice(e.type.lastIndexOf("/")+1),r=e.name.substring(e.name.lastIndexOf(".")+1,e.name.length);if(r=="wps")return!0;if(n=="")return"doc|docx|wps|pdf|xls|xlsx|x-xls".indexOf(r)!=-1;var i="|"+n+"|";return"|jpeg|png|vnd.openxmlformats-officedocument.wordprocessingml.document|vnd.openxmlformats-officedocument.spreadsheetml.sheet|vnd.ms-excel|msword|doc|docx|wps|pdf|xls|xlsx|x-xls|".indexOf(i)!==-1}}),this.uploader.onAfterAddingFile=function(e){i.bean.file=e._file,i.contractBean.attach.push(e._file)},this.uploader.onWhenAddingFileFailed=function(e,t,n){i.showError(t.msg)},r.$on("USER_INFO_LOADED",function(e,t){i.contractBean.isVerify=i.bean.needCa==1?1:0})},f.prototype.setClause=function(){this.bean.clause=!this.bean.clause,!this.bean.needCa&&this.bean.clause&&(this.bean.clause=!1,this.showError("仲裁条款仅适用于认证用户签署")),this.bean.clause&&this.showConfirm("该合同首页已经添加仲裁条款，请仔细阅读。",2)},f.prototype.isForever=function(){this.bean.forever=!this.bean.forever,this.contractBean.finishDate=this.bean.forever==1?"":this.contractBean.finishDate},f.prototype.isNeedCa=function(){r.userInfo.status!=2?this.reminder():(this.bean.needCa=!this.bean.needCa,this.bean.clause&&!this.bean.needCa&&(this.bean.needCa=!0,this.showError("仲裁条款仅适用于认证用户签署，取消仲裁条款才能选择此项")),this.contractBean.isVerify=this.bean.needCa==1?1:0,this.bean.needCa||this.reminder())},f.prototype.selectType=function(e,t){this.currentIndex=t,this.contractBean.sendKind=e},f.prototype.removeAttach=function(e){this.uploader.queue.splice(e,1),this.contractBean.attach.splice(e,1)},f.prototype.uploadOk=function(){this.locked=!1;if(!a)return!1;a.isSuccess?n.go("user.signing",{uuid:a.data.uuid,from:"file"}):this.showError(a.message)},f.prototype.uploadDraft=function(){if(this.selectedDraft==null)return this.showError("请选择草稿文件。"),!1;n.go("user.signing",{uuid:this.selectedDraft.id,from:"draft"})},f.prototype.selectOne=function(e){this.selectedDraft=e},f.prototype.uploadItem=function(){return this.userSignature==null||!this.userSignature?(this.showConfirm("请先到签名管理页面添加签名后再试！",4,"法大大提醒您",function(){n.go("user.mySignature")}),!1):(this.currentType==0?this.uploadFile():this.currentType==2?this.uploadDraft():this.currentType==3,!1)},f.prototype.loadUserGroup=function(){this.url="user/list.action",this.params.type="12",this.params.pageSize=1e3,this.params.currentPageNo=1,this.callback=function(e){e.isSuccess&&(this.groups=this.groups.concat(e.data.list))},this.commit()},f.prototype.keyQuery=function(e){var t=window.event?e.keyCode:e.which;return t==13&&this.queryContact(),!1},f.prototype.keyup=function(e){var t=window.event?e.keyCode:e.which;if(t==13)return this.queryContact(),!1},f.prototype.queryContact=function(){var t=new e,n=this;n.contacts=[],t.url="user/list.action",t.params.type="6",t.params.keyword=this.contactKeyWord,t.params.pageSize=1e3,t.params.currentPageNo=1,t.params.status=this.groupId,t.callback=function(e){e.isSuccess&&(n.searchShow=!1,n.contactKeyWord="",n.contacts=e.data.list),o(function(){r.$broadcast("rebuild-it")},100)},t.commit()},f.prototype.loadContactsByGroup=function(e,t){var n=this;this.contactKeyWord="",this.currentGroupIndex=t,e&&(this.groupId=e.id),this.queryContact()},f.prototype.removeFromUserList=function(e,t){angular.forEach(this.contacts,function(e,n,r){e.contact_id==t.contact_id&&(e.selected=!1)}.bind(this)),this.userList.splice(e,1)},f.prototype.addAll=function(){var e=this;this.currentGroupIndex>0?this.contacts.length==0?this.showError("该分组下没有联系人。"):angular.forEach(this.contacts,function(t){e.addToUserList(t)}):this.showError("不能一次性添加所有联系人，请选择分组添加。")},f.prototype.enterKey=function(e,t,n){var r=window.event?e.keyCode:e.which;if(r==13)return this.addTempToUserList(t,n),!1},f.prototype.addTempToUserList=function(t,n){if(i.trim(n)=="")return this.showError("签收人姓名/公司不能为空！"),!1;if(!i.isMobile(t)&&!i.isEmail(t))return this.showError("账号为空或格式不对（邮箱或手机号）！"),!1;this.user.email=t,this.user.contact_Name=n;var r=new e;r.url="user/operationContact.action",r.params.contactName=n,r.params.contactAccount=t,r.params.operation=1,r.callback=function(e){e.isSuccess?(this.addToUserList(this.user),this.addBoxShow=!1,this.user={email:"",contact_Name:""}):this.showError(e.message)}.bind(this),r.commit()},f.prototype.addToUserList=function(e){e=angular.extend(e,this.getStatus(e)),e.selected=!0,e.signedWay="-1",this.userList.push(e)},f.prototype.getStatus=function(t){var n=this,r=new e;r.url="user/contactInfo.action",r.params.contactName=t.contact_Name,r.params.contactAccount=t.email,r.callback=function(e){return e.isSuccess?(t=angular.extend(t,e.data),t):(n.showError(e.message),!1)},r.commit()},f.prototype.save=function(){try{if(this.contractBean.topic.trim()=="")throw"请填写合同主题！";if(this.userList.length==0)throw"请添加收件人！";if(r.userInfo.status!=2&&this.bean.needCa)throw"您未实名认证，请选择允许未认证用户签署！";if(r.userInfo.isEmpower=="1"&&this.signUserType==-1)throw"请选择个人/企业章签署。";angular.forEach(this.userList,function(e,t,n){if(e.empower==1&&e.signedWay=="-1")throw"账号"+e.email+"未选择签收人身份"}.bind(this))}catch(e){return this.showError(e),!1}this.saveContract()},f.prototype.reminder=function(){var e="<b>您的账号未认证，目前只能发起不认证签，但存在以下风险:</b><br>",t="签署方中有未经法大大实名认证的用户，可能产生签约主体不明的风险，如需避免此风险，请各签署方进行实名认证。 ";r.userInfo.status!=2&&!this.bean.needCa?this.showConfirm(e+t,3,"风险提示 "):r.userInfo.status==2&&!this.bean.needCa&&this.showConfirm(t,3,"风险提示  ")},f.prototype.saveContract=function(){var e=this;if(this.locked)return!1;this.locked=!0,this.contractBean.contactAccounts=[],this.contractBean.contactNames=[],this.contractBean.signTypes=[],angular.forEach(this.userList,function(e,t){this.contractBean.contactAccounts.push(e.email),this.contractBean.contactNames.push(e.contact_Name),e.empower==0&&e.signedWay==-1&&(e.signedWay=0),this.contractBean.signTypes.push(e.signedWay)}.bind(this)),this.contractBean.isVerify=this.bean.needCa==1?1:0,this.contractBean.contactAccounts=this.contractBean.contactAccounts.join(";"),this.contractBean.contactNames=this.contractBean.contactNames.join(";"),this.contractBean.signTypes=this.contractBean.signTypes.join(";"),this.contractBean.isArbitrate=this.bean.clause==1?1:0,this.contractBean.empowerType=this.signUserType==-1?0:this.signUserType,this.url="user/saveOperateContract.action",this.loadingEable=!1,this.params=this.contractBean,this.callback=function(t){t.isSuccess?(sessionStorage.setItem("contractInfo",JSON.stringify(this.contractBean)),sessionStorage.setItem("contractUserList",JSON.stringify(this.userList)),sessionStorage.setItem("selectedUserList",JSON.stringify(this.selectedArr)),a=t,r.$broadcast("end-progress")):(e.locked=!1,e.showError(t.message))}.bind(this),this.submit()},f.prototype.showContactBox=function(){this.contactBoxShow=!this.contactBoxShow,this.contactBoxShow},f.prototype.contactSigleSelect=function(e){e.selected?(e.selected=!1,angular.forEach(this.userList,function(t,n,r){t.contact_id==e.contact_id&&(this.userList.splice(n,1),this.selectedArr.splice(n,1))}.bind(this))):(e.selected=!0,this.addToUserList(e),this.selectedArr.push(e));var t=0;angular.forEach(this.contacts,function(e,n,r){e.selected&&++t}),t==this.contacts.length?this.isAll=!0:this.isAll=!1},f.prototype.contactSelectAll=function(){this.isAll=!this.isAll;var e=this;angular.forEach(e.contacts,function(t){e.isAll?(t.selected=!0,e.userList.in_array(t)||(e.addToUserList(t),e.selectedArr.push(t))):(t.selected=!1,angular.forEach(e.userList,function(n,r,i){n.contact_id==t.contact_id&&(e.userList.splice(r,1),e.selectedArr.splice(r,1))}))})},f.prototype.selectOver=function(){this.contactBoxShow=!1},f}])}),define("services/addContactPersonService",["serv-init"],function(e){e.service("AddContactPersonService",["BaseService","Tools","$state","$document","$rootScope",function(e,t,n,r,i){"use strict";function s(){this.contactBean={addName:null,addAccount:null},this.errorInfo={show:!1,message:""},this.errorTwoInfo={show:!1,message:""},this.errorThreeInfo={show:!1,message:""},this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},this.listAll=[],this.list=[],this.listId=[],this.showUl=!1,this.dtHtml="请选择",this.loadPersonAllList()}return s.prototype=new e,s.prototype.loadPersonAllList=function(){r.bind("click",function(){this.showUl&&(this.showUl=!1,i.$apply())}.bind(this)),this.params={},this.params.pageSize=1e4,this.params.type="12",this.url="user/list.action",this.callback=function(e){e.isSuccess?this.listAll=e.data.list:this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},s.prototype.getUl=function(e){this.showUl=this.showUl==1?!1:!0,e.stopPropagation()},s.prototype.changeDtHtml=function(e,t){this.dtHtml=e,this.showUl=!1;var n=!0,r=!0;angular.forEach(this.list,function(t){r&&t==e&&(n=!1,r=!1)}),n&&(this.list.push(e),this.listId.push(t))},s.prototype.deletedList=function(e){this.list.splice(e,1),this.listId.splice(e,1),this.list.length==0&&(this.dtHtml="请选择")},s.prototype.add=function(e,n){this.contactBean=angular.extend(this.contactBean,e);if(this.contactBean.addName==""||this.contactBean.addName==null)return this.errorInfo={show:!0,message:"请填写姓名"},t.delayed(function(){this.errorInfo={}}.bind(this)),!1;if(this.contactBean.addAccount==""||this.contactBean.addAccount==null)return this.errorTwoInfo={show:!0,message:"请填写账号"},t.delayed(function(){this.errorTwoInfo={}}.bind(this)),!1;if(!t.isMobileOrEmail(this.contactBean.addAccount))return this.errorTwoInfo={show:!0,message:"请输入正确的账号（手机号或邮箱）"},t.delayed(function(){this.errorTwoInfo={}}.bind(this)),!1;this.params={},this.url="user/operationContact.action",this.params.operation=1,this.params.contactName=this.contactBean.addName,this.params.contactAccount=this.contactBean.addAccount,this.params.newContactGroups=this.listId.join(","),this.callback=function(e){n.call(this,e)},this.commit()},s.prototype.addBtnSave=function(e){this.add(e,function(e){e.isSuccess&&(this.list=[],this.listId=[],this.dtHtml="请选择",this.contactBean={addName:null,addAccount:null}),this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}}.bind(this))},s.prototype.addBtn=function(e){this.add(e,function(e){e.isSuccess?n.go("user.contactPerson"):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}}.bind(this))},s}])}),define("services/amendContactPersonService",["serv-init"],function(e){e.service("AmendContactPersonService",["BaseService","Tools","$state",function(e,t,n){"use strict";function r(){this.errorInfo={show:!1,message:""},this.errorTwoInfo={show:!1,message:""},this.errorThreeInfo={show:!1,message:""},this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},this.listAll=[],this.list=[],this.listId=[],this.showUl=!1,this.dtHtml="请选择",this.init()}return r.prototype=new e,r.prototype.init=function(){this.result=JSON.parse(sessionStorage.getItem("amendContact")),this.result.groupName=="未分组"?this.list=[]:(this.list=this.result.groupName.split(","),this.listId=this.result.id.split(",")),this.params={},this.params.pageSize=1e4,this.params.type="12",this.url="user/list.action",this.callback=function(e){e.isSuccess?this.listAll=e.data.list:this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},r.prototype.getUl=function(){this.showUl=this.showUl==1?!1:!0},r.prototype.changeDtHtml=function(e,t){this.dtHtml=e,this.showUl=!1;var n=!0,r=!0;angular.forEach(this.list,function(t){r&&t==e&&(n=!1,r=!1)}),n&&(this.list.push(e),this.listId.push(t))},r.prototype.deletedList=function(e){this.list.splice(e,1),this.listId.splice(e,1),this.list.length==0&&(this.dtHtml="请选择")},r.prototype.add=function(){return this.result.contactName==""||this.result.contactName==null?(this.errorInfo={show:!0,message:"请填写姓名"},t.delayed(function(){this.errorInfo={}}.bind(this)),!1):this.result.email==""||this.result.email==null?(this.errorTwoInfo={show:!0,message:"请填写账号"},t.delayed(function(){this.errorTwoInfo={}}.bind(this)),!1):t.isMobileOrEmail(this.result.email)?(this.params={},this.url="user/operationContact.action",this.params.operation=2,this.params.contactName=this.result.contactName,this.params.contactAccount=this.result.email,this.params.contactId=this.result.contactId,this.params.newContactGroups=this.listId.join(","),this.callback=function(e){e.isSuccess?n.go("user.contactPerson"):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()):(this.errorTwoInfo={show:!0,message:"请输入正确的账号（手机号或邮箱）"},t.delayed(function(){this.errorTwoInfo={}}.bind(this)),!1)},r}])}),define("services/amendGroupService",["serv-init"],function(e){e.service("AmendGroupService",["BaseService","Tools","$state",function(e,t,n){"use strict";function r(){this.errorInfo={show:!1,message:""},this.errorTwoInfo={show:!1,message:""},this.errorThreeInfo={show:!1,message:""},this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},this.listAll=[],this.list=[],this.listId=[],this.showUl=!1,this.dtHtml="请选择",this.result={},this.init()}return r.prototype=new e,r.prototype.init=function(){this.result=JSON.parse(sessionStorage.getItem("amendGroup")),this.params={},this.params.pageSize=1e4,this.params.type="6",this.url="user/list.action",this.callback=function(e){e.isSuccess?(this.listAll=e.data.list,this.initList()):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},r.prototype.initList=function(){this.result=JSON.parse(sessionStorage.getItem("amendGroup")),this.url="user/list.action",this.params={},this.params.pageSize=1e4,this.params.currentPageNo=1,this.params.status=this.result.id,this.params.type="6",this.callback=function(e){e.isSuccess?angular.forEach(e.data.list,function(e){this.list.push(e.contact_Name),this.listId.push(e.contact_id)}.bind(this)):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},r.prototype.getUl=function(){this.showUl=this.showUl==1?!1:!0},r.prototype.changeDtHtml=function(e,t){this.dtHtml=e,this.showUl=!1;var n=!0,r=!0;angular.forEach(this.listId,function(e){r&&e==t&&(n=!1,r=!1)}),n&&(this.list.push(e),this.listId.push(t))},r.prototype.deletedList=function(e){this.list.splice(e,1),this.listId.splice(e,1),this.list.length==0&&(this.dtHtml="请选择")},r.prototype.add=function(){if(this.result.groupName==""||this.result.groupName==null)return this.errorInfo={show:!0,message:"请填写分组名称"},t.delayed(function(){this.errorInfo={}}.bind(this)),!1;this.params={},this.url="user/operationGroup.action",this.params.operation=2,this.params.id=this.result.id,this.params.groupName=this.result.groupName,this.params.contactIds=this.listId.join(","),this.callback=function(e){e.isSuccess?n.go("user.contactGroup"):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},r}])}),define("services/contactGroupService",["serv-init"],function(e){e.service("ContactGroupService",["BaseService","Tools","$state",function(e,t,n){"use strict";function r(e){this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},this.list=[],this.pageConf=e,this.pageSize=this.pageConf.pageSize,this.noData={show_1:!0,show_2:!1},this.isShowBox=!1,this.loadPersonList()}return r.prototype=new e,r.prototype.loadPersonList=function(){this.params.pageSize=this.pageSize,this.params.type="12",this.url="user/list.action",this.callback=function(e){e.isSuccess?(this.list=e.data.list,this.list.length==0?this.noData={show_1:!1,show_2:!0}:(this.noData={show_1:!0,show_2:!1},this.pageConf.total=e.data.total,this.totalPageCount=e.data.totalPageCount)):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},r.prototype.deleted=function(e){this.opt={title:"确定删除此联系人分组？",message:"删除后无法恢复，但您可以再次添加。",isClose:!0,closeBox:function(){this.isShowBox=!1}.bind(this),isButtons:!0,width:520,height:150,buttons:[{caption:"删除",colorClass:"link-orange",callback:function(){this.isShowBox=!1,this.url="user/operationGroup.action",this.params={},this.params.id=e,this.params.operation="3",this.callback=function(e){e.isSuccess&&this.loadPersonList(),this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()}.bind(this)},{caption:"取消",colorClass:"link-gray",callback:function(){this.isShowBox=!1}.bind(this)}]},this.isShowBox=!0},r.prototype.queryMore=function(e){this.pageConf.currentPage=this.params.currentPageNo=e||1,this.loadPersonList()},r.prototype.amend=function(e){sessionStorage.setItem("amendGroup",JSON.stringify({groupName:this.list[e].groupName,id:this.list[e].id})),n.go("user.amendGroup")},r}])}),define("services/addGroupService",["serv-init"],function(e){e.service("AddGroupService",["BaseService","Tools","$state","$document","$rootScope",function(e,t,n,r,i){"use strict";function s(){this.contactBean={addName:null,addAccount:null},this.errorInfo={show:!1,message:""},this.errorTwoInfo={show:!1,message:""},this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},this.listAll=[],this.list=[],this.listId=[],this.showUl=!1,this.dtHtml="请选择",this.loadPersonAllList()}return s.prototype=new e,s.prototype.loadPersonAllList=function(){r.bind("click",function(){this.showUl&&(this.showUl=!1,i.$apply())}.bind(this)),this.params={},this.params.pageSize=1e4,this.params.type="6",this.url="user/list.action",this.callback=function(e){e.isSuccess?this.listAll=e.data.list:this.showInfo(e.message)},this.commit()},s.prototype.getUl=function(e){this.showUl=this.showUl==1?!1:!0,e.stopPropagation()},s.prototype.changeDtHtml=function(e,t){this.dtHtml=e,this.showUl=!1;var n=!0,r=!0;angular.forEach(this.listId,function(e){r&&e==t&&(n=!1,r=!1)}),n&&(this.list.push(e),this.listId.push(t))},s.prototype.deletedList=function(e){this.list.splice(e,1),this.listId.splice(e,1),this.list.length==0&&(this.dtHtml="请选择")},s.prototype.add=function(e){if(this.contactBean.addName==""||this.contactBean.addName==null)return this.errorInfo={show:!0,message:"请填写分组名称"},t.delayed(function(){this.errorInfo={}}.bind(this)),!1;this.params={},this.url="user/operationGroup.action",this.params.operation=1,this.params.groupName=this.contactBean.addName,this.params.contactIds=this.listId.join(","),this.callback=function(t){t.isSuccess?e?(this.contactBean={addName:null,addAccount:null},this.showInfo(t.message)):n.go("user.contactGroup"):this.showInfo(t.message)},this.commit()},s.prototype.showInfo=function(e){this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e}},s}])}),define("services/baseinfoService",["serv-init","ShaMd5"],function(e,t){e.service("BaseInfoService",["BaseService","Tools","$rootScope","$state","$interval",function(e,n,r,i,s){"use strict";function o(){this.info={},this.settings={},this.voicePara={},this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},this.showTip={shade:!1,password:!1,companyTel:!1},this.errorMsg={isShowErrorMsg:!1,errorMsg:""},this.errorMsg_1={isShowErrorMsg:!1,errorMsg:""},this.errorMsg_2=[{isShowErrorMsg:!1,errorMsg:""},{isShowErrorMsg:!1,errorMsg:""},{isShowErrorMsg:!1,errorMsg:""}],this.inputType={inputTypeOld:"password",inputTypeNew:"text"},this.isShowBox=!1,this.showBox=!1,this.isBox=!1,this.opts={title:"企业信息变更请及时更新",message:"如果您的企业信息发生变更，请及时更新信息，重新提交认证。",isClose:!1,height:160},this.isClick=!0,this.psw={passwordOld:"",passwordNew:"",code:""},this.amendPsw={msg:"获取验证码",isClick:!0,cla:"link-gray-yzm"},this.isIdentify={identify:!1,reIdentify:!1},this.isIdentifyComp={identify:!1,reIdentify:!1},this.iconShow=!1,this.company=!1,this.loadingEable=!1,this.init()}return o.prototype=new e,o.prototype.setParams=function(e){angular.extend(this.info,e),n.isMobile(e.account)?this.info.showEmail=!0:this.info.showEmail=!1,e.type==1?(this.info.typeName="个人账号",e.status==0&&(this.isIdentify.identify=!0),e.status==3&&(this.isIdentify.reIdentify=!0)):(this.info.typeName="企业账号",this.isIdentify={identify:!1,reIdentify:!1},e.status==0&&(this.isIdentifyComp.identify=!0),e.status==3&&(this.isIdentifyComp.reIdentify=!0),this.company=!0,this.info.companyName=e.name,e.hasagent==1?this.info.name=e.agentName:this.info.name=e.legalName),e.status==2?this.iconShow=!0:(this.info.name="",this.info.idCard="",this.info.companyName="")},o.prototype.init=function(){var e=this;this.url="user/infoAccount.action",this.callback=function(t){t.isSuccess?e.setParams(t.data):e.isErrorMsg={isShowErrorMsg:!0,errorMsg:"请刷新页面重试。"}},this.commit(),this.opts.buttons=[{caption:"重新认证",colorClass:"link-orange",callback:function(){i.go("user.companyIdentify_1")}},{caption:"没有变更",colorClass:"link-gray",callback:function(){e.isBox=!1}}]},o.prototype.hint=function(e){this.showMessage=!0,this.info.errorMess=e,n.delayed(function(){this.showMessage=!1}.bind(this))},o.prototype.goIdentify=function(){this.info.type==1?i.go("user.personIdentify"):this.info.type==2&&i.go("user.companyIdentify_1")},o.prototype.toChange=function(e){this.isClick=!0,this.info.yzCode=this.info.bindVal=this.info.bindCode="",e==1?(this.showTitle="手机号",this.settings.type=this.voicePara.type=e,this.settings.kind=0,this.voicePara.kind=1,this.info.mobile?(this.info.changeParam=this.info.mobile,this.isShowBox=!0,this.settings.option=this.voicePara.option=1,this.settings.isUpdate=this.voicePara.isUpdate=!0):(this.showBox=!0,this.settings.option=this.voicePara.option=2,this.settings.isUpdate=this.voicePara.isUpdate=!1)):(this.showTitle="邮箱",this.settings.type=2,this.settings.kind=0,this.info.email?(this.info.changeParam=this.info.email,this.isShowBox=!0,this.settings.option=2,this.settings.isUpdate=!0):(this.showBox=!0,this.settings.option=3,this.settings.isUpdate=!1))},o.prototype.sendCode=function(e){this.params={},e.type==1?(this.url="user/saveGenSms.action",e.mobile!=""&&(this.params.mobile=e.mobile)):(this.url="user/saveGenMail.action",e.email!=""&&(this.params.email=e.email)),this.params.option=e.option,this.params.kind=e.kind,this.callback=function(t){t.isSuccess?(e.kind==0?this.timing():this.voiceTiming(),this.isClick=!1,this.hint(t.message)):this.hint(t.message)},this.commit()},o.prototype.getCode=function(e){this.sendCode(e)},o.prototype.doUpdate=function(){if(this.info.yzCode=="")return this.hint("请填写正确的验证码"),!1;this.settings.type==1?(this.url="user/checkSms.action",this.params.option=1,this.params.sms=this.info.yzCode):(this.url="user/checkMail.action",this.params.option=2,this.params.code=this.info.yzCode),this.params.bindValue="",this.callback=function(e){e.isSuccess?(this.settings.isUpdate=this.voicePara.isUpdate=!1,this.settings.type==1?(this.settings.mobile=this.voicePara.mobile="",this.settings.option=this.voicePara.option=2):(this.settings.email="",this.settings.option=3),this.isShowBox=!1,this.showBox=!0,this.isClick=!0):this.hint(e.message)},this.commit()},o.prototype.toBind=function(){this.url="user/updateInfoAccount.action";if(this.settings.type==1){if(this.info.bindVal==""||!n.isMobile(this.info.bindVal))return this.hint("请填写正确的手机号"),!1;this.params.option=1;var e=this.params.bindValue=this.params.mobile=this.info.bindVal}else{if(this.info.bindVal==""||!n.isEmail(this.info.bindVal))return this.hint("请填写正确的邮箱"),!1;this.params.option=2,this.params.bindValue=this.params.email=this.info.bindVal}if(this.info.bindCode=="")return this.hint("请填写正确的验证码"),!1;this.params.sms=this.info.bindCode,this.callback=function(t){t.isSuccess?(r.newphone=e,sessionStorage.setItem("userphone",e),this.showBox=!1,this.isErrorMsg={isShowErrorMsg:!0,errorMsg:t.message},this.settings.type==1?this.info.mobile=this.info.bindVal.substring(0,3)+"****"+this.info.bindVal.substring(7,11):this.info.email=this.info.bindVal):(this.showMessage=!0,this.info.errorMess=t.message,n.delayed(function(){this.showMessage=!1}.bind(this)))},this.commit()},o.prototype.postContract=function(){this.params={},this.url="user/updateInfoAccount.action",this.params.isPost=this.info.isPostContract==1?0:1,this.params.option=3,this.callback=function(e){e.isSuccess?this.info.isPostContract=this.info.isPostContract==1?0:1:this.isErrorMsg={isShowErrorMsg:!0,errorMsg:"系统异常，暂时不能操作，请稍后重试。"}},this.commit()},o.prototype.addTime=function(e){this.params={},this.url="user/updateInfoAccount.action",this.params.overdueRemindDay=e+1,this.params.option=4,this.callback=function(e){e.isSuccess?this.info.overdueRemindDay++:this.isErrorMsg={isShowErrorMsg:!0,errorMsg:"系统异常，暂时不能操作，请稍后重试。"}},this.commit()},o.prototype.minusTime=function(e){this.info.overdueRemindDay>1&&(this.params={},this.url="user/updateInfoAccount.action",this.params.overdueRemindDay=e-1,this.params.option=4,this.callback=function(e){e.isSuccess?this.info.overdueRemindDay--:this.isErrorMsg={isShowErrorMsg:!0,errorMsg:"系统异常，暂时不能操作，请稍后重试。"}},this.commit())},o.prototype.amendPassword=function(){this.showTip.shade=!0,this.showTip.password=!0},o.prototype.changeType_1=function(){this.inputType.inputTypeOld=this.inputType.inputTypeOld=="password"?"text":"password"},o.prototype.changeType_2=function(){this.inputType.inputTypeNew=this.inputType.inputTypeNew=="password"?"text":"password"},o.prototype.submitPassword=function(e,r,i){var s=this;this.errorMsg_2=[{isShowErrorMsg:!1,errorMsg:""},{isShowErrorMsg:!1,errorMsg:""},{isShowErrorMsg:!1,errorMsg:""}];if(e==""||e==undefined||e==null)return s.errorMsg_2[0]={isShowErrorMsg:!0,errorMsg:"请填写旧密码"},n.delayed(function(){s.errorMsg_2[0]={}}),!1;if(r==""||r==null||r==undefined)return s.errorMsg_2[1]={isShowErrorMsg:!0,errorMsg:"请设置新密码"},n.delayed(function(){s.errorMsg_2[1]={}}),!1;if(r.length<8||r.length>16)return s.errorMsg_2[1]={isShowErrorMsg:!0,errorMsg:"请设置8-16位的密码"},n.delayed(function(){s.errorMsg_2[1]={}}),!1;if(!n.isCombination(r))return s.errorMsg_2[1]={isShowErrorMsg:!0,errorMsg:"请重新设置，密码由数字、字母组合"},n.delayed(function(){s.errorMsg_2[1]={}}),!1;if(i==""||i==null||i==undefined)return s.errorMsg_2[2]={isShowErrorMsg:!0,errorMsg:"请输入验证码"},n.delayed(function(){s.errorMsg_2[2]={}}),!1;this.params={},this.params.oldPwd=t.hex_md5(e),this.params.newPwd=t.hex_md5(r),this.params.sms=i,this.params.option=7,this.url="user/updateInfoAccount.action",this.callback=function(e){e.isSuccess&&(this.closeTip(),this.psw={}),this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},o.prototype.passwordCode=function(){var e=this,t,r=30;this.params={},this.params.option=11;var e=this,i=e.psw.passwordOld,o=e.psw.passwordNew;this.errorMsg_2=[{isShowErrorMsg:!1,errorMsg:""},{isShowErrorMsg:!1,errorMsg:""},{isShowErrorMsg:!1,errorMsg:""}];if(i==""||i==undefined||i==null)return e.errorMsg_2[0]={isShowErrorMsg:!0,errorMsg:"请填写旧密码"},n.delayed(function(){e.errorMsg_2[0]={}}),!1;if(o==""||o==null||o==undefined)return e.errorMsg_2[1]={isShowErrorMsg:!0,errorMsg:"请设置新密码"},n.delayed(function(){e.errorMsg_2[1]={}}),!1;if(o.length<8||o.length>16)return e.errorMsg_2[1]={isShowErrorMsg:!0,errorMsg:"请设置8-16位的密码"},n.delayed(function(){e.errorMsg_2[1]={}}),!1;if(!n.isCombination(o))return e.errorMsg_2[1]={isShowErrorMsg:!0,errorMsg:"请重新设置，密码由数字、字母组合"},n.delayed(function(){e.errorMsg_2[1]={}}),!1;n.isMobile(this.info.account)?this.url="user/saveGenSms.action":this.url="user/saveGenMail.action",this.callback=function(i){if(i.isSuccess){t=s(function(){e.amendPsw={msg:"重新发送("+r+")",isClick:!1,cla:"link-gray-yzm-no"},r--;if(r<=0)return e.amendPsw={msg:"重新发送",isClick:!0,cla:"link-gray-yzm"},s.cancel(t),r=30,!1},1e3);if(n.isMobile(this.info.account)){var o=e.info.account.substr(0,3)+"****"+e.info.account.substr(7);this.errorMsg_2[2]={isShowErrorMsg:!0,errorMsg:"验证码已下发至手机号"+o+"，请查收"}}else this.errorMsg_2[2]={isShowErrorMsg:!0,errorMsg:"验证码已下发至邮箱"+e.info.account+"，请查收，找不到请在垃圾邮件中看看。"}}else this.isErrorMsg={isShowErrorMsg:!0,errorMsg:i.message}},this.commit()},o.prototype.amendEmail=function(){if(this.info.email==""||this.info.email==null||this.info.email==undefined)this.showTip.shade=!0,this.showTip.email_1=!0},o.prototype.amendCompanyAddress=function(){this.showTip.shade=!0,this.showTip.companyAddress=!0},o.prototype.submitCompanyAddress=function(e){if(e==""||e==null||e==undefined)return this.errorMsg_1={isShowErrorMsg:!0,errorMsg:"请填写收件地址"},n.delayed(function(){this.errorMsg_1={}}.bind(this)),!1;if(e.length>25)return this.errorMsg_1={isShowErrorMsg:!0,errorMsg:"收件地址不超过25个字"},n.delayed(function(){this.errorMsg_1={}}.bind(this)),!1;this.params={},this.url="user/updateInfoAccount.action",this.params.receiptAddress=e,this.params.option=5,this.callback=function(e){e.isSuccess?(localStorage.setItem("address",this.params.receiptAddress),this.closeTip(),this.init(),this.isErrorMsg={isShowErrorMsg:!0,errorMsg:"修改成功"}):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:"系统异常，暂时不能操作，请稍后重试。"}},this.commit()},o.prototype.amendCompanyTel=function(){this.showTip.shade=!0,this.showTip.companyTel=!0},o.prototype.submitCompanyTel=function(e){n.isTelephoneOrMobile(e)?(this.params={},this.url="user/updateInfoAccount.action",this.params.companyTel=e,this.params.option=6,this.callback=function(e){e.isSuccess?(this.closeTip(),this.init(),r.$broadcast("RELOAD_USER_INFO"),this.isErrorMsg={isShowErrorMsg:!0,errorMsg:"修改成功"}):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:"系统异常，暂时不能操作，请稍后重试。"}},this.commit()):(this.errorMsg={isShowErrorMsg:!0,errorMsg:"请填写正确的手机号或者座机号"},n.delayed(function(){this.errorMsg={}}.bind(this)))},o.prototype.closeTip=function(){var e=localStorage.getItem("address");e&&e!=this.info.receiptAddress&&(this.info.receiptAddress=e),this.showTip={shade:!1,password:!1,companyTel:!1}},o}])}),define("services/authorizationService",["serv-init","zepto"],function(e,t){e.service("AuthorizationService",["BaseService","$rootScope","Tools",function(e,t,n){"use strict";function r(){this.list=!0,this.listData=[],this.isSelect=!1,this.testcode="",this.mobileShow=!1,this.apiId="",this.account="",this.platform="",this.stepBean={},this.stepBean_2={},this.isShowBox=!1,this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},this.showList={show:!1,msg:""},this.phoneCode=!1,this.isClick=!0,this.isInfo=!1,this.isVoice=!1,this.init()}return t.menuFocus_1=0,t.menuFocus=100,r.prototype=new e,r.prototype.init=function(){this.stepBean.kind="0",this.stepBean.type=1,this.stepBean_2=angular.extend(this.stepBean_2,this.stepBean),this.stepBean_2.kind="1",this.url="user/getAuthApiUserAccount.action",this.callback=function(e){e.isSuccess?e.data.list.length==0?this.showList={show:!0,msg:"您还没有在第三方平台签署过文件"}:(this.phoneCode=!0,this.listData=e.data.list,angular.forEach(this.listData,function(e){e.isSelect=!1})):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},r.prototype.isChoose=function(e,t){angular.forEach(this.listData,function(e,t,n){e.isSelect=!1}.bind(this)),e.isSelect=!e.isSelect,e.isSelect?(this.stepBean_2.mobile=this.stepBean.mobile=this.mobile=e.mobile,this.apiId=e.apiId,this.account=e.account,this.platform=e.platform,this.mobileShow=!0):(this.apiId="",this.mobileShow=!1)},r.prototype.getPlatform=function(){if(!this.mobileShow)return this.isErrorMsg={isShowErrorMsg:!0,errorMsg:"请选择第三方平台"},t.$apply(),!1},r.prototype.getCode=function(e){this.params={},this.url="user/saveGenSms.action";if(this.apiId==""||this.apiId==null)return!1;this.params.apiId=this.apiId,this.params.kind=e.kind,this.params.bindValue=this.account,this.params.option="4",this.callback=function(n){n.isSuccess&&(e.kind==1?(t.$broadcast("notice-runsendvoidecode"),this.isInfo=!0,this.isVoice=!1):(t.$broadcast("notice-runsendcode"),this.isInfo=!1,this.isVoice=!0),this.isClick=!1),this.isErrorMsg={isShowErrorMsg:!0,errorMsg:n.message}},this.commit()},r.prototype.authorization=function(e){this.params={},this.url="user/authApiUserAccount.action";if(this.showList.show)return this.isErrorMsg={isShowErrorMsg:!0,errorMsg:"您还没有在第三方平台签署过文件"},!1;if(this.apiId==""||this.apiId==null)return this.isErrorMsg={isShowErrorMsg:!0,errorMsg:"请选择第三方平台"},!1;if(e==undefined||e==""||e==null)return this.isErrorMsg={isShowErrorMsg:!0,errorMsg:"为了确保是本人操作，请填写手机验证码"},!1;this.params.apiId=this.apiId,this.params.code=e,this.params.authAccount=this.account,this.callback=function(e){e.isSuccess?(t.$broadcast("RELOAD_USER_INFO"),this.init(),this.testcode="",this.mobileShow=!1,this.opt={title:"已完成授权",message:'你已完成对"'+this.platform+'"的授权，现在可以在法大大平台的文件列表查看"'+this.platform+'"的签约数据了',isClose:!0,closeBox:function(){this.isShowBox=!1}.bind(this),isButtons:!0,width:520,height:170,buttons:[{caption:"知道了",colorClass:"link-orange",callback:function(){this.isShowBox=!1}.bind(this)}]},this.isShowBox=!0):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},r}])}),define("services/myPackageService",["serv-init"],function(e){e.service("MyPackageService",["BaseService","$state","$rootScope",function(e,t,n){"use strict";function r(e){this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},this.errorInfo={show:!1,message:""},this.listPackage=[],this.list=[],this.isAll=!1,this.pageConf=e,this.setting={isShowErrorMsg:!1,errorMsg:""},this.pageSize=this.pageConf.pageSize,this.listPackageShow={show_1:!1,show_2:!1},this.totalPageCount=0,this.total=0,this.currentPageNo=1,this.init()}return r.prototype=new e,r.prototype.init=function(){this.url="user/list.action",this.params={},this.params.type="5",this.callback=function(e){this.initList(),e.isSuccess?(this.listPackage=e.data.list,this.totalPageCount=e.data.totalPageCount,this.total=e.data.total,this.listPackage.length==0?this.listPackageShow.show_2=!0:this.listPackageShow.show_1=!0):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},r.prototype.initList=function(){this.url="user/list.action",this.params.pageSize=this.pageSize,this.params.type="13",this.callback=function(e){e.isSuccess?(this.list=e.data.list,this.pageConf.total=e.data.total,this.pageConf.totalPageCount=e.data.totalPageCount,angular.forEach(this.list,function(e,t,n){e.isChecked=!1}.bind(this))):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},r.prototype.queryMore=function(e){this.pageConf.currentPage=this.params.currentPageNo=e||1,this.initList()},r.prototype.apply=function(e){t.go("user.applyInvoice",{id:e})},r.prototype.selectAllOrder=function(){var e=this;e.isAll=!e.isAll,angular.forEach(e.list,function(t,n,r){e.isAll?t.hasReceipt=="false"&&(t.isChecked=!0):t.isChecked=!1})},r.prototype.oneselect=function(e){e.isChecked=!e.isChecked;var t=0,n=0;angular.forEach(this.list,function(e,r,i){e.isChecked&&n++,e.hasReceipt=="true"&&t++}.bind(this)),n+t==this.list.length?this.isAll=!0:this.isAll=!1},r.prototype.applyInvoice=function(){var e=[];angular.forEach(this.list,function(t,n){t.isChecked&&t.hasReceipt=="false"&&e.push(t.id)});if(e.length<=0)this.setting={isShowErrorMsg:!0,errorMsg:"请先勾选订单！"};else{var n=JSON.stringify(e);localStorage.setItem("options",n),t.go("user.applyInvoice",{id:e})}},r}])}),define("services/packageListService",["serv-init"],function(e){e.service("PackageListService",["BaseService","$state",function(e,t){"use strict";function n(e){this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},this.list=[],this.listShow={show_1:!0,show_2:!1},this.init()}return n.prototype=new e,n.prototype.init=function(){this.url="user/list.action",this.params={},this.params.type="3",this.callback=function(e){e.isSuccess?(this.list=e.data.list,this.list.length==0?this.listShow.show_2=!0:this.listShow.show_1=!0):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},n.prototype.gotoPay=function(e){t.go("user.gotoPay",{id:e})},n}])}),define("services/gotoPayService",["serv-init"],function(e){e.service("GotoPayService",["$rootScope","BaseService","$stateParams","$location",function(e,t,n,r){"use strict";function i(e){this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},this.data={},this.timer=null,this.init()}return i.prototype=new t,i.prototype.init=function(){this.url="user/genOrderTrans.action",this.params={},this.params.productId=n.id,this.params.option="3",this.callback=function(e){e.isSuccess?(this.data=e.data,this.wxCode="user/wxUrlTrans.action?wxUrl="+this.data.code):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},i.prototype.doBuy=function(){window.location.href=basepath+"user/gotoPayTrans.action?serialNo="+this.data.trans.serialNo+"&payType=1"},i.prototype.wxFun=function(){this.loadingEable=!1,this.url="user/checkTrans.action",this.params={},this.params.serialNo=this.data.trans.serialNo,this.callback=function(t){t.isSuccess?e.$state.go("user.myPackage"):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:t.message}},this.commit()},i}])}),define("services/applyInvoiceService",["serv-init"],function(e){e.service("ApplyInvoiceService",["BaseService","Tools","$stateParams","$timeout","$rootScope",function(e,t,n,r,i){"use strict";function s(){this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},this.errorInfo=[{show:!1,message:""},{show:!1,message:""},{show:!1,message:""},{show:!1,message:""},{show:!1,message:""},{show:!1,message:""},{show:!1,message:""},{show:!1,message:""},{show:!1,message:""}],this.isShow=!0,this.info={invoiceTitle:"",taxpayerRegNum:"",publcAccountBank:"",publcAccount:"",companyTel:"",companyAddress:"",toPerson:"",toPersonMobile:"",toPersonAddress:"",type:"0",transIds:[],provice:"",city:"",area:""},this.init()}return s.prototype=new e,s.prototype.init=function(){this.info.toPersonAddress=i.userInfo.receiptAddress},s.prototype.tab_1=function(){this.isShow=!0,this.info.type="0"},s.prototype.tab_2=function(){this.isShow=!1,this.info.type="1"},s.prototype.submitInfo=function(){var e=this;e.errorInfo=[{show:!1,message:""},{show:!1,message:""},{show:!1,message:""},{show:!1,message:""},{show:!1,message:""},{show:!1,message:""},{show:!1,message:""},{show:!1,message:""},{show:!1,message:""}];if(e.info.invoiceTitle==undefined||e.info.invoiceTitle==null||e.info.invoiceTitle=="")return e.errorInfo[0]={show:!0,message:"请填写发票抬头"},t.delayed(function(){e.errorInfo[0]={}}),!1;if(t.isStrip(e.info.invoiceTitle))return e.errorInfo[0]={show:!0,message:"发票抬头不能含有特殊字符"},t.delayed(function(){e.errorInfo[0]={}}),!1;if(e.info.type==0){if(e.info.taxpayerRegNum==undefined||e.info.taxpayerRegNum==null||e.info.taxpayerRegNum=="")return e.errorInfo[1]={show:!0,message:"请填写纳税人识别号"},t.delayed(function(){e.errorInfo[1]={}}),!1;if(t.isStrip(e.info.taxpayerRegNum))return e.errorInfo[1]={show:!0,message:"请填写纳税人识别号不能含有特殊字符"},t.delayed(function(){e.errorInfo[1]={}}),!1;if(e.info.publcAccountBank==undefined||e.info.publcAccountBank==null||e.info.publcAccountBank=="")return e.errorInfo[2]={show:!0,message:"请填写对公账号开户银行"},t.delayed(function(){e.errorInfo[2]={}}),!1;if(t.isStrip(e.info.publcAccountBank))return e.errorInfo[2]={show:!0,message:"请填写对公账号开户银行不能含有特殊字符"},t.delayed(function(){e.errorInfo[2]={}}),!1;if(e.info.publcAccount==undefined||e.info.publcAccount==null||e.info.publcAccount=="")return e.errorInfo[3]={show:!0,message:"请填写对公账号"},t.delayed(function(){e.errorInfo[3]={}}),!1;if(t.isStrip(e.info.publcAccount))return e.errorInfo[3]={show:!0,message:"请填写对公账号不能含有特殊字符"},t.delayed(function(){e.errorInfo[3]={}}),!1;if(e.info.companyTel==undefined||e.info.companyTel==null||e.info.companyTel=="")return e.errorInfo[4]={show:!0,message:"请填写公司电话"},t.delayed(function(){e.errorInfo[4]={}}),!1;if(!t.isTelephoneOrMobile(e.info.companyTel))return e.errorInfo[4]={show:!0,message:"请填写正确的公司电话（手机号或者座机）"},t.delayed(function(){e.errorInfo[4]={}}),!1;if(e.info.companyAddress==undefined||e.info.companyAddress==null||e.info.companyAddress=="")return e.errorInfo[5]={show:!0,message:"请填写公司地址"},t.delayed(function(){e.errorInfo[5]={}}),!1;if(t.isStrip(e.info.companyAddress))return e.errorInfo[5]={show:!0,message:"公司地址不能含有特殊字符"},t.delayed(function(){e.errorInfo[5]={}}),!1}if(e.info.toPerson==undefined||e.info.toPerson==null||e.info.toPerson=="")return e.errorInfo[6]={show:!0,message:"请填写收件人"},t.delayed(function(){e.errorInfo[6]={}}),!1;if(!t.isCnEn(e.info.toPerson))return e.errorInfo[6]={show:!0,message:"收件人姓名只允许英文或汉字"},t.delayed(function(){e.errorInfo[6]={}}),!1;if(e.info.toPersonMobile==undefined||e.info.toPersonMobile==null||e.info.toPersonMobile=="")return e.errorInfo[7]={show:!0,message:"请填写收件人手机号"},t.delayed(function(){e.errorInfo[7]={}}),!1;if(!t.isMobile(e.info.toPersonMobile))return e.errorInfo[7]={show:!0,message:"请填写正确的收件人手机号"},t.delayed(function(){e.errorInfo[7]={}}),!1;if(e.info.toPersonAddress==undefined||e.info.toPersonAddress==null||e.info.toPersonAddress=="")return e.errorInfo[8]={show:!0,message:"请填写地址"},t.delayed(function(){e.errorInfo[8]={}}),!1;if(t.isStrip(e.info.toPersonAddress))return e.errorInfo[8]={show:!0,message:"地址不能含有特殊字符"},t.delayed(function(){e.errorInfo[8]={}}),!1;var n=localStorage.getItem("options"),s="";s=JSON.parse(n),n=s.join(","),this.url="user/receiptTrans.action",this.params={};var o=this.info.provice.name,u=this.info.city.name,a=this.info.area.name,f=o+","+u+","+a;this.info.type==0?angular.extend(this.params,this.info):(this.params.invoiceTitle=this.info.invoiceTitle,this.params.toPerson=this.info.toPerson,this.params.toPersonMobile=this.info.toPersonMobile,this.params.toPersonAddress=this.info.toPersonAddress,this.params.type=this.info.type),this.params.transIds=n,this.params.position=f,this.callback=function(e){e.isSuccess?(this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message},r(function(){i.$state.go("user.myPackage")},2e3)):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},s}])}),define("services/mySignatureService",["serv-init"],function(e){e.service("MySignatureService",["BaseService","$rootScope",function(e,t){"use strict";function r(e){this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},this.list=[],this.authList=[],this.isShowBox=!1,this.init()}var n=0;return r.prototype=new e,r.prototype.getStyle=function(e){return{"background-image":"url(data:image/jpg;base64,"+e+")","background-repeat":"no-repeat","background-position":"center center","background-size":"contain"}},r.prototype.init=function(){var e=this;this.params={},this.params.type="4",this.url="user/list.action",this.callback=function(t){t.isSuccess?(this.list=t.data.list,angular.forEach(this.list,function(t){t.style=e.getStyle(t.imagebase64)})):this.showInfo(t.message)},this.commit()},r.prototype.defInit=function(){var t=this,n=new e;n.params.type="16",n.url="user/list.action",n.callback=function(e){if(e.isSuccess){var n=new Image;t.authList=e.data.list,angular.forEach(t.authList,function(e){e.style=t.getStyle(e.imagebase64)})}else t.showInfo(e.message)},n.commit()},r.prototype.setDef=function(t){var n=new e,r=this,i=this.authList.indexOf(t);n.params={},n.params.id=t.id,n.params.option="3",n.params.empowerType="1",n.url="user/saveOperateSignature.action",n.callback=function(e){if(e.isSuccess){angular.forEach(r.authList,function(e){e.defaultFlag=0}),t.defaultFlag=1;var n=r.authList[0];r.authList[0]=t,r.authList[i]=n}else r.showInfo(e.message)},n.commit()},r.prototype.setDefault=function(e){var t=this.list.indexOf(e),n=this;this.params={},this.params.id=e.id,this.params.option="3",this.url="user/saveOperateSignature.action",this.callback=function(r){if(r.isSuccess){angular.forEach(n.list,function(e){e.defaultFlag=0}),e.defaultFlag=1;if(e.id!=-1){var i=n.list[1];n.list[1]=e,n.list[t]=i}}else this.showInfo(r.msg)},this.commit()},r.prototype.showInfo=function(e){this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e}},r.prototype.doDeleted=function(e,t){this.isShowBox=!1,this.params={},this.params.id=e.id,this.params.option="2",this.url="user/saveOperateSignature.action",this.callback=function(n){n.isSuccess&&(this.list.splice(t,1),e.defaultFlag==1&&(self.list[0].defaultFlag=1)),this.showInfo(n.message)},this.commit()},r.prototype.deleted=function(e){var t=this.list.indexOf(e),n=this;if(e.status==2)return n.doDeleted(e,t),!1;this.opt={title:"确定删除此签章样式？",message:"删除后不可恢复，请三思。",isClose:!0,closeBox:function(){this.isShowBox=!1}.bind(this),isButtons:!0,width:520,height:150,buttons:[{caption:"删除",colorClass:"link-orange",callback:function(){n.doDeleted(e,t)}},{caption:"取消",colorClass:"link-gray",callback:function(){this.isShowBox=!1}.bind(this)}]},this.isShowBox=!0},r}])}),define("services/addSignatureService",["serv-init"],function(e){e.service("AddSignatureService",["BaseService","$state","$rootScope","$http",function(e,t,n,r){"use strict";function i(){this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},this.img={name:null,msg:"请上传正确格式及大小的签章图片",path:null},this.imgFormat=[".PNG"],this.imgUrl="",this.orCode="",this.imgWidth="",this.stateImgCode="srcImg",this.uuid="",this.addCancel=!0}return i.prototype=new e,i.prototype.submitForm=function(){if(this.img.name==null)return this.isErrorMsg={isShowErrorMsg:!0,errorMsg:"请上传正确格式及大小的签章图片"},!1;this.url="user/saveUploadSignature.action",this.params.file=this.img.path;var e=this;this.callback=function(e){e.isSuccess?t.go("user.mySignature"):(this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message},n.$apply())}.bind(this),this.submit()},i.prototype.hideBox=function(e){this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e}},i.prototype.orImgCode=function(e){this.stateImgCode=e,e==="or"&&(this.uuid=Math.random(),this.addCancel=!0,this.orCode="getQrCode?createKind=handWriteCode&uuid="+this.uuid)},i.prototype.renovate=function(){this.params={},this.url="checkQrCode.action",this.params.uuid=this.uuid,this.params.createKind="handWriteSign",this.callback=function(e){e.isSuccess&&(this.addCancel=!1,this.orCode=e.data.handWriteSign),this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},i.prototype.addSigntureCode=function(){if(this.addCancel){this.isErrorMsg={isShowErrorMsg:!0,errorMsg:"点击二维码下方的'刷新'字样"};return}this.params={},this.url="user/saveUploadHandWriteSignature.action",this.params.uuid=this.uuid,this.params.CSRFToken=$("#csrfTokenForm").find("input").val(),this.params.imgBase64=this.orCode,this.callback=function(e){e.isSuccess&&t.go("user.mySignature"),this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},i}])}),define("services/authorizationRepresentativeService",["serv-init"],function(e){e.service("AuthorizationRepresentativeService",["BaseService","$state","$rootScope",function(e,t,n){"use strict";function r(){this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},this.list=[],this.listShow=!1,this.isShowBox=!1,this.loading=!1,this.messageTip="",this.init()}return r.prototype=new e,r.prototype.init=function(){this.params={},this.params.type="14",this.url="user/list.action",this.callback=function(e){e.isSuccess?(this.list=e.data.list,this.list.length==0&&(this.listShow=!0)):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},r.prototype.add=function(){t.go("user.addAuRep",{step:"0"})},r.prototype.editor=function(e){t.go("user.addAuRep",{step:"2"}),sessionStorage.setItem("authorization",JSON.stringify(e))},r.prototype.check=function(e){t.go("user.addAuRep",{step:"1"}),sessionStorage.setItem("authorization",JSON.stringify(e))},r.prototype.authorization=function(e){this.loading=!0,this.url="user/saveOperateEmpowerCompany.action",this.params={},this.params.operate="2",this.params.id=this.list[e].id,this.callback=function(t){t.isSuccess&&(this.opt={title:"授权协议已发出",message:"正在等待被授权人签署授权协议，签署完成即授权完成，授权结果请留意短信通知",isClose:!0,closeBox:function(){this.isShowBox=!1}.bind(this),isButtons:!0,width:520,height:170,buttons:[{caption:"确定",colorClass:"link-orange",callback:function(){this.isShowBox=!1}.bind(this)}]},this.isShowBox=!0,this.list[e].status=2),this.loading=!1,this.isErrorMsg={isShowErrorMsg:!0,errorMsg:t.message}},this.commit()},r.prototype.undo=function(e){var t=this;this.opt={title:"确定撤回此授权？",message:"授权一旦撤回，此被授权人无法代表企业进行签名业务，但撤回后可以再次授权",isClose:!0,closeBox:function(){this.isShowBox=!1}.bind(this),isButtons:!0,width:520,height:170,buttons:[{caption:"确定",colorClass:"link-orange",callback:function(){t._undo(e)}}]},this.isShowBox=!0},r.prototype._undo=function(e){this.url="user/saveOperateEmpowerCompany.action",this.params={},this.params.operate="3",this.params.id=this.list[e].id,this.callback=function(t){t.isSuccess&&(n.$broadcast("RELOAD_USER_INFO"),this.list[e].status=0),this.isErrorMsg={isShowErrorMsg:!0,errorMsg:t.message}},this.commit(),this.isShowBox=!1},r.prototype.deleted=function(e,t){if(t==1)return this.isErrorMsg={isShowErrorMsg:!0,errorMsg:"此章已授权给其他账号使用，暂不能删除，请撤回这个章的所有授权后再试试"},!1;this.messageTip="删除后，您可以重新再添加，现在删除吗？",this.opt={title:"确定删除此代表人？",message:this.messageTip,isClose:!0,closeBox:function(){this.isShowBox=!1}.bind(this),isButtons:!0,width:520,height:170,buttons:[{caption:"确定",colorClass:"link-orange",callback:function(){this.isShowBox=!1,this.params={},this.params.operate="4",this.params.id=this.list[e].id,this.url="user/saveOperateEmpowerCompany.action",this.callback=function(t){t.isSuccess&&(this.list.splice(e,1),this.list.length==0&&(this.listShow=!0)),this.isErrorMsg={isShowErrorMsg:!0,errorMsg:t.message}},this.commit()}.bind(this)},{caption:"取消",colorClass:"link-gray",callback:function(){this.isShowBox=!1}.bind(this)}]},this.isShowBox=!0},r}])}),define("services/addAuRepService",["serv-init"],function(e){e.service("AddAuRepService",["BaseService","Tools","$rootScope","$stateParams","$document",function(e,t,n,r,i){"use strict";function s(){this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},this.boxName="授权类型",this.boxList=["公司章","人事章","财务章","采购章","合同章","自定义章"],this.boxHtml="公司章",this.showUl=!1,this.imgList=[],this.uploadImg=!1,this.listShow={show_1:!0,show_2:!1},this.signType="公司章",this.errorInfo=[{show:!1,message:""},{show:!1,message:""},{show:!1,message:""},{show:!1,message:""},{show:!1,message:""}],this.info={department:"",name:"",account:"",mobile:""},this.isDisable=!0,this.isClick=!0,this.list={},this.loadingEable=!1,this.init()}return s.prototype=new e,s.prototype.init=function(){r.step==0&&(this.imgList=[{imagebase64:basepath+"user/picSignature",isHover:!0}]),this.list=JSON.parse(sessionStorage.getItem("authorization")),r.step==1?(this.title="代表人信息",this.isDisable=!0,this.isClick=!1,this.info={department:this.list.deptName,name:this.list.personName,account:this.list.personEmail,mobile:this.list.mobile,id:this.list.signatureId},this.boxHtml=this.list.signType,this.uploadImg=!0,this.listShow={show_1:!0,show_2:!1},this.boxHtml=="公司章"?this.imgList=[{imagebase64:basepath+"user/picSignature",isHover:!0}]:this.boxHtml=="自定义章"?this.imgList=[{imagebase64:"data:image/jpg;base64,"+this.list.imagebase64,isHover:!0}]:this.imgList=[{imagebase64:basepath+"user/picSignature?signType="+this.boxHtml,isHover:!0}]):r.step==2?(this.title="编辑代表人",this.isDisable=!1,this.isClick=!0,this.info={department:this.list.deptName,name:this.list.personName,account:this.list.personEmail,mobile:this.list.mobile,id:this.list.signatureId},this.boxHtml=this.list.signType,this.uploadImg=!0,this.listShow={show_1:!0,show_2:!1},this.getImg(this.boxHtml)):(this.title="新增代表人",this.isDisable=!1,this.isClick=!0,this.uploadImg=!0)},s.prototype.getImg=function(e){e=="公司章"?(this.listShow={show_1:!0,show_2:!1},this.imgList=[{imagebase64:basepath+"user/picSignature",isHover:!0}],this.signType=e):e=="自定义章"?(this.params={},this.params.type="4",this.params.status="1",this.url="user/list.action",this.callback=function(t){t.isSuccess?(this.imgList=t.data.list,angular.forEach(this.imgList,function(e,t){e.id==-1&&this.imgList.splice(t,1)}.bind(this)),angular.forEach(this.imgList,function(t,n){r.step==2?this.info.id==""?this.imgList[0].isHover=!0:t.id==this.info.id?(t.isHover=!0,this.signType=e+"_"+t.id):t.isHover=!1:r.step==0&&(n==0?(t.isHover=!0,this.signType=e+"_"+t.id):t.isHover=!1),t.imagebase64="data:image/jpg;base64,"+t.imagebase64}.bind(this)),this.imgList.length==0&&(this.listShow={show_1:!1,show_2:!0},this.signType="自定义章")):(this.listShow={show_1:!0,show_2:!1},this.isErrorMsg={isShowErrorMsg:!0,errorMsg:t.message})},this.commit()):(this.listShow={show_1:!0,show_2:!1},this.imgList=[{imagebase64:basepath+"user/picSignature?signType="+e,isHover:!0}],this.signType=e)},s.prototype.setHover=function(e){angular.forEach(this.imgList,function(t,n){n==e?(t.isHover=!0,this.signType="自定义章_"+t.id):t.isHover=!1}.bind(this))},s.prototype.save=function(){var e=this;e.errorInfo=[{show:!1,message:""},{show:!1,message:""},{show:!1,message:""},{show:!1,message:""},{show:!1,message:""}];if(e.info.department=="")return e.errorInfo[0]={show:!0,message:"请填写代表人所在部门"},t.delayed(function(){e.errorInfo[0]={}}),!1;if(e.info.name=="")return e.errorInfo[1]={show:!0,message:"请填写代表人姓名"},t.delayed(function(){e.errorInfo[1]={}}),!1;if(e.info.account=="")return e.errorInfo[2]={show:!0,message:"请填写代表人账号"},t.delayed(function(){e.errorInfo[2]={}}),!1;if(!t.isMobileOrEmail(e.info.account))return this.errorInfo[2]={show:!0,message:"请填写代表人正确的账号（邮箱或者手机号）"},t.delayed(function(){e.errorInfo[2]={}}),!1;if(e.info.mobile=="")return e.errorInfo[3]={show:!0,message:"请填写代表人联系手机号"},t.delayed(function(){e.errorInfo[3]={}}),!1;if(!t.isMobile(e.info.mobile))return e.errorInfo[3]={show:!0,message:"请填写正确的代表人联系手机号"},t.delayed(function(){e.errorInfo[3]={}}),!1;if(r.step!=1&&e.signType=="自定义章")return e.errorInfo[4]={show:!0,message:"请选择授权章图片"},t.delayed(function(){e.errorInfo[4]={}}),!1;this.params={},r.step==2&&(this.params.id=this.list.id),this.params.operate="1",this.params.deptName=this.info.department,this.params.personName=this.info.name,this.params.personEmail=this.info.account,this.params.mobile=this.info.mobile,this.params.signType=this.signType,this.url="user/saveOperateEmpowerCompany.action",this.callback=function(e){e.isSuccess?n.$state.go("user.authorizationRepresentative"):(this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message},n.$apply())}.bind(this),this.submit()},s.prototype.hideBox=function(e){this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e}},s}])}),define("services/caInfoService",["serv-init"],function(e){e.service("CaInfoService",["BaseService",function(e){"use strict";function t(){this.info={},this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""},this.init()}return t.prototype=new e,t.prototype.init=function(){this.params={},this.url="user/caInfo.action",this.callback=function(e){e.isSuccess?(this.info=e.data.cert,this.info.oo=="ShenZhen Certificate Authority"?(this.info.step="",this.info.isHide=!1):(this.info.step="CFCA证书查询：复制序列号-》点击验证-》点击上边菜单“证书查询”-》输入（用户名、证书序列号）-》查询",this.info.isHide=!0)):this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},t.prototype.verify=function(){this.info.oo=="ShenZhen Certificate Authority"?window.open("http://www.szca.com.cn/service/Business/search/index.html"):window.open("https://cs.cfca.com.cn//cgi-bin/certQuery/v_input.do")},t}])}),define("services/customerCheckService",["serv-init"],function(e){e.factory("CustomerCheckService",["BaseService","$timeout","$state","$rootScope","Tools","$stateParams","$location",function(e,t,n,r,i,s,o){"use strict";function u(e){this.baseparam={},this.list={},this.pageConf=e,this.pageSize=this.pageConf.pageSize||8,this.params.pageSize=this.pageSize,this.params.currentPageNo=1,this.topSign=!1,this.isShowUrl=!0,this.isThree=!0,this.customer={isThreeCert:0,hasAgent:0,forever:!0},this.imgList={licImg:null,orgImg:null,regImg:null,regImg_1:null,legImg:null,idcImg:null},this.imgBaseUrl="user/picQualificationCompany/",this.errorInfo={errorMsg:"",isShowErrorMsg:!1},o.url().indexOf("customerList")>-1?this.init():o.url().indexOf("addCustomer")>-1?s.id!=-1&&this.getInfo(1):o.url().indexOf("customerDetail")>-1&&this.getInfo(0),this.word=["请填写正确的客户来源唯一标识","请填写正确的企业名称","请填写正确的统一社会信用代码","请填写正确的登录账号","请填写正确的登录密码","请填写正确的电话","请填写正确的营业执照注册号","请填写正确的组织机构代码","请填写正确的营业执照注册时间","请填写正确的营业执照有效时间","请填写正确的营业执照地址","请上传正确大小及格式的营业执照副本图片","请上传正确大小及格式的组织机构代码证图片","请上传正确大小及格式的证件执照副本图片","请上传正确大小及格式的申请表第一页","请上传正确大小及格式的申请表第二页","请填写正确的法定代表人姓名","请填写正确的法定代表人身份证号","请填写正确的法定代表人手机号","请填写正确的法定代表人邮箱","请上传正确大小及格式的法定代表人身份证图片","请填写正确的代理人姓名","请填写正确的代理人身份证号","请填写正确的代理人手机号","请填写正确的代理人邮箱","请上传正确大小及格式的代理人身份证图片"]}return u.prototype=new e,u.prototype.init=function(){this.getparam(),this.getList()},u.prototype.getInfo=function(e){this.url="user/getQualificationCompany.action",this.params.companyId=s.id,this.callback=function(t){this.customer=angular.extend(this.customer,t.data.company),this.customer.status=t.data.status,this.customer.agentEmail=t.data.agentEmail,e==0?this.customer.endTime==""&&(this.customer.endTime="永久 "):this.customer.endTime==""?this.customer.forever=!0:this.customer.forever=!1,this.customer.isThreeCert==0&&(this.imgList.licImg=this.imgBaseUrl+this.customer.licenseFile),this.imgList.orgImg=this.imgBaseUrl+this.customer.organizationFile,o.url().indexOf("customerDetail")>-1&&(this.imgList.regImg=this.imgBaseUrl+this.customer.regFormFile,this.imgList.regImg_1=this.imgBaseUrl+this.customer.regFormFile_1),this.imgList.legImg=this.imgBaseUrl+this.customer.legalIdCardFile,this.customer.hasAgent==1&&(this.imgList.idcImg=this.imgBaseUrl+this.customer.idCardFile)},this.commit()},u.prototype.getparam=function(){var t=this,n=new e;n.url="user/getQualificationCompany.action",n.callback=function(e){t.baseparam=e.data},n.commit()},u.prototype.getList=function(){this.url="user/list.action",this.params.keyword=this.conditions?this.conditions:"",this.params.type="17",this.params.pageNo=this.params.currentPageNo,this.pageConf.currentPage=this.params.currentPageNo,this.callback=function(e){this.list=e.data.list,this.pageConf.total=e.data.total,this.totalPageCount=e.data.totalPageCount},this.commit()},u.prototype.queryMore=function(e){this.params.currentPageNo=e,this.getList()},u.prototype.doSearchAccount=function(t){if($.trim(t)==undefined||$.trim(t)==""||!i.isEmail($.trim(t)))return this.errorInfo={errorMsg:this.word[3],isShowErrorMsg:!0},!1;var n=new e;n.url="user/contactInfo.action",n.params.contactAccount=t,n.callback=function(e){e.isSuccess?e.data.register==1&&(this.customer.account="",this.errorInfo={errorMsg:"账号已存在",isShowErrorMsg:!0}):this.errorInfo={errorMsg:e.message,isShowErrorMsg:!0}}.bind(this),n.commit()},u.prototype.doSearch=function(){this.params.pageNo=this.pageConf.currentPage=this.params.currentPageNo=1,this.params.keyword=this.conditions?this.conditions:"",this.params.type="17",this.url="user/list.action",this.callback=function(e){this.list=e.data.list,this.pageConf.total=e.data.total,this.totalPageCount=e.data.totalPageCount},this.commit()},u.prototype.saveUrl=function(){if(this.baseparam.url=="")return this.errorInfo={errorMsg:"请输入正确的服务器配置（回调URL）",isShowErrorMsg:!0},!1;this.url="user/saveQualificationCompany.action",this.params.operation=1,this.params.url=this.baseparam.url,this.callback=function(e){e.isSuccess?this.isShowUrl=!0:(this.errorInfo={errorMsg:e.message,isShowErrorMsg:!0},r.$apply())},this.commit()},u.prototype.checkFile=function(){this.imgList.licImg?this.imgList.licImg.indexOf("blob:http")<=-1&&(this.params.licenseFile=null):this.params.licenseFile=null,this.imgList.orgImg.indexOf("blob:http")<=-1&&(this.params.organizationFile=null),this.imgList.regImg.indexOf("blob:http")<=-1&&(this.params.regFormFile=null),this.imgList.regImg_1.indexOf("blob:http")<=-1&&(this.params.regFormFile_1=null),this.imgList.legImg.indexOf("blob:http")<=-1&&(this.params.legalIdCardFile=null),this.imgList.idcImg?this.imgList.idcImg.indexOf("blob:http")<=-1&&(this.params.idCardFile=null):this.params.idCardFile=null},u.prototype.isForever=function(){this.customer.forever=!this.customer.forever,this.customer.forever&&(this.customer.endTime="")},u.prototype.saveCustomer=function(){this.checkInfo()&&(this.url="user/saveQualificationCompany.action",this.customer.forever&&(this.customer.endTime=""),this.params=this.customer,this.params.operation=2,s.id!=-1&&(this.params.operation=3,this.params.companyId=s.id,this.checkFile()),this.loadingEable=!0,this.callback=function(e){e.isSuccess?n.go("user.customerList"):(this.errorInfo={errorMsg:e.message,isShowErrorMsg:!0},r.$apply())}.bind(this),this.submit())},u.prototype.seeDetail=function(e,t){n.go("user.customerDetail",{id:e.companyId}),t.stopPropagation(),t.preventDefault()},u.prototype.updateInfo=function(e,t){t.stopPropagation(),t.preventDefault(),n.go("user.addCustomer",{id:e.companyId})},u.prototype.checkInfo=function(){if($.trim(this.customer.platformId)==undefined||$.trim(this.customer.platformId)=="")return this.errorInfo={errorMsg:this.word[0],isShowErrorMsg:!0},!1;if($.trim(this.customer.companyName)==undefined||$.trim(this.customer.companyName)=="")return this.errorInfo={errorMsg:this.word[1],isShowErrorMsg:!0},!1;if(this.customer.isThreeCert==1)if($.trim(this.customer.organization)==undefined||$.trim(this.customer.organization)==""||$.trim(this.customer.organization).length>30||$.trim(this.customer.organization).length<18)return this.errorInfo={errorMsg:this.word[2],isShowErrorMsg:!0},!1;if($.trim(this.customer.account)==undefined||$.trim(this.customer.account)==""||!i.isEmail($.trim(this.customer.account)))return this.errorInfo={errorMsg:this.word[3],isShowErrorMsg:!0},!1;if($.trim(this.customer.companyPhone)!=undefined&&$.trim(this.customer.companyPhone)!=""&&!i.checkPhone($.trim(this.customer.companyPhone)))return this.errorInfo={errorMsg:this.word[5],isShowErrorMsg:!0},!1;if(this.customer.isThreeCert==0){if($.trim(this.customer.license)==undefined||$.trim(this.customer.license)==""||$.trim(this.customer.license).length>30||$.trim(this.customer.license).length<5)return this.errorInfo={errorMsg:this.word[6],isShowErrorMsg:!0},!1;if($.trim(this.customer.organization)==undefined||$.trim(this.customer.organization)==""||$.trim(this.customer.organization).length!=9)return this.errorInfo={errorMsg:this.word[7],isShowErrorMsg:!0},!1}if($.trim(this.customer.beginTime)==undefined||$.trim(this.customer.beginTime)=="")return this.errorInfo={errorMsg:this.word[8],isShowErrorMsg:!0},!1;if(!this.customer.forever){if($.trim(this.customer.endTime)==undefined||$.trim(this.customer.endTime)=="")return this.errorInfo={errorMsg:this.word[9],isShowErrorMsg:!0},!1;if(!i.checkTime(this.customer.beginTime,this.customer.endTime))return this.errorInfo={errorMsg:"营业执照有效起始时间不能大于等于截止时间",isShowErrorMsg:!0},!1}if($.trim(this.customer.licenseAdr)==undefined||$.trim(this.customer.licenseAdr)=="")return this.errorInfo={errorMsg:this.word[10],isShowErrorMsg:!0},!1;if(this.customer.isThreeCert==0){if(this.imgList.licImg==undefined)return this.errorInfo={errorMsg:this.word[11],isShowErrorMsg:!0},!1;if(this.imgList.licImg.indexOf("blob:http")<=-1&&this.imgList.licImg.indexOf("picQualificationCompany")<=-1)return this.errorInfo={errorMsg:this.word[11],isShowErrorMsg:!0},!1;if(this.imgList.orgImg==undefined)return this.errorInfo={errorMsg:this.word[12],isShowErrorMsg:!0},!1;if(this.imgList.orgImg.indexOf("blob:http")<=-1&&this.imgList.orgImg.indexOf("picQualificationCompany")<=-1)return this.errorInfo={errorMsg:this.word[12],isShowErrorMsg:!0},!1}if(this.customer.isThreeCert==1){if(this.imgList.orgImg==undefined)return this.errorInfo={errorMsg:this.word[13],isShowErrorMsg:!0},!1;if(this.imgList.orgImg.indexOf("blob:http")<=-1&&this.imgList.orgImg.indexOf("picQualificationCompany")<=-1)return this.errorInfo={errorMsg:this.word[13],isShowErrorMsg:!0},!1}if(this.imgList.regImg==undefined)return this.errorInfo={errorMsg:this.word[14],isShowErrorMsg:!0},!1;if(this.imgList.regImg.indexOf("blob:http")<=-1&&this.imgList.regImg.indexOf("picQualificationCompany")<=-1)return this.errorInfo={errorMsg:this.word[14],isShowErrorMsg:!0},!1;if(this.imgList.regImg_1==undefined)return this.errorInfo={errorMsg:this.word[15],isShowErrorMsg:!0},!1;if(this.imgList.regImg_1.indexOf("blob:http")<=-1&&this.imgList.regImg_1.indexOf("picQualificationCompany")<=-1)return this.errorInfo={errorMsg:this.word[15],isShowErrorMsg:!0},!1;if($.trim(this.customer.legalName)==undefined||$.trim(this.customer.legalName)=="")return this.errorInfo={errorMsg:this.word[16],isShowErrorMsg:!0},!1;if($.trim(this.customer.legalCard)==undefined||$.trim(this.customer.legalCard)==""||!i.isIdCard($.trim(this.customer.legalCard)))return this.errorInfo={errorMsg:this.word[17],isShowErrorMsg:!0},!1;if($.trim(this.customer.mobile)==undefined||$.trim(this.customer.mobile)==""||!i.isMobile($.trim(this.customer.mobile)))return this.errorInfo={errorMsg:this.word[18],isShowErrorMsg:!0},!1;if($.trim(this.customer.legalEmail)==undefined||$.trim(this.customer.legalEmail)==""||!i.isEmail($.trim(this.customer.legalEmail)))return this.errorInfo={errorMsg:this.word[19],isShowErrorMsg:!0},!1;if(this.imgList.legImg==undefined)return this.errorInfo={errorMsg:this.word[20],isShowErrorMsg:!0},!1;if(this.imgList.legImg.indexOf("blob:http")<=-1&&this.imgList.legImg.indexOf("picQualificationCompany")<=-1)return this.errorInfo={errorMsg:this.word[20],isShowErrorMsg:!0},!1;if(this.customer.hasAgent==1){if(!$.trim(this.customer.agentName)==undefined||$.trim(this.customer.agentName)=="")return this.errorInfo={errorMsg:this.word[21],isShowErrorMsg:!0},!1;if(!$.trim(this.customer.idCard)==undefined||$.trim(this.customer.idCard)==""||!i.isIdCard($.trim(this.customer.idCard)))return this.errorInfo={errorMsg:this.word[22],isShowErrorMsg:!0},!1;if(!$.trim(this.customer.agentMobile)==undefined||$.trim(this.customer.agentMobile)==""||!i.isMobile($.trim(this.customer.agentMobile)))return this.errorInfo={errorMsg:this.word[23],isShowErrorMsg:!0},!1;if($.trim(this.customer.agentEmail)==undefined||$.trim(this.customer.agentEmail)==""||!i.isEmail($.trim(this.customer.agentEmail)))return this.errorInfo={errorMsg:this.word[24],isShowErrorMsg:!0},!1;if(this.imgList.idcImg==undefined)return this.errorInfo={errorMsg:this.word[25],isShowErrorMsg:!0},!1;if(this.imgList.idcImg.indexOf("blob:http")<=-1&&this.imgList.idcImg.indexOf("picQualificationCompany")<=-1)return this.errorInfo={errorMsg:this.word[25],isShowErrorMsg:!0},!1}return!0},u}])}),define("services/quesService",["serv-init"],function(e){e.service("quesService",["BaseService","Tools",function(e,t){"use strict";function n(){this.info={problemType:"0",problemContent:""},this.isErrorMsg={isShowErrorMsg:!1,errorMsg:""}}return n.prototype=new e,n.prototype.submitQus=function(){if(this.info.problemContent==undefined||this.info.problemContent==null||this.info.problemContent=="")return this.isErrorMsg={isShowErrorMsg:!0,errorMsg:"请填写反馈内容!"},!1;if(this.info.problemContent.length>400)return this.isErrorMsg={isShowErrorMsg:!0,errorMsg:"内容最多400个字节!"},!1;this.url="user/feedBackProblem.action",this.params={},this.params.problemType=this.info.problemType,this.params.problemContent=this.info.problemContent,this.callback=function(e){if(e.isSuccess){var n="";t.isMobile(sessionStorage.getItem("account"))?n="客服的来电":n="您的邮箱"+sessionStorage.getItem("account"),this.isErrorMsg={isShowErrorMsg:!0,errorMsg:"感谢您对法大大的支持，客服会尽快答复您，请留意"+n},this.info.problemContent=""}else this.isErrorMsg={isShowErrorMsg:!0,errorMsg:e.message}},this.commit()},n}])}),define("servs",["services/baseService","services/pikaday","services/tools","services/centerService","services/smsCodeService","services/identifyService","services/contractDetailService","services/contractTepSiervice","services/signingService","services/doSigntestService","services/testifyService","services/suveryReportService","services/informationService","services/applyArbitrationService","services/fgPasswordService","services/contactPersonService","services/contractService","services/addContactPersonService","services/amendContactPersonService","services/amendGroupService","services/contactGroupService","services/addGroupService","services/baseinfoService","services/authorizationService","services/myPackageService","services/packageListService","services/gotoPayService","services/applyInvoiceService","services/mySignatureService","services/addSignatureService","services/authorizationRepresentativeService","services/addAuRepService","services/caInfoService","services/customerCheckService","services/quesService"],function(){}),define("direc-init",["angular"],function(e){return e.module("app.directives",[])}),define("directives/fddDirective",["direc-init","zepto"],function(e,t){"use strict";e.directive("backtotop",[function(){return{restrict:"EA",template:'<div class="fdd-ontop" ng-show="showable==true" title="返回顶部"><a href="javascript:;" ng-click="btt()"><img src="webs/images/apptop.png"></a></div>',link:function(e,t,n){e.showable=!1;var r=0;e.btt=function(){$(".wid").scrollTop(0),$(window).scrollTop(0)},e.top=function(t){r=t.scrollTop(),r>250?e.showable=!0:e.showable=!1,e.$apply()},$(".wid").on("scroll",function(){e.top($(this))}),$(window).on("scroll",function(){e.top($(this))})}}}]),e.directive("verfiyimg",[function(){return{restrict:"EA",template:'<div class="pos-a left-r-0 right-15 cursor-off"><img ng-click="change()" ng-src="{{src}}"/></div>',link:function(e){e.src="image/verifycode.jpg",e.change=function(){e.src=e.src.split("?")[0]+"?"+Math.random()},e.$on("changeImg",function(){e.src=e.src.split("?")[0]+"?"+Math.random()})}}}]).directive("smscode",["$interval","Tools",function(e,t){return{restrict:"EA",scope:{canshu:"=",callback:"&"},link:function(n,r){function c(){r.bind("click",function(e){n.canshu.isUpdate?n.callback(n.canshu):l(n.canshu)?n.callback(n.canshu):n.$emit("to-parent","noParams")})}var i=r[0].nodeName,s=null,o=!1,u=30,a="",f=function(){s=e(function(){u--,r.unbind("click");if(u<=0)return n.canshu.isSended=!1,o=!1,r.html(a),e.cancel(s),s=null,u=30,c(),n.$emit("is-click",!0),!1;r.html(a+"("+u+"s)")},1e3)};n.canshu.type==1&&n.canshu.kind==1?(a="接收语音",n.$on("notice-runsendvoidecode",f)):(a="重新发送",n.$on("notice-runsendcode",f)),s&&e.cancel(s);var l=function(e){return e.type==1?t.isMobile(e.mobile)?o=!0:n.$emit("errorMess",{isShow:!0,msg:"请填写正确的手机号"}):e.type==2&&(t.isEmail(e.email)?o=!0:(o=!1,n.$emit("errorMess",{isShow:!0,msg:"请填写正确的邮箱"}))),o};n.canshu&&n.canshu.auto==1?f():c()}}}]).directive("errorInfo",["$timeout","Tools",function(e,t){return{restrict:"AE",scope:{isErrorMsg:"="},template:'<div class="section pos-f alpha5 z-index2 left-t-0" ng-show="isErrorMsg.isShowErrorMsg" style="background-color:rgba(255,255,255,0)"></div><div style="position:fixed; top:45%; left:0; right:0; text-align:center; z-index:99" ng-show="isErrorMsg.isShowErrorMsg"><div class="bg_block txt-waite radius5 pg-t-10 pg-b-10 pg-lr-40 dip"  ng-bind-html="isErrorMsg.errorMsg"></div></div>',link:function(e){e.$watch("isErrorMsg",function(){e.isErrorMsg&&e.isErrorMsg.isShowErrorMsg&&t.delayed(function(){e.isErrorMsg.isShowErrorMsg=!1,e.isErrorMsg.errorMsg=""})},!0)}}}]).directive("payment",["$interval",function(e){return{restrict:"AE",scope:{wxsrc:"=",timer:"=",callback:"&",wxFun:"&"},templateUrl:"webs/templates/payMethod.html",link:function(t,n,r){t.checkedMap=[{isChecked:!0},{isChecked:!1},{isChecked:!1}],t.doChange=function(n){t.timer&&(e.cancel(t.timer),t.timer=null),n==1&&(t.timer=e(function(){t.wxFun()},3e3)),angular.forEach(t.checkedMap,function(e,t,r){n==t?r[t].isChecked=!0:r[t].isChecked=!1})}}}}]).directive("fileModel",[function(){return{restrict:"EA",scope:{setFileData:"&"},link:function(e,t,n,r){t.on("change",function(){var n=t[0].files[0];e.setFileData({value:n}),e.$apply()})}}}]).directive("dropDown",["$document",function(e){return{restrict:"AE",scope:{boxName:"=",boxList:"=",liHtml:"=",boxHtml:"=",showUl:"=",isClick:"="},templateUrl:"webs/templates/direhtml/dropDownBox.html",link:function(t){t.getUl=function(n){e.bind("click",function(){t.showUl&&(t.showUl=!1,t.$apply())}),t.isClick&&(this.showUl=this.showUl==1?!1:!0,n.stopPropagation(),t.$emit("showUl",this.showUl))},t.clickLi=function(e){t.$emit("showUl",!1),t.$emit("liHtml",e)}}}}]).directive("setScroll",["$timeout","$anchorScroll","$location","$parse",function(e,t,n,r){return{restrict:"AE",link:function(e,r,i){r.on("click",function(){n.hash(i.id),t()})}}}]).directive("autoSubmit",["Tools","$parse",function(e,t){return{restrict:"AE",link:function(n,r,i){n.$watch(i.ngModel,function(r){var s=t(i.autoSubmitCallBack);r.length==6&&e.isNumber(r)&&s(n)})}}}]).directive("qtip",[function(){return{restrict:"AE",scope:{attrTitle:"=",showQtip:"="},template:'<span class="attrtitle">{{attrTitle}}</span><div class="attrqtip" ng-bind="attrTitle" ng-if="showQtip"></div>',link:function(e,t,n){t.bind("mouseover",function(){e.showQtip=!0,e.$apply()}).bind("mouseleave",function(){e.showQtip=!1,e.$apply()})}}}]).directive("seeDetail",[function(){return{restrict:"AE",templateUrl:"webs/templates/contract/detail.html",link:function(e,t,n){}}}]).directive("goTop",["$rootScope",function(e){return{restrict:"AE",template:'<div class="fdd-ontop" ng-show="isTopBtn"><a href="javascript:;"><img src="statics/images/apptop.png"></a></div>',link:function(t,n,r){n.bind("click",function(){e.$emit("goTop","0"),$("html,body").scrollTop(0)})}}}])}),define("directives/pikadayDirective",["direc-init","zepto"],function(e,t){"use strict";e.directive("pikaday",["Pikaday","$parse",function(e,t){return{restrict:"EA",scope:!0,link:function(n,r,i){var s=i.startLimit,o=t(i.callBack),u=n.pikaday=new e({format:"yyyy-MM-dd",field:r[0],isFocus:i.isFocus?i.isFocus:!0,onSelect:function(e){angular.isUndefined(o(n))||o(n).call(this,e,r[0].value)},firstDay:1,minDate:angular.isUndefined(s)?new Date("2000-01-01"):new Date,maxDate:new Date("2100-12-31"),yearRange:[2e3,2100]});n.$on("$destroy",function(){u.destroy()})}}}])}),define("directives/draggableDirective",["direc-init"],function(e){"use strict";var t=function(e){return angular.isDefined(e.touches)?e.touches[0]:angular.isDefined(e.originalEvent)&&angular.isDefined(e.originalEvent.touches)?e.originalEvent.touches[0]:e};e.directive("myDrag",["$parse","$window","$document","$rootScope",function(e,n,r,i){return{restrict:"EA",link:function(s,o,u){o.attr("draggable","false");var a="removeit",f=e(u.myDragData),l=e(u.myDragLock),c=e(u.myDragCount),h=f(s),p=l(s),d=c(s),v=9999999;d&&(v=1131.2*d);var m=s.$id,g={minx:0,miny:0,maxx:0,maxy:v},y={offset:null,mx:0,my:0,tx:0,ty:0,mrx:0,mry:0,lx:0,ly:0,_dragOffset:null,_movingEnabled:!1,_dragEnabled:!1,_pressEvents:"touchstart mousedown",_moveEvents:"touchmove mousemove",_releaseEvents:"touchend mouseup",onDragStart:function(e){if(e.target.className.toLowerCase().indexOf(a)!=-1)return;o.children().addClass("moving"),e.preventDefault(),y.clientX=e.clientX;if(!y._dragEnabled)return!1;if(e.type=="mousedown"&&e.button!=0)return!1;y.offset=o[0].getBoundingClientRect(),y._dragOffset=y.offset,o.centerX=o[0].offsetWidth/2,o.centerY=o[0].offsetHeight/2,y.mx=t(e).pageX,y.my=t(e).pageY,y.sx=y.mx,y.sy=y.my;var i=y.mx-y.offset.left-y.offset.width/2,s=y.my-y.offset.top-y.offset.height/2;return y.mrx=y.offset.width/2,y.mry=y.offset.height/2,y.tx=y.mx-y.mrx-n.pageXOffset,y.ty=y.my-y.mry-n.pageYOffset,r.on(y._moveEvents,y.onMove),r.on(y._releaseEvents,y.onRelease),!1},onMove:function(e){if(e.target.className.toLowerCase().indexOf(a)!=-1)return;if(!y._dragEnabled)return;y._movingEnabled=!0,e.preventDefault(),y.mx=t(e).pageX,y.my=t(e).pageY;if(p){var n=o.parent(),r=n[0].getBoundingClientRect(),i=o[0].getBoundingClientRect();y.maxx=r.right-r.left-i.width,y.lx=y.mx-r.left,y.ly=y.my-r.top,y.lx=Math.max(g.minx,Math.min(y.lx-Math.round(i.width/2),y.maxx)),y.ly=Math.max(g.miny,Math.min(Math.round(y.ly-i.height/1.5),g.maxy-95)),o.css({left:y.lx+"px",top:y.ly+"px",position:"absolute"})}else y.tx=y.mx-y.mrx-y._dragOffset.left,y.ty=y.my-y.mry-y._dragOffset.top,o.css({transform:"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+y.tx+", "+y.ty+", 0, 1)","z-index":99999,"-webkit-transform":"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+y.tx+", "+y.ty+", 0, 1)","-ms-transform":"matrix(1, 0, 0, 1, "+y.tx+", "+y.ty+")"})},onRelease:function(e){if(e.target.className.toLowerCase().indexOf(a)!=-1)return;if(!y._dragEnabled)return;o.removeClass("dragging"),o.parent().find(".drag-enter").removeClass("drag-enter"),r.off(y._moveEvents,y.onMove),r.off(y._pressEvents,y.onDragStart),r.off(y._releaseEvents,y.onRelease),e.preventDefault();if(!y._movingEnabled)return;y.reset(),o.children().removeClass("moving"),i.$broadcast("draggable:end",{x:y.mx,y:y.my,lx:y.lx,ly:y.ly,tx:y.tx,ty:y.ty,event:e,element:o,data:h,callback:y.onDragComplete,uid:m})},reset:function(){p?o.css({left:y.lx+"px",top:y.ly+"px",position:"absolute"}):o.css({transform:"","z-index":"","-webkit-transform":"","-ms-transform":""})},onEnableChange:function(e,t){y._dragEnabled=e},initEvents:function(){s.$watch(u.myDrag,y.onEnableChange),o.on(y._pressEvents,y.onDragStart),o[0].nodeName.toLowerCase()=="img"&&o.on("mousedown",function(){return!1}),o.find("img").on("mousedown",function(){return!1})}};y.initEvents()}}}]),e.directive("myDrop",["$parse","$timeout","$document",function(e,t,n){return{restrict:"EA",link:function(r,i,s){r.value=s.ngDrop;var o=e(s.ngDropSuccess),u=r.$id,a={_dropEnabled:!1,_lastDropTouch:null,initEvents:function(){r.$watch(s.myDrop,a.onEnableChange),r.$on("draggable:end",a.onDragEnd)},onEnableChange:function(e,t){a._dropEnabled=e},onDragEnd:function(e,n){if(!a._dropEnabled||u===n.uid)return!1;s.ngDropSuccess&&a.getRect(n.x,n.y,n.element)&&t(function(){o(r,{$data:n.data,$event:n,$target:r.$eval(r.value)})})},getRect:function(e,t,n){var s=a.checkRect(e,t);return r.isTouching=s,s&&(a._lastDropTouch=i),s},checkRect:function(e,t){var r=i[0].getBoundingClientRect();return e-=n[0].body.scrollLeft+n[0].documentElement.scrollLeft,t-=n[0].body.scrollTop+n[0].documentElement.scrollTop,e>=r.left&&e<=r.right&&t<=r.bottom&&t>=r.top}};a.initEvents()}}}])}),define("directives/signatureDirective",["direc-init"],function(e){"use strict";e.directive("signature",[function(){return{restrict:"EA",scope:{url:"=",customer:"=",myindex:"=",x:"=",y:"=",remove:"&"},template:'<div class="usersign" ng-class="{true:\'ghost\',false:\'\'}[customer==true]"><img ng-src="{{url}}" /><div ng-if="customer==true" ng-click="remove({i:myindex,evt:$event})" class="removeIt"></div></div>',link:function(e,t,n){var r=new Image;r.src=e.url,r.onload=function(){t.find("img").css("width",r.width+"px").css("height",r.height+"px"),t.css("width",r.width+"px").css("height",r.height+"px")};if(e.customer){var i=parseInt(e.y);i=isNaN(i)?e.y:i,t.css("position","absolute").css("left",e.x+"px").css("top",i+"px")}}}}])}),define("directives/nicescrollDirective",["direc-init","zepto"],function(e,t){"use strict";e.directive("nicescroll",["$window","$rootScope","$document",function(e,t,n){return{restrict:"A",replace:!0,transclude:!0,scope:{showYScrollbar:"=?isBarShown",onScrollTop:"&",isEnabled:"="},link:function(t,n,r){t.isShowed=!0;var i,s,o,u,a,l,c={bottom:r.hasOwnProperty("bottom")},h=angular.element(e),p=!!h[0].addEventListener,d=!!h[0].removeEventListener,v={top:0},m={top:0},g,y,b,w,E=function(){g={position:"relative",overflow:"hidden","max-width":"100%",height:"100%"},m.height&&(g.height=m.height+"px"),y={position:"absolute",height:v.height+"px",top:v.top+"px"},b={position:"relative","line-height":v.height+"px"},w={position:"relative",top:m.top+"px",overflow:"hidden"}};t.backToTop=function(){v.top=0,S(!0)};var S=function(e){u.css("top",v.top+"px");var n=v.top/m.height;m.top=-Math.round(m.scrollHeight*n),t.onScrollTop&&t.onScrollTop.call(this,{top:-m.top}),s.css("top",m.top+"px")},x=function(e){var t=e.hasOwnProperty("offsetY")?e.offsetY:e.layerY,n=Math.max(0,Math.min(parseInt(v.trackHeight,10)-parseInt(v.height,10),t));v.top=n,S(),e.stopPropagation()},T=function(e){var t=40,n=e,r=n.detail,i=n.wheelDelta,s=225,o=s-1;r=r?i&&(f=i/r)?r/f:-r/1.35:i/120,r=r<1?r<-1?(-Math.pow(r,2)-o)/s:r:(Math.pow(r,2)+o)/s,e.delta=Math.min(Math.max(r/2,-1),1),e.delta=e.delta*t,v.top=Math.max(0,Math.min(parseInt(m.height,10)-parseInt(v.height,10),parseInt(v.top,10)-e.delta)),S();if(!e.preventDefault)return!1;e.preventDefault()},N=0,C=function(e,t,n){v.top=Math.max(0,Math.min(parseInt(v.trackHeight,10)-parseInt(v.height,10),n)),e.stopPropagation()},k=function(e){var t=0,n=e.pageY-u[0].scrollTop-N;C(e,t,n),S()},L=function(e){h.off("mousemove",k),h.off("mouseup",L),e.stopPropagation()},A=function(e){var t=0,n=e.originalEvent.changedTouches[0].pageY-u[0].scrollTop-N;C(e,t,n),S()},O=function(e){h.off("touchmove",A),h.off("touchend",O),e.stopPropagation()},M=function(e){var t=h[0].onmousewheel!==undefined?"mousewheel":"DOMMouseScroll";p?e.addEventListener(t,T,!1):e.attachEvent("onmousewheel",T)},_=function(e){var t=h[0].onmousewheel!==undefined?"mousewheel":"DOMMouseScroll";d?e.removeEventListener(t,T,!1):e.detachEvent("onmousewheel",T)},D=function(e){e=c.bottom||e,i=angular.element(n.children()[0]),s=angular.element(i.children()[0]),o=angular.element(i.children()[1]),u=angular.element(angular.element(o.children()[0]).children()[0]),a=angular.element(u.children()[0]),l=angular.element(angular.element(o.children()[0]).children()[1]),m.height=n[0].offsetHeight,m.scrollHeight=s[0].scrollHeight,m.height<m.scrollHeight?(t.showYScrollbar=!0,t.$emit("scrollbar.show"),v.height=Math.round(m.height/m.scrollHeight*m.height),v.trackHeight=m.height,E(),n.css({overflow:"hidden"}),i.css(g),s.css(w),u.css(y),a.css(b),l.bind("click",x),M(s[0]),u.on("mousedown",function(e){N=e.pageY-u[0].offsetTop,h.on("mouseup",L),h.on("mousemove",k),e.preventDefault()}),u.on("touchstart",function(e){N=e.originalEvent.changedTouches[0].pageY-u[0].offsetTop,h.on("touchend",O),h.on("touchmove",A),e.preventDefault()}),e?(c.bottom=!1,v.top=parseInt(m.height,10)-parseInt(v.height,10)):v.top=Math.max(0,Math.min(parseInt(m.height,10)-parseInt(v.height,10),parseInt(v.top,10))),S()):(t.showYScrollbar=!1,t.$emit("scrollbar.hide"),u.off("mousedown"),_(s[0]),s.attr("style","position:relative;top:0"),i.css({height:"100%"}))},P,H=function(e,n){P!=null&&clearTimeout(P);var r=!!n&&!!n.rollToBottom;P=setTimeout(function(){m.height=null,D(r),t.$$phase||t.$digest(),t.$parent.$$phase||t.$parent.$digest()},72)};D(),!r.rebuildOn||r.rebuildOn.split(" ").forEach(function(e){t.$on(e,H)}),r.hasOwnProperty("rebuildOnResize")&&h.on("resize",H)},template:'<div><div class="ngsb-wrap"><div class="ngsb-container" ng-transclude></div><div class="ngsb-scrollbar" style="position: absolute; display: block;" ng-show="showYScrollbar"><div class="ngsb-thumb-container"><div class="ngsb-thumb-pos" oncontextmenu="return false;"><div class="ngsb-thumb" ></div></div><div class="ngsb-track"></div></div></div><div class="ico_img  ico_top_img" ng-click="backToTop()" ng-if="isEnabled==true" ng-show="isShowed==true"  style="position:absolute;right:20px; bottom:20px;cursor:pointer;"></div></div></div>'}}])}),define("directives/paginationDirective",["direc-init","zepto"],function(e,t){"use strict";function n(e){this.config=e||{total:0,pageSize:10,onChange:function(){}},this.edges=2,this.displayedPages=6,this.halfDisplayed=this.displayedPages/2,this.items=null,this.currentPage=1,this.totalPages=0,this.init=function(e){this.config=e,this.currentPage=this.config.currentPage,this.total=this.config.total,this.getTotalPages(),this.draw()}}n.prototype={first:function(){this.goPage(1)},last:function(){this.goPage(this.totalPages)},prev:function(){this.currentPage>1&&(this.currentPage-=1),this.goPage(this.currentPage)},next:function(){this.currentPage<this.totalPages&&(this.currentPage+=1),this.goPage(this.currentPage)},goPage:function(e){if(e=="...")return;typeof e!="undefined"&&(this.currentPage=e),this.draw(),this.config.onChange&&this.config.onChange.call(this,this.currentPage)},getTotalPages:function(){return this.config.totalPageCount?this.totalPages=this.config.totalPageCount:this.totalPages=Math.ceil(this.config.total/this.config.pageSize),this.totalPages},getStartEnd:function(){return{start:Math.ceil(this.currentPage>this.halfDisplayed?Math.max(Math.min(this.currentPage-this.halfDisplayed,this.totalPages-this.displayedPages),0):0),end:Math.ceil(this.currentPage>this.halfDisplayed?Math.min(this.currentPage+this.halfDisplayed,this.totalPages):Math.min(this.displayedPages,this.totalPages))}},draw:function(){this.items&&(this.items=null),this.items=[];var e=this.getStartEnd();if(e.start>0&&this.edges>0){var t=Math.min(this.edges,e.start);for(var n=0;n<t;n++)this.items.push(n+1);this.edges<e.start&&e.start-this.edges!=1?this.items.push("..."):e.start-this.edges==1&&this.items.push(this.edges+1)}for(var n=e.start;n<e.end;n++)this.items.push(n+1);if(e.end<this.totalPages&&this.edges>0){this.totalPages-this.edges>e.end&&this.totalPages-this.edges-e.end!=1?this.items.push("..."):this.totalPages-this.edges-e.end==1&&this.items.push(e.end+1);var r=Math.max(this.totalPages-this.edges,e.end);for(var n=r;n<this.totalPages;n++)this.items.push(n+1)}}},e.directive("fddpaginate",["$parse","$rootScope",function(e,t){return{restrict:"EA",template:'<div ng-class="{true:\'fddv3-list-page\',false:\'\'}[!detailPage]" ng-if="paginateShow"><div class="fddv3-page-left" ng-show="!detailPage">当前第<span>{{page.currentPage}}</span>页，共{{page.totalPages}}页，共{{page.total}}条</div><div class="fddv3-page" ng-class="{true:\'fddv3-page-detail\',false:\'\'}[detailPage]"><a ng-click="page.first()" ><span ng-show="detailPage">首页</span><span class="fddv3-icon-page-home" ng-show="!detailPage"></span></a><a ng-click="page.prev()" class="page_up"><span class="fddv3-icon-page-prev" ng-show="detailPage">上一页</span><span ng-show="detailPage"></span><span class="fddv3-icon-page-prev" ng-show="!detailPage"></span></a><a ng-click="page.goPage(item)"  ng-class="{true:\'fddv3-page-hover\'}[page.currentPage==item]" ng-repeat="item in page.items track by $index">{{item}}</a><a ng-click="page.next()" class="page_down"><span ng-show="detailPage">下一页</span><span class="fddv3-icon-page-next" ng-show="detailPage"></span><span class="fddv3-icon-page-next" ng-show="!detailPage"></span></a><a ng-click="page.last()"><span ng-show="detailPage">尾页</span><span class="fddv3-icon-page-last" ng-show="!detailPage"></span></a></div></div>',replace:!0,link:function(t,r,i){t.paginateShow=!0;var s=e(i.pageConf),o=s(t);t.page=new n;var u=t.$watch("pageConf.currentPage",function(e,n){o.total!=0&&t.page.goPage(e)}),a=t.$watch("pageConf.total",function(){o.total!=0&&t.page.init(o)}),f=t.$watch("pageConf.totalPageCount",function(e,n){o.totalPageCount!=0&&t.page.init(o)});t.$on("$destroy",function(){o=null,s=null,t.page=null,a(),f(),u()})}}}])}),define("directives/popupDirective",["direc-init"],function(e){"use strict";e.directive("popUpBox",["$parse",function(e){return{restrict:"EA",scope:{isShowBox:"=",opt:"="},template:'<div class="section bg_block pos-f alpha5 z-index2 left-t-0" ng-show="isShowBox"></div><div class="pos-f bg_white z-index3 radius10 over right-lt-50 pg-b-10" ng-show="isShowBox" id="pop-up-box" ng-style="opt.styleCss"><div class="pos-a wid-100 ico_caidai left-t-0"></div><div class="h4 line-b table-pd-link" ng-bind="opt.title"></div><div class="pg-20" ng-bind-html="opt.message"></div><a href="javascript:;" ng-show="opt.isClose" ng-click="opt.closeBox()" class="ico_pop_ca ico_img pos-a right-t-20"></a><div class="pg-b-20 pg-lr-20" ng-class="opt.location" id="pop-up-box-buttons" ng-show="opt.isButtons"><a href="javascript:;" ng-repeat="ob in opt.buttons" ng-click="ob.callback()" ng-class="ob.colorClass" style="margin-left:5px;" class="pg-link pos-r over dip" >{{ob.caption}}</a></div></div>',link:function(e,t,n){var r={title:"提示信息",message:"",isClose:!0,closeBox:function(){e.isShowBox=!1},isButtons:!0,location:"text-right",width:550,height:200,buttons:[{caption:"知道了",colorClass:"link-gray",callback:function(){e.isShowBox=!1}}]};r.styleCss={width:r.width+"px",height:r.height+"px","margin-left":-(r.width/2)+"px","margin-top":-(r.height/2)+"px"},e.$watch("isShowBox",function(){e.opt=angular.extend(r,e.opt),e.opt.styleCss={width:e.opt.width+"px",height:e.opt.height+"px","margin-left":-(e.opt.width/2)+"px","margin-top":-(e.opt.height/2)+"px"}})}}}])}),define("directives/progressDirective",["direc-init"],function(e){"use strict";e.directive("myProgress",["$parse","$rootScope",function(e,t){return{restrict:"EA",template:'<div class="fixed-pop-bg"><div class="fixed-pop-con"><div class="pop-progress"><div class="radius10 bg_orange" style="width:{{progresswidth}}%;"></div> </div><p class="progress-number">{{progresswidth | number:0}}%</p><p class="progress-text">正在提交中，请勿强制刷新当前页面。</p></div></div>',link:function(n,r,i){function f(){a+=1,c(a);if(a<100)requestAnimFrame(f);else{a=100;var t=e(i.callback),r=t(n);angular.isFunction(r)&&r.call(this)}}function l(){a+=u,c(a),a<90&&requestAnimFrame(l)}function c(e){n.progresswidth=e,n.progressnum=parseFloat(e).toFixed(1),n.$apply()}var s,o;n.$watch("isLock",function(){n.progresswidth="10"}),n.progresswidth="10",n.cssStyle="width: 400px; margin-left: -100px; margin-top: -100px;",s=t.$on("end-progress",function(){requestAnimFrame(f)}),o=t.$on("update-progress",function(e,t){u=1,requestAnimFrame(l)}),n.$on("$destroy",function(){s(),o()});var u=.02,a=1;requestAnimFrame(l)}}}]),e.directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,n,r){var i=e(r.fileModel),s=i.assign;n.bind("change",function(){t.$apply(function(){s(t,n[0].files),t.$emit("fileName",n[0].files)})})}}}])}),define("directives/identifyDirective",["direc-init","zepto"],function(e,t){"use strict";e.directive("validcard",[function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$parsers.push(function(e){var t={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};e=e.toUpperCase();if(!/(^\d{15}$)|(^\d{17}([0-9]|X)$)/.test(e))return r.$setValidity("validcard",!1),!1;var n=e.substr(0,2);if(t[n]==undefined)return r.$setValidity("validcard",!1),!1;var i=e.length,s;if(i==15){s=new RegExp(/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/);var o=e.match(s),u=new Date("19"+o[2]+"/"+o[3]+"/"+o[4]),a;a=u.getYear()==Number(o[2])&&u.getMonth()+1==Number(o[3])&&u.getDate()==Number(o[4]);if(!a)return r.$setValidity("validcard",!1),!1;var f=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),l=new Array("1","0","X","9","8","7","6","5","4","3","2"),c=0,h;e=e.substr(0,6)+"19"+e.substr(6,e.length-6);for(h=0;h<17;h++)c+=e.substr(h,1)*f[h];e+=l[c%11],r.$setValidity("validcard",!0)}if(i==18){s=new RegExp(/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/);var o=e.match(s),u=new Date(o[2]+"/"+o[3]+"/"+o[4]),a;a=u.getFullYear()==Number(o[2])&&u.getMonth()+1==Number(o[3])&&u.getDate()==Number(o[4]);if(!a)return r.$setValidity("validcard",!1),!1;var p,f=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),l=new Array("1","0","X","9","8","7","6","5","4","3","2"),c=0,h;for(h=0;h<17;h++)c+=e.substr(h,1)*f[h];p=l[c%11];if(p!=e.substr(17,1))return r.$setValidity("validcard",!1),!1;r.$setValidity("validcard",!0)}return e})}}}]).directive("uploadPhoto",[function(){return{restrict:"EA",scope:{imgName:"=",errorMsg:"=",filePath:"="},link:function(e,t,n){function r(e,t){var n=!0,r=e.name,i=r.lastIndexOf("."),s=r.substring(i,r.length).toUpperCase();for(var o=0;o<t.length;o++){if(s==t[o]){n=!0;break}n=!1;continue}return n}function i(e){var t=null;try{window.createObjectURL!=undefined?t=window.createObjectURL(e):window.URL!=undefined&&window.URL.createObjectURL?t=window.URL.createObjectURL(e):window.webkitURL!=undefined&&(t=window.webkitURL.createObjectURL(e))}catch(n){t=null}return t}t.bind("change",function(){var n=t[0].files[0];if(n){if(!r(n,[".PNG",".JPG",".JPEG"]))return e.$emit("errorMess",e.errorMsg),!1;var s=(n.size/1024).toFixed(2);if(!(s<20480))return e.$emit("errorMess",e.errorMsg),!1;var o=i(n);o&&(e.imgName=o,e.filePath=n,e.$apply())}})}}}]).directive("showBigImg",[function(){return{restrict:"EA",scope:{imgUrl:"=",isShow:"="},template:'<div ng-show="isShow" class="section bg_block pos-f alpha5 z-index2 left-t-0"></div><div ng-show="isShow" class="pos-f z-index3 right-lt-50 fdd-big-img text-center bg_white radius5" style="{{imgUrl}}"><a href="javascript:;" ng-click="isShow=!isShow" class="pos-a ico_img ico_cha_img2" style="right: -40px; top: 5px;"></a></div>'}}]).directive("takePicture",[function(){return{restrict:"EA",link:function(e,t,n){$("#webcam").scriptcam({showMicrophoneErrors:!1,canvasWidth:320,canvasHeight:240,onWebcamReady:function(){e.$apply(function(){e.identifyService.sh.isTakePic=!0})},onError:function(){e.$apply(function(){e.identifyService.errorInfo={isShowErrorMsg:!0,errorMsg:"由于您电脑没有摄像头，只能上传手持证件照"},e.identifyService.sh.isTakePic=!1,e.identifyService.doHover(2)})},path:"webs/js/widgets/webcam/",onPictureAsBase64:function(e){$("#formfield").val(e),$("#image").attr("src","data:image/png;base64,"+e)}})}}}]).directive("uploadSignature",[function(){return{restrict:"EA",scope:{imgName:"=",errorMsg:"=",filePath:"=",imgUrl:"=",imgFormat:"="},link:function(e,t,n){function r(e,t){var n=!0,r=e.name,i=r.lastIndexOf("."),s=r.substring(i,r.length).toUpperCase();for(var o=0;o<t.length;o++){if(s==t[o]){n=!0;break}n=!1;continue}return n}function i(e){var t=null;try{window.createObjectURL!=undefined?t=window.createObjectURL(e):window.URL!=undefined&&window.URL.createObjectURL?t=window.URL.createObjectURL(e):window.webkitURL!=undefined&&(t=window.webkitURL.createObjectURL(e))}catch(n){t=null}return t}t.bind("change",function(){var n=t[0].files[0];if(n){if(!r(n,e.imgFormat))return e.$emit("errorMess",e.errorMsg),!1;var s=(n.size/1024).toFixed(2);if(!(s<2048))return e.$emit("errorMess",e.errorMsg),!1;var o=i(n),u=new Image;o&&(e.imgName=o,e.filePath=n,u.src=o,u.onload=function(){e.imgUrl={"background-image":"url("+o+")","background-repeat":"no-repeat","background-position":"center center","background-size":"contain"},e.$apply()})}})}}}])}),define("directives/baseinfoDirective",["direc-init","zepto"],function(e,t){"use strict";var n="?r="+(r?"":(new Date).getTime()),r="?"+Math.random();e.directive("updateInfo",[function(){return{restrict:"EA",templateUrl:"webs/templates/baseInfo/updateInfo.html"+r}}]).directive("bindInfo",[function(){return{restrict:"EA",templateUrl:"webs/templates/baseInfo/bindInfo.html"+r}}])}),define("directives/confirmDirective",["direc-init","zepto"],function(e,t){"use strict";e.directive("myConfirm",["$parse",function(e){return{restrict:"AE",scope:{options:"="},template:'<div class="pos-f bg_white z-index3 radius10 over right-lt-50" ng-show="options.showed" style="{{confirm.css}}"  >  <div class="pos-a wid-100 ico_caidai left-t-0"></div>  <div class="h4 line-b table-pd-link">{{options.title}}</div> <div class="fdd-wid-500">    <div class="pg-20" ng-bind-html="options.context"></div>   <div class="pos-r text-right pg-lr-20">      <div class="pg-b-20" >         <a ng-repeat="btn in options.buttons" href="javascript:void(0)" ng-click="btn.fn()" class="dip text-center mg-l-5 pg-link pos-r" ng-class="{true:\' over  link-orange\',false:\'link-gray\'}[btn.foucs]"  >{{btn.name}}</a>    </div> </div></div><a href=javascript:void(0) ng-if="confirm.closable" class="ico_pop_ca ico_img pos-a right-t-20" ng-click="confirm.closeIt()"></a></div><div class="section bg_block pos-f alpha5 z-index2 left-t-0" ng-show="options.showed"></div>',link:function(e,t,n){e.confirm={title:"法大大提醒您",context:"法大大欢迎您",buttons:[],showed:!0,css:"margin: -260px 0 0 -260px;",closable:!0},e.options&&(e.confirm=angular.extend(e.confirm,e.options)),e.confirm.closeIt=function(){e.options.showed=!1},e.$watch("options",function(){angular.isUndefined(e.options.title)&&(e.options.title="法大大提醒您")})}}}])}),define("direc",["directives/fddDirective","directives/pikadayDirective","directives/draggableDirective","directives/signatureDirective","directives/nicescrollDirective","directives/paginationDirective","directives/popupDirective","directives/progressDirective","directives/identifyDirective","directives/baseinfoDirective","directives/confirmDirective"],function(){}),define("filt-init",["angular"],function(e){return e.module("app.filters",[])}),define("filter/fddFilter",["filt-init"],function(e){"use strict";var t=["待我签","待他人签","已完成","已过期","已撤销","已拒签"],n=["txt-orange","txt-greena","txt-bluea","txt-pink","txt-orange","txt-greena","txt-bluea","txt-pink","txt-orange","txt-greena"];e.filter("signStatus",function(){return function(e){var n=angular.isDefined(e)?t[parseInt(e)]:"";return n}}),e.filter("selectOptions",function(){return function(e){return angular.isUndefined(e)?"请选择":e}}),e.filter("getRandom",function(){return function(e){return e+"?"+Math.random()}}),e.filter("accountStatus",function(){return function(e){var t="";switch(e){case 1:t="待审核";break;case 2:t="已认证";break;case 3:t="不通过";break;case 0:t="未认证"}return t}}),e.filter("checkStatus",function(){return function(e){var t="";switch(parseInt(e)){case 1:t="待审核";break;case 2:t="审核通过";break;case 3:t="审核不通过";break;case 0:t="未认证"}return t}}),e.filter("accountStatus_2",function(){return function(e){var t="";switch(e){case 1:t="待审核";break;case 2:t="已认证";break;case 3:t="重新认证";break;case 0:t="立即认证"}return t}}),e.filter("sortDate",function(){return function(e){return e.substring(0,10)}}),e.filter("getDay",function(){return function(e){return e?(e=e.substr(8,2),parseInt(e)):""}}),e.filter("subLen",function(){return function(e){return e&&e.length>20?(e=e.substring(0,20),e+"..."):e}}),e.filter("getMonth",function(){return function(e){return e?(e=e.substr(5,2),parseInt(e)):""}}),e.filter("kb",function(){return function(e){return e?(e=Math.ceil(e/1024),e+"KB"):""}}),e.filter("subFront",function(){return function(e){return e?(e.length>=10&&(e=e.substring(e.length-10,e.length)),"..."+e):""}}),e.filter("firstName",function(){return function(e){return e.substring(0,1)}}),e.filter("randomClass",function(){return function(){return n[parseInt(10*Math.random())]}}),e.filter("suffix",function(){return function(e){if(e){var t=e.substr(e.lastIndexOf(".")+1,e.length),n;switch(t){case"docx":n="word";break;case"doc":n="word";break;case"xlsx":n="excel";break;case"xls":n="excel";break;case"wps":n="word";break;case"pdf":n="pdf";break;default:n="pic"}return n}return""}}),e.filter("getDownLoadUrl",function(){return function(e){function n(){var e=navigator.userAgent;return e.indexOf("Android")>-1||e.indexOf("Adr")>-1?!0:!1}var t="";return n()?t="http://static.fadada.com/fdd-android-2.5.apk":t="https://itunes.apple.com/us/app/fa-da-da/id1103204022",t}}),e.filter("ChTimeFormat",function(){return function(e){var t=new Date(e);return t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日"}})}),define("filt",["filter/fddFilter"],function(){}),define("app",["angular","angular-async-loader","angular-ui-router","angular-sanitize","angular-file-upload","ctrls","servs","direc","filt"],function(e,t){var n=e.module("app",["ui.router","ngSanitize","angularFileUpload","app.controllers","app.services","app.directives","app.filters"]);return t.configure(n),n}),define("router",["app","zepto"],function(e,t){"use strict";var n=!0,r="?r="+(n?"":(new Date).getTime());e.run(["$state","$stateParams","$rootScope",function(e,t,n){n.$state=e,n.$stateParams=t,n.$on("$stateChangeSuccess",function(e,t,r,i,s){n.title=t.title})}]),e.factory("loadingMarker",["$rootScope",function(e){return{request:function(e){return e.requestTimestamp=(new Date).getTime(),e},response:function(e){e.config.responseTimestamp=(new Date).getTime();if(e.data.position=="sessionOut"){var t=$("#csrfTokenForm");t&&t[0]&&t[0].CSRFToken,window.location.href=basepath+"overdue.jsp"}return e}}}]),e.config(["$stateProvider","$urlRouterProvider","$httpProvider",function(e,t,n){n.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",n.defaults.headers.post.Accept="application/json, text/javascript",t.otherwise("user/center");var r="webs/templates/",i=" 法大大-电子合同法律管家",s="?"+Math.random();e.state("user",{url:"/user",controller:"menuCtrl","abstract":!0,templateUrl:r+"menu.html"+s}).state("user.center",{url:"/center",params:{appid:null},templateUrl:r+"center.html"+s,title:"账户中心"+i,controller:"centerCtrl"}).state("user.personIdentify",{url:"/personIdentify",templateUrl:r+"identify/personIdentify.html"+s,title:"个人认证"+i,controller:"personIdentifyCtrl"}).state("user.companyIdentify_1",{url:"/companyIdentify_1",templateUrl:r+"identify/companyIdentify_1.html"+s,title:"企业认证"+i,controller:"companyIdentifyCtrl"}).state("user.companyIdentify_2",{url:"/companyIdentify_2/:type",templateUrl:r+"identify/companyIdentify_2.html"+s,title:"企业认证",controller:"companyIdentifyCtrl"}).state("user.companyIdentify_3",{url:"/companyIdentify_3/:type/:randomNum",templateUrl:r+"identify/companyIdentify_3.html"+s,title:"企业认证",controller:"companyIdentifyCtrl"}).state("user.checkIdentify",{url:"/checkIdentify/:type",templateUrl:r+"identify/checkIdentify.html"+s,title:"认证审核",controller:"companyIdentifyCtrl"}).state("user.contractList",{url:"/contractList/:sort",params:{sort:null},templateUrl:r+"contract/contractList.html"+s,title:"合同列表",controller:"centerCtrl"}).state("user.contractDetail",{url:"/contractDetail/:id/:type/:eType/:apiid",params:{id:null,type:null,eType:null,apiid:null},templateUrl:r+"contract/contractDetail.html"+s,title:"文件详情",controller:"contractDetailCtrl"}).state("user.contractPrint",{url:"/contractPrint/:id/:type/:eType",params:{id:null,type:null,eType:null,apiid:null},templateUrl:r+"contract/contractPrint.html"+s,title:"文件打印",controller:"contractDetailCtrl"}).state("user.contracTep",{url:"/contracTep",params:{appid:null},templateUrl:r+"contractTemplate/contracTep.html"+s,title:"合同模板",controller:"contractTepCtr"}).state("user.doSigning",{url:"/signing/:id/:type/:eType/:from/:isEmpower",params:{id:null,type:null,eType:null,isEmpower:null,from:"list"},templateUrl:r+"contract/signing.html"+s,title:"正在签署",controller:"doSigningCtrl"}).state("user.doSigningtest",{url:"/signing_test",templateUrl:r+"contract/signing_test.html"+s,title:"体验签名",controller:"doSigntestCtrl"}).state("user.surveyReport",{url:"/surveyReport/:id",templateUrl:r+"surveyReport/surveyReport.html"+s,title:"司法鉴定出证",controller:"surveyReportCtrl"}).state("user.surveyReportDetail",{url:"/surveyReportDetail/:id",templateUrl:r+"surveyReport/surveyReportDetail.html"+s,title:"司法鉴定出证",controller:"surveyReportCtrl"}).state("user.testify_1",{url:"/testify_1/:id/:type/:eType",templateUrl:r+"testify/testify_1.html"+s,title:"法大大出证",controller:"testifyCtrl"}).state("user.testify_2",{url:"/testify_2/:testifyId/:code",templateUrl:r+"testify/testify_2.html"+s,title:"法大大出证",controller:"testifyCtrl"}).state("user.testify_3",{url:"/testify_3",templateUrl:r+"testify/testify_3.html"+s,title:"法大大出证",controller:"testifyCtrl"}).state("user.testify_4",{url:"/testify_4/:id/:type/:eType",templateUrl:r+"testify/testify_4.html"+s,title:"文件一致性证明",controller:"testifyCtrl"}).state("user.applyArbitration_1",{url:"/applyArbitration_1/:id/:type/:eType",templateUrl:r+"applyArbitration/applyArbitration_1.html"+s,title:"申请仲裁",controller:"applyArbitrationCtrl"}).state("user.applyArbitration_2",{url:"/applyArbitration_2/:arbitrateId",cache:!1,templateUrl:r+"applyArbitration/applyArbitration_2.html"+s,title:"申请仲裁",controller:"applyArbitrationCtrl"}).state("user.applyArbitration_3",{url:"/applyArbitration_3",templateUrl:r+"applyArbitration/applyArbitration_3.html"+s,title:"申请仲裁",controller:"applyArbitrationCtrl"}).state("user.signing",{url:"/signing/:uuid/:from",templateUrl:r+"contract/signing.html"+s,title:"正在签署"+i,controller:"signingCtrl"}).state("user.upload",{url:"/upload/:flag",templateUrl:r+"contract/uploadContract.html"+s,title:"签发文件"+i,controller:"uploadContractCtrl"}).state("user.fillin",{url:"/fillin/:uuid",templateUrl:r+"contract/fillinContract.html"+s,title:"填写信息"+i,controller:"fillinContractCtrl"}).state("user.information",{url:"/information",templateUrl:r+"information.html"+s,title:"通知中心",controller:"informationCtrl"}).state("forget",{url:"/forget",title:"找回密码"+i,templateUrl:r+"forgetPassword/forget.html"+s}).state("forget.forgetPassword_1",{url:"/step_1",title:"找回密码"+i,controller:"forgetPasswordCtrl",templateUrl:r+"forgetPassword/forgetPassword_1.html"+s}).state("forget.forgetPassword_2",{url:"/step_2/:account",title:"找回密码"+i,controller:"forgetPasswordCtrl",templateUrl:r+"forgetPassword/forgetPassword_2.html"+s}).state("forget.forgetPassword_2_email",{url:"/step_2_email/:account",title:"找回密码"+i,controller:"forgetPasswordCtrl",templateUrl:r+"forgetPassword/forgetPassword_2_email.html"+s}).state("forget.forgetPassword_3",{url:"/step_3/:account",title:"找回密码"+i,controller:"forgetPasswordCtrl",templateUrl:r+"forgetPassword/forgetPassword_3.html"+s}).state("forget.forgetPassword_4",{url:"/step_4/:account",title:"找回密码"+i,controller:"forgetPasswordCtrl",templateUrl:r+"forgetPassword/forgetPassword_4.html"+s}).state("user.contactPerson",{url:"/contactPerson",title:"联系人"+i,controller:"contactPersonCtrl",templateUrl:r+"contactPerson/contactPerson.html"+s}).state("user.addcontactPerson",{url:"/addcontactPerson",title:"联系人"+i,controller:"addContactPersonCtrl",templateUrl:r+"contactPerson/addcontactPerson.html"+s}).state("user.amendcontactPerson",{url:"/amendcontactPerson",title:"联系人"+i,controller:"amendContactPersonCtrl",templateUrl:r+"contactPerson/amendcontactPerson.html"+s}).state("user.amendGroup",{url:"/amendGroup",title:"联系人"+i,controller:"amendGroupCtrl",templateUrl:r+"contactPerson/amendGroup.html"+s}).state("user.contactGroup",{url:"/contactGroup",title:"联系人"+i,controller:"contactGroupCtrl",templateUrl:r+"contactPerson/contactGroup.html"+s}).state("user.addGroup",{url:"/addGroup",title:"联系人"+i,controller:"addGroupCtrl",templateUrl:r+"contactPerson/addGroup.html"+s}).state("user.baseinfo",{url:"/baseinfo",templateUrl:r+"baseInfo/baseInfo.html"+s,title:"基础信息"+i,controller:"baseInfoCtrl"}).state("user.caInfo",{url:"/caInfo",templateUrl:r+"baseInfo/caInfo.html"+s,title:"CA证书"+i,controller:"caInfoCtrl"}).state("user.question",{url:"/question",templateUrl:r+"question/questionlist.html"+s,title:"问题反馈"+i,controller:"quesCtrl"}).state("user.demo",{url:"/demo",templateUrl:r+"demo.html"+s,title:"Test"+i,controller:"demoCtrl"}).state("user.authorization",{url:"/authorization",templateUrl:r+"baseInfo/authorization.html"+s,title:"第三方授权"+i,controller:"authorizationCtrl"}).state("user.authorizationRepresentative",{url:"/authorizationRepresentative",templateUrl:r+"baseInfo/authorizationRepresentative.html"+s,title:"授权代表人"+i,controller:"authorizationRepresentativeCtrl"}).state("user.addAuRep",{url:"/addAuRep/:step",templateUrl:r+"baseInfo/addAuRep.html"+s,title:"授权代表人"+i,controller:"addAuRepCtrl"}).state("user.myPackage",{url:"/myPackage",templateUrl:r+"myPackage/myPackage.html"+s,title:"我的套餐"+i,controller:"myPackageCtrl"}).state("user.packageList",{url:"/packageList",templateUrl:r+"myPackage/packageList.html"+s,title:"我的套餐"+i,controller:"packageListCtrl"}).state("user.gotoPay",{url:"/gotoPay/:id",templateUrl:r+"myPackage/gotoPay.html"+s,title:"我的套餐"+i,controller:"gotoPayCtrl"}).state("user.applyInvoice",{url:"/applyInvoice",templateUrl:r+"myPackage/applyInvoice.html"+s,title:"申请发票"+i,controller:"applyInvoiceCtrl"}).state("user.mySignature",{url:"/mySignature",templateUrl:r+"signature/mySignature.html"+s,title:"签名管理"+i,controller:"mySignatureCtrl"}).state("user.addSignature",{url:"/addSignature",templateUrl:r+"signature/addSignature.html"+s,title:"签名管理"+i,controller:"addSignatureCtrl"}).state("user.customerList",{url:"/customerList",templateUrl:r+"customerCheck/customerList.html"+s,title:"客户资质审核"+i,controller:"customerCheckCtrl"}).state("user.customerDetail",{url:"/customerDetail/:id",templateUrl:r+"customerCheck/customerDetail.html"+s,title:"客户资质审核"+i,controller:"customerCheckCtrl"}).state("user.addCustomer",{url:"/addCustomer/:id",templateUrl:r+"customerCheck/addCustomer.html"+s,title:"客户资质审核"+i,controller:"customerCheckCtrl"}),n.interceptors.push("loadingMarker")}])}),require.config({baseUrl:"webs/js/",paths:{zepto:"base/zepto.min",ShaMd5:"base/md5",angular:"base/angular.min","angular-ui-router":"base/angular-ui-router.min","angular-async-loader":"base/angular-async-loader.min","angular-sanitize":"base/angular-sanitize.min",swfobject:"widgets/swfobject_a",scriptcam:"widgets/webcam/scriptcam.min",pdfobject:"widgets/pdfobject","angular-file-upload":"base/angular-file-upload.min",data:"base/data","ctrl-init":"controllers/init",ctrls:"controllers/loading","serv-init":"services/init",servs:"services/loading","direc-init":"directives/init",direc:"directives/loading","filt-init":"filter/init",filt:"filter/loading"},shim:{angular:{exports:"angular"},"angular-ui-router":{deps:["angular"]},"angular-sanitize":{deps:["angular"]},"angular-file-upload":{deps:["angular"]},data:{deps:["zepto"]},scriptcam:{deps:["zepto"]}},waitSeconds:30,urlArgs:"bust="+(new Date).getTime()}),require(["angular","./router"],function(){angular.element(document).ready(function(){angular.bootstrap(document,["app"]),angular.element(document).find("html").addClass("ng-app")})}),define("main",function(){});